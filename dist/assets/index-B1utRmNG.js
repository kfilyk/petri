var qu=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var Pv=qu((Ov,er)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))h(v);new MutationObserver(v=>{for(const x of v)if(x.type==="childList")for(const M of x.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&h(M)}).observe(document,{childList:!0,subtree:!0});function l(v){const x={};return v.integrity&&(x.integrity=v.integrity),v.referrerPolicy&&(x.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?x.credentials="include":v.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function h(v){if(v.ep)return;v.ep=!0;const x=l(v);fetch(v.href,x)}})();const es=1,ca=20,Dt=30,ce=35,Ct=2,vt=1e3,gt=1e3,ts=25,Mi=vt/ts*(gt/ts),ba=1e3,cs=3,Xu=600,Zu=1e3,va=6.283185,we=.0174533,ga="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function N(i){return i+(i<0?-.5:.5)|0}function he(i){return i>0?i:-i}function Pt(i,n,l){return"#"+((1<<24)+(i<<16)+(n<<8)+l).toString(16).slice(1)}function Ku(i){let n="";for(let l=0;l<4;l++)n+=i.charAt(N(Math.random()*25));return n}class Ju{tiles=new Array(Mi);animals=new Array(ba);graveyard=[];HIGHESTINDEX=-1;gold=null;silver=null;bronze=null;highlighted=null;following=null;newest=null;display=0;scoreType=0;pause=!1;accelerate=0;ctx={map:null,stats:null};mouse={x:0,y:0,originalX:0,originalY:0,prevX:0,prevY:0,overMap:!1,overConsole:!1,leftPressed:!1,rightPressed:!1};canvas={scale:1,dragOffsetX:0,dragOffsetY:0,dragging:!1};stats={time:0,livePop:0,netParents:0,netLifespan:0,globalNetNRG:0,aveChildren:0,aveLifespan:0,avePosNRG:0,maxAveChildren:1,maxAveLifespan:1,maxAvePosNRG:1,redAgarOnMap:0,greenAgarOnMap:0,blueAgarOnMap:0,mutationRate:0,mitosis:0,netEatenRatio:0};history={aveChildren:[],aveLifespan:[],avePosNRG:[]};keysPressed={};leftAccel=0;rightAccel=0;upAccel=0;downAccel=0;requestId=0;scores=new Array(cs);resetStats(){this.stats.time=0,this.stats.netLifespan=0,this.stats.globalNetNRG=0,this.stats.aveChildren=0,this.stats.aveLifespan=0,this.stats.avePosNRG=0,this.stats.maxAveChildren=1,this.stats.maxAveLifespan=1,this.stats.maxAvePosNRG=1,this.stats.livePop=0,this.HIGHESTINDEX=0;for(let n=0;n<this.animals.length;n++){const l=this.animals[n];l!=null&&l.alive&&(this.stats.livePop++,this.HIGHESTINDEX=n)}this.history.aveChildren=[],this.history.aveLifespan=[],this.history.avePosNRG=[]}}const y=new Ju;class $a{weights1=new Float32Array(0);weights2=new Float32Array(0);in=0;out=0;weight1Deltas1;weight2Deltas1;weight1Deltas2;weight2Deltas2;weight1Deltas3;weight2Deltas3;init(n,l){this.weights1=new Float32Array(n).fill(0),this.weights2=new Float32Array(n).fill(0);for(let h=0;h<l;h++)this.weights1[h]=Math.random()+Math.random()-1,this.weights2[h]=Math.random()+Math.random()-1}clamp(){this.out=this.in>1?1:this.in<-1?-1:this.in}synapse(n){return this.in>0?this.in*this.weights1[n]:this.in*this.weights2[n]}tanh(){this.out=(Math.exp(2*this.in)-1)/(Math.exp(2*this.in)+1)}}class as{x;y;tile=null;r=0;g=0;b=0;s=0;sees=0;constructor(n,l){this.x=n,this.y=l}move(n,l,h,v,x){const M=Math.atan(v/(x+.001))/we,D=Math.sqrt(v**2+x**2),P=v<0?M+180:M;this.x=l+D*Math.cos(we*(P+n)),this.y=h+D*Math.sin(we*(P+n))}sense(){if(this.sees=-1,this.s=0,this.x>=0&&this.y>=0&&this.x<vt&&this.y<gt){this.tile=~~(this.y/25)*40+~~(this.x/25);const n=y.tiles[this.tile];this.r=n.R/150,this.g=n.G/200,this.b=n.B/100}else this.tile=null,this.r=-1,this.g=-1,this.b=-1,this.s=-1}}class rs{x;y;tile=null;r=0;g=0;b=0;s=0;sees=0;constructor(n,l){this.x=n,this.y=l}move(n,l,h,v,x){const M=Math.atan(v/(x+.001))/we,D=Math.sqrt(v**2+x**2),P=v<0?M+180:M;this.x=l+D*Math.cos(we*(P+n)),this.y=h+D*Math.sin(we*(P+n))}sense(){if(this.sees=-1,this.s=0,this.x>=0&&this.y>=0&&this.x<vt&&this.y<gt){this.tile=~~(this.y/25)*40+~~(this.x/25);const n=y.tiles[this.tile];this.r=n.R/150,this.g=n.G/200,this.b=n.B/100}else this.tile=null,this.r=-1,this.g=-1,this.b=-1,this.s=-1}}class sr{index;x;y;alive=!0;tile=null;size=es;health=0;gen=0;parent=null;sibling_idx=null;children=[];descendants=0;proGenes=0;conGenes=0;name;velocity=0;rotation=0;direction;eyes;mouth;eaten=0;redEaten=.003;greenEaten=.003;blueEaten=.003;netEaten=1;inputs;outputs;energy;maxEnergy;energyChange=0;totalEnergyGain=0;damage=0;damageReceived=0;damageCaused=0;cols=new Uint8ClampedArray(9);lr=0;brain=[];constructor(n,l,h){this.index=h,this.x=n,this.y=l,this.name=Ku(ga),this.direction=N(Math.random()*360),this.eyes=new Array(5);for(let v=0;v<5;v++)this.eyes[v]=new as(this.x,this.y);this.mouth=new rs(this.x,this.y),this.inputs=new Array(Dt),this.outputs=new Array(ce);for(let v=0;v<Dt;v++)this.inputs[v]=new $a,this.inputs[v].init(ce,8);for(let v=0;v<ce;v++)this.outputs[v]=new $a,this.outputs[v].init(ce,0);this.energy=es*1e3,this.maxEnergy=this.energy}sense(){const n=this.size;this.mouth.sense();for(let l=0;l<5;l++)this.eyes[l].sense();for(let l=0;l<=y.HIGHESTINDEX;l++)if(y.animals[l].alive&&l!==this.index){const h=y.animals[l];this.mouth.sees===-1&&he(this.mouth.x-h.x)<=h.size/2+n/4&&he(this.mouth.y-h.y)<=h.size/2+n/4&&(this.mouth.s=2*h.size/ca-1,this.mouth.r=h.outputs[3].out,this.mouth.g=h.outputs[4].out,this.mouth.b=h.outputs[5].out,this.mouth.sees=l);for(let v=0;v<5;v++)this.eyes[v].sees===-1&&he(this.eyes[v].x-h.x)<=n/4+h.size/2&&he(this.eyes[v].y-h.y)<=n/4+h.size/2&&(this.eyes[v].s=2*h.size/ca-1,this.eyes[v].r=h.outputs[3].out,this.eyes[v].g=h.outputs[4].out,this.eyes[v].b=h.outputs[5].out,this.eyes[v].sees=l)}}move(){this.velocity=this.outputs[0].out*5/(1+this.damage/this.size),this.rotation=this.outputs[1].out*45/(1+this.damage/this.size),this.direction+=this.rotation,this.direction<0?this.direction+=360:this.direction>359&&(this.direction-=360),this.x+=this.velocity*Math.cos(this.direction*we),this.y+=this.velocity*Math.sin(this.direction*we),(this.x<0||this.x>=vt)&&(this.x=this.x<0?0:vt-1,this.velocity=0),(this.y<0||this.y>=gt)&&(this.y=this.y<0?0:gt-1,this.velocity=0);let n=~~(this.y/25)*40+~~(this.x/25);n>=1600?this.tile=1599:n<0&&(this.tile=0),this.tile=n,this.mouth.move(this.direction,this.x,this.y,this.outputs[8].out*2*this.size,this.outputs[9].out*2*this.size);for(let l=0;l<5;l++)this.eyes[l].move(this.direction,this.x,this.y,this.outputs[l*2+10].out*5*this.size,this.outputs[l*2+11].out*5*this.size)}eat(){const n=this.size;this.eaten=0;let l=0,h=0,v=0;if(this.mouth.sees!==-1){const x=y.animals[this.mouth.sees];x.alive&&(l=this.outputs[3].out>0?0:-this.outputs[3].out*(he(x.outputs[3].out)+1)*n*Ct,h=this.outputs[4].out>0?0:-this.outputs[4].out*(he(x.outputs[4].out)+1)*n*Ct,v=this.outputs[5].out>0?0:-this.outputs[5].out*(he(x.outputs[5].out)+1)*n*Ct,this.redEaten+=l,this.greenEaten+=h,this.blueEaten+=v,this.eaten=l+h+v,this.netEaten+=this.eaten,x.damage+=this.eaten,x.damageReceived+=this.eaten,this.damageCaused+=this.eaten)}else if(this.mouth.tile!==null){const x=this.mouth.tile,M=y.tiles[x];l=this.outputs[3].out<0?0:this.outputs[3].out*n*Ct,h=this.outputs[4].out<0?0:this.outputs[4].out*n*Ct,v=this.outputs[5].out<0?0:this.outputs[5].out*n*Ct,M.R>-M.RCap&&(M.R-=l/1.5),M.G>-M.GCap&&(M.G-=h),M.B>-M.BCap&&(M.B-=v/2),l*=M.R/M.RCap,h*=M.G/M.GCap,v*=M.B/M.BCap,l>0&&(this.redEaten+=l),h>0&&(this.greenEaten+=h),v>0&&(this.blueEaten+=v),this.netEaten+=he(l)+he(h)+he(v),this.eaten=l+h+v}else this.eaten=-1}draw(n){const l=y.ctx.map;if(l){n[0]=50+N(he(this.outputs[3].out)*205),n[1]=50+N(he(this.outputs[4].out)*205),n[2]=50+N(he(this.outputs[5].out)*205),n[3]=n[0]+40,n[4]=n[1]+40,n[5]=n[2]+40,n[6]=n[0]+80,n[7]=n[1]+80,n[8]=n[2]+80,l.fillStyle=Pt(n[6],n[7],n[8]);for(let h=0;h<5;h++)l.beginPath(),l.arc(this.eyes[h].x,this.eyes[h].y,this.size/8,0,va),l.fill();l.fillStyle=Pt(n[0],n[1],n[2]),l.beginPath(),l.arc(this.x,this.y,this.size/2,0,va),l.fill(),l.fillStyle=Pt(n[3],n[4],n[5]),l.beginPath(),l.arc(this.mouth.x,this.mouth.y,this.size/4,0,va),l.fill(),y.mouse.overMap&&y.mouse.x>=this.x-50&&y.mouse.x<this.x+50&&y.mouse.y>=this.y-50&&y.mouse.y<this.y+50&&y.highlighted!==this.index&&(l.fillStyle="#FFFFFF",l.fillText(this.name+"-"+this.gen+(this.alive?"A":"D")+this.children.length,this.x+2*this.size,this.y-2*this.size+2))}}decay(){const n=he(this.outputs[0].out)+he(this.outputs[1].out)+he(this.outputs[3].out)+he(this.outputs[4].out)+he(this.outputs[5].out);if(y.stats.livePop>100?this.energyChange=this.eaten-this.damage-n:y.stats.livePop>50?this.energyChange=this.eaten-this.damage-n/2:this.energyChange=this.eaten-this.damage-n/4,this.energy+=this.energyChange,this.energyChange>0&&(this.totalEnergyGain+=this.energyChange),this.energy>this.maxEnergy&&(this.maxEnergy=this.energy),y.stats.aveChildren+=this.children.length/y.stats.livePop,this.health=(this.energy-this.maxEnergy/2)/(this.maxEnergy/2),this.energy<=0){if(this.alive=!1,y.stats.livePop--,this.index===y.HIGHESTINDEX){let h=this.index;for(;h>-1&&!y.animals[h].alive;)h--;y.HIGHESTINDEX=h}const l=this.clone();if(l.index=-(y.graveyard.length+1),this.parent!==null){this.parent<0?y.graveyard[-(this.parent+1)].children[this.sibling_idx]=l.index:y.animals[this.parent].children[this.sibling_idx]=l.index;let h=this.parent;for(;h!==null;)h>=0?(y.animals[h].descendants--,h=y.animals[h].parent):(y.graveyard[-(h+1)].descendants--,h=y.graveyard[-(h+1)].parent)}for(let h=0;h<this.children.length;h++)this.children[h]<0?y.graveyard[-(this.children[h]+1)].parent=l.index:y.animals[this.children[h]].parent=l.index;y.highlighted===this.index&&(y.highlighted=l.index),y.newest===this.index&&(y.newest=l.index),y.stats.globalNetNRG+=this.totalEnergyGain,y.graveyard.push(l),this.updateLiveInfoDisplay()}}grow(){if(this.size=N(this.energy/100)/10,this.size>ca?this.size=ca:this.size<1&&(this.size=1),this.energy>(this.outputs[6].out+1)*18e3+2e3&&y.stats.livePop<ba){let n=0;for(;y.animals[n]!=null&&y.animals[n].alive;)n++;n>y.HIGHESTINDEX&&(y.HIGHESTINDEX=n),this.size=N(this.size*10/2)/10,this.energy/=2;const l=this.clone();l.mitosis(this),this.descendants++,this.children.push(n),l.index=n,y.animals[n]=l,y.newest=n,y.stats.livePop++;let h=this.parent;for(;h!==null;)h>=0?(y.animals[h].descendants++,h=y.animals[h].parent):(y.graveyard[-(h+1)].descendants++,h=y.graveyard[-(h+1)].parent)}}think(){let n=0;this.inputs[n++].in=this.velocity/10,this.inputs[n++].in=this.rotation/90,this.inputs[n++].in=this.eaten/(this.size*Ct*6),this.inputs[n++].in=2*this.size/ca-1,this.inputs[n++].in=this.energyChange/(this.size*10),this.inputs[n++].in=this.mouth.r,this.inputs[n++].in=this.mouth.g,this.inputs[n++].in=this.mouth.b,this.inputs[n++].in=this.mouth.s;for(let h=0;h<5;h++)this.inputs[n++].in=this.eyes[h].r,this.inputs[n++].in=this.eyes[h].g,this.inputs[n++].in=this.eyes[h].b,this.inputs[n++].in=this.eyes[h].s;let l=0;for(let h=0;h<ce;h++){for(let v=0;v<Dt;v++)l+=this.inputs[v].synapse(h);for(let v=0;v<ce;v++)v!==h&&(l+=this.outputs[v].synapse(h));this.outputs[h].in=l,l=0}n=0,this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp(),this.outputs[n++].clamp();for(let h=0;h<5;h++)this.outputs[n++].clamp(),this.outputs[n++].clamp()}mitosis(n){this.descendants=0,this.children=[],this.gen=n.gen+1,this.parent=n.index,this.sibling_idx=n.children.length,this.name=n.name,this.maxEnergy=n.energy,this.redEaten=.003,this.greenEaten=.003,this.blueEaten=.003,this.netEaten=.01,this.damage=0,this.damageCaused=0,this.damageReceived=0,N(Math.random()*2)===2&&(N(Math.random()*2)===2?N(Math.random()*2)===2?N(Math.random()*2)===2?this.name=ga.charAt(N(Math.random()*25))+this.name.charAt(1)+this.name.charAt(2)+this.name.charAt(3):this.name=this.name.charAt(0)+ga.charAt(N(Math.random()*25))+this.name.charAt(2)+this.name.charAt(3):this.name=this.name.charAt(0)+this.name.charAt(1)+ga.charAt(N(Math.random()*25))+this.name.charAt(3):this.name=this.name.charAt(0)+this.name.charAt(1)+this.name.charAt(2)+ga.charAt(N(Math.random()*25)));const l=.1;y.stats.mitosis+=1,y.stats.mutationRate+=l;const h=this.getDescendants(this.parent,this.parent),v=[];for(let M=0;M<h.length;M++){const D=h[M],P=D>=0?y.animals[D]:y.graveyard[-(D+1)];P.children.length>0&&v.push(this.getWeightDeltas(P,n))}for(let M=0;M<Dt;M++)for(let D=0;D<ce;D++)this.inputs[M].weights1[D]+=(2*Math.random()-1-this.inputs[M].weights1[D])*l,this.inputs[M].weights2[D]+=(2*Math.random()-1-this.inputs[M].weights2[D])*l;for(let M=0;M<ce;M++)for(let D=0;D<ce;D++)this.outputs[M].weights1[D]+=(2*Math.random()-1-this.outputs[M].weights1[D])*l,this.outputs[M].weights2[D]+=(2*Math.random()-1-this.outputs[M].weights2[D])*l;const x=v.length;for(let M=0;M<x;M++){const D=v[M];for(let P=0;P<Dt;P++)for(let A=0;A<ce;A++)this.inputs[P].weights1[A]+=D.in_weights1_deltas[P][A]/x,this.inputs[P].weights2[A]+=D.in_weights2_deltas[P][A]/x;for(let P=0;P<ce;P++)for(let A=0;A<ce;A++)this.outputs[P].weights1[A]+=D.out_weights1_deltas[P][A]/x,this.outputs[P].weights2[A]+=D.out_weights2_deltas[P][A]/x}this.updateLiveInfoDisplay()}getDescendants(n,l){let h=[];const v=n>=0?y.animals[n]:y.graveyard[-(n+1)];for(let x=0;x<v.children.length;x++)h=h.concat(this.getDescendants(v.children[x],l));return n!==l&&h.push(n),h}getWeightDeltas(n,l){const h=[],v=[],x=[],M=[];for(let D=0;D<Dt;D++){const P=[],A=[];for(let B=0;B<ce;B++)P[B]=n.inputs[D].weights1[B]-l.inputs[D].weights1[B],A[B]=n.inputs[D].weights2[B]-l.inputs[D].weights2[B];h.push(P),v.push(A)}for(let D=0;D<ce;D++){const P=[],A=[];for(let B=0;B<ce;B++)P[B]=n.outputs[D].weights1[B]-l.outputs[D].weights1[B],A[B]=n.outputs[D].weights2[B]-l.outputs[D].weights2[B];x.push(P),M.push(A)}return{in_weights1_deltas:h,in_weights2_deltas:v,out_weights1_deltas:x,out_weights2_deltas:M}}kill(){this.alive&&(this.energy=-1)}reincarnate(){if(!this.alive&&y.stats.livePop<ba){let n=0;for(;y.animals[n]!=null&&y.animals[n].alive;)n++;n>y.HIGHESTINDEX&&(y.HIGHESTINDEX=n);const l=this.clone();this.descendants++,this.children.push(n),y.animals[n]=l,y.newest=n,y.stats.livePop++;let h=this.parent;for(;h!==null;)h>=0?(y.animals[h].descendants++,h=y.animals[h].parent):(y.graveyard[-(h+1)].descendants++,h=y.graveyard[-(h+1)].parent);y.highlighted=l.index}}highlight(){const n=y.ctx.map;if(!n)return;this.alive||this.draw(this.cols);const l=this.size;n.beginPath(),n.fillStyle="#FFFFFF",n.strokeStyle="#FFFFFF",n.strokeRect(this.x-2*l,this.y-2*l,l*4,l*4),n.beginPath(),n.strokeStyle="#FF0000";const h=this.x+this.outputs[0].out*10*Math.cos(this.direction*we),v=this.y+this.outputs[0].out*10*Math.sin(this.direction*we);n.moveTo(this.x,this.y),n.lineTo(h,v);let x,M;if(this.velocity>0?(x=h-this.outputs[1].out*10*Math.cos((this.direction-90)*we),M=v-this.outputs[1].out*10*Math.sin((this.direction-90)*we)):(x=h+this.outputs[1].out*10*Math.cos((this.direction-90)*we),M=v+this.outputs[1].out*10*Math.sin((this.direction-90)*we)),n.lineTo(x,M),n.stroke(),n.strokeStyle="#FFFFFF",y.mouse.overMap&&y.mouse.x>=this.x-50&&y.mouse.x<this.x+50&&y.mouse.y>=this.y-50&&y.mouse.y<this.y+50)for(let A=0;A<5;A++)n.beginPath(),n.arc(N(this.eyes[A].x),N(this.eyes[A].y),N(this.size/5),0,va),n.stroke();const D=this.x+2*l;let P=this.y-2*l;this.alive&&n.fillText(this.name+"-"+this.gen+(this.alive?"A":"D")+this.children.length,D,P+2),P+=10,y.display===0?this.updateMainStatsDisplay():y.display===1?(this.drawBrainSetup(),y.display=2):y.display===2&&this.drawBrainDisplay()}updateMainStatsDisplay(){const n=document.getElementById("stats-name");n&&(n.innerHTML=this.name+"-"+this.gen+(this.alive?"A":"D")+this.children.length);const l=document.getElementById("stats-idx");l&&(l.innerHTML="IDX: "+this.index);const h=document.getElementById("stats-parent");if(h)if(this.parent!==null)if(this.parent<0){const q=y.graveyard[-(this.parent+1)];h.innerHTML="PARENT: "+q.name+"-"+q.gen+"D"+q.children.length}else{const q=y.animals[this.parent];h.innerHTML="PARENT: "+q.name+"-"+q.gen+"A"+q.children.length}else h.innerHTML="";const v=document.getElementById("stats-sibling-idx");v&&this.sibling_idx!==null&&(v.innerHTML="SIBLING: "+this.sibling_idx);const x=document.getElementById("stats-descendants");x&&(x.innerHTML="DESCENDANTS: "+this.descendants);const M=N(5*this.energyChange/(this.size*10+5));let D="";if(M>0)for(let q=0;q<M;q++)D+="+";else for(let q=0;q<-M;q++)D+="-";const P=document.getElementById("stats-energy");P&&(P.innerHTML="NRG: "+N(this.energy)+"/"+N(this.maxEnergy)+"   "+D);const A=document.getElementById("stats-size");A&&(A.innerHTML="SIZE: "+this.size);const B=document.getElementById("stats-damage");B&&(B.innerHTML=N(this.damageReceived)+" >> DMG >> "+N(this.damageCaused));const oe=document.getElementById("stats-sensors");oe&&(oe.innerHTML=(this.mouth.sees===1?"M ":"")+(this.eyes[0].sees===1?"E1 ":"")+(this.eyes[1].sees===1?"E2 ":"")+(this.eyes[2].sees===1?"E3 ":"")+(this.eyes[3].sees===1?"E4 ":"")+(this.eyes[4].sees===1?"E5 ":"")),this.updateColorStat("stats-red","R",this.outputs[3].out),this.updateColorStat("stats-green","G",this.outputs[4].out),this.updateColorStat("stats-blue","B",this.outputs[5].out),this.updateColorStat("stats-velocity","VEL",this.outputs[0].out),this.updateColorStat("stats-rotation","ROT",this.outputs[1].out),this.updateColorStat("stats-mutation","MUT",this.outputs[6].out)}updateColorStat(n,l,h){const v=N(h*5);let x=l;if(v>0)for(let D=0;D<v;D++)x+="+";else for(let D=0;D<-v;D++)x+="-";const M=document.getElementById(n);M&&(M.innerHTML=x)}drawBrainSetup(){const n=y.ctx.stats;if(!n)return;n.beginPath(),n.fillStyle="#808080",n.fillRect(0,0,Xu,Zu),n.fillStyle="#A0A0A0",n.fillRect(0,0,10,10),n.fillStyle="#606060",n.fillText("X",1,9),n.fillStyle=Pt(N(255*this.redEaten/this.netEaten),N(255*this.greenEaten/this.netEaten),N(255*this.blueEaten/this.netEaten)),n.arc(40,40,25,0,va),n.fill(),n.fillStyle="#FFFFFF";const l=22;let h=5,v=80;n.fillStyle="#FFFFFF",(this.redEaten/this.netEaten>.5||this.greenEaten/this.netEaten>.5||this.blueEaten/this.netEaten>.5)&&(n.fillStyle="#000000"),n.beginPath(),n.fillText("FOOD",h,v+=l),n.fillText("ECHG",h,v+=l),n.fillText("MR",h,v+=l),n.fillText("MG",h,v+=l),n.fillText("MB",h,v+=l),n.fillText("MSEN",h,v+=l),n.fillText("HLTH",h,v+=l),n.fillText("SIZE",h,v+=l),n.fillText("VEL",h,v+=l);for(let x=0;x<5;x++)n.fillText("E"+(x+1)+"R",h,v+=l),n.fillText("E"+(x+1)+"G",h,v+=l),n.fillText("E"+(x+1)+"B",h,v+=l),n.fillText("E"+(x+1)+"SEN",h,v+=l)}drawBrainDisplay(){const n=y.ctx.stats;if(!n)return;let l=10,h=10;if(n.fillStyle="#FFFFFF",(this.redEaten/this.netEaten>.5||this.greenEaten/this.netEaten>.5||this.blueEaten/this.netEaten>.5)&&(n.fillStyle="#000000"),this.alive?n.fillText(this.name+"-"+this.gen+"A"+this.children.length,l,h+=10):n.fillText(this.name+"-"+this.gen+"D"+this.children.length,l,h+=10),this.parent!==null)if(this.parent<0){const v=y.graveyard[-(this.parent+1)];n.fillText("PAR: "+v.name+"D"+v.children.length,l,h+=10)}else{const v=y.animals[this.parent];n.fillText("PAR: "+v.name+"A"+v.children.length,l,h+=10)}n.fillText("NRG: "+N(100*this.energy)/100,l,h+=10)}clone(){const n=new sr(this.x,this.y,this.index);n.alive=this.alive,n.tile=this.tile,n.size=this.size,n.health=this.health,n.gen=this.gen,n.parent=this.parent,n.sibling_idx=this.sibling_idx,n.children=[...this.children],n.descendants=this.descendants,n.proGenes=this.proGenes,n.conGenes=this.conGenes,n.name=this.name,n.velocity=this.velocity,n.rotation=this.rotation,n.direction=this.direction,n.eaten=this.eaten,n.redEaten=this.redEaten,n.greenEaten=this.greenEaten,n.blueEaten=this.blueEaten,n.netEaten=this.netEaten,n.energy=this.energy,n.maxEnergy=this.maxEnergy,n.energyChange=this.energyChange,n.totalEnergyGain=this.totalEnergyGain,n.damage=this.damage,n.damageReceived=this.damageReceived,n.damageCaused=this.damageCaused,n.lr=this.lr;for(let l=0;l<5;l++)n.eyes[l]=new as(this.eyes[l].x,this.eyes[l].y),n.eyes[l].tile=this.eyes[l].tile,n.eyes[l].r=this.eyes[l].r,n.eyes[l].g=this.eyes[l].g,n.eyes[l].b=this.eyes[l].b,n.eyes[l].s=this.eyes[l].s,n.eyes[l].sees=this.eyes[l].sees;n.mouth=new rs(this.mouth.x,this.mouth.y),n.mouth.tile=this.mouth.tile,n.mouth.r=this.mouth.r,n.mouth.g=this.mouth.g,n.mouth.b=this.mouth.b,n.mouth.s=this.mouth.s,n.mouth.sees=this.mouth.sees;for(let l=0;l<Dt;l++)n.inputs[l]=new $a,n.inputs[l].weights1=new Float32Array(this.inputs[l].weights1),n.inputs[l].weights2=new Float32Array(this.inputs[l].weights2),n.inputs[l].in=this.inputs[l].in,n.inputs[l].out=this.inputs[l].out;for(let l=0;l<ce;l++)n.outputs[l]=new $a,n.outputs[l].weights1=new Float32Array(this.outputs[l].weights1),n.outputs[l].weights2=new Float32Array(this.outputs[l].weights2),n.outputs[l].in=this.outputs[l].in,n.outputs[l].out=this.outputs[l].out;return n.cols=new Uint8ClampedArray(this.cols),n}updateLiveInfoDisplay(){const n=document.getElementById("dash-live-info");n&&(n.innerHTML="LIVE: "+y.stats.livePop+"     DEAD: "+y.graveyard.length)}}class Qu{x;y;num;neighbors;regenRate;RCap;GCap;BCap;R;G;B;constructor(n,l,h,v){this.x=n,this.y=l,this.num=h,this.neighbors=v,this.regenRate=Math.random()*.1+.05,this.RCap=N(Math.random()*100)+50,this.GCap=N(Math.random()*100)+100,this.BCap=N(Math.random()*75)+25,this.R=this.RCap,this.G=this.GCap,this.B=this.BCap}draw(n,l,h,v,x){n.fillStyle=Pt(this.R<50?50:N(this.R),this.G<50?50:N(this.G),this.B<50?50:N(this.B)),n.fillRect(this.x,this.y,25,25),l&&h>this.x-25&&h<this.x+50&&v>this.y-25&&v<this.y+50&&(x?h>this.x&&h<this.x+25&&v>this.y&&v<this.y+25&&(n.fillStyle=Pt(this.R-30<0?0:N(this.R)-30,this.G-30<0?0:N(this.G)-30,this.B-30<0?0:N(this.B)-30),n.fillText(N(this.R).toString(),this.x,this.y+8),n.fillText(N(this.G).toString(),this.x,this.y+16),n.fillText(N(this.B).toString(),this.x,this.y+25)):(n.fillStyle=Pt(this.R-30<0?0:N(this.R)-30,this.G-30<0?0:N(this.G)-30,this.B-30<0?0:N(this.B)-30),n.fillText(this.num.toString(),this.x,this.y+25)))}regenerate(){this.R<this.RCap&&(this.R+=this.regenRate),this.G<this.GCap&&(this.G+=this.regenRate),this.B<this.BCap&&(this.B+=this.regenRate)}}const ki={generate(){const i=[];let n=0;for(let P=0;P<gt;P+=25)for(let A=0;A<vt;A+=25)n>=40&&i.push(n-40),n<1560&&i.push(n+40),n%40!==0&&i.push(n-1),(n+1)%40!==0&&i.push(n+1),y.tiles[n]=new Qu(A,P,n,[...i]),n++,i.length=0;const l=100,h=100,v=75,x=50,M=100,D=25;for(let P=0;P<8;P++){let A=255,B=255,oe=255,q=0,Zt=0,Kt=0;for(let Ne=0;Ne<n;Ne++){const Y=y.tiles[Ne];let Ta=Y.RCap,Pa=Y.GCap,Aa=Y.BCap;for(let mt=0;mt<Y.neighbors.length;mt++)Ta+=y.tiles[Y.neighbors[mt]].RCap,Pa+=y.tiles[Y.neighbors[mt]].GCap,Aa+=y.tiles[Y.neighbors[mt]].BCap;Y.RCap=Ta/(Y.neighbors.length+1),Y.GCap=Pa/(Y.neighbors.length+1),Y.BCap=Aa/(Y.neighbors.length+1),Y.R=Y.RCap,Y.G=Y.GCap,Y.B=Y.BCap,Y.RCap<A&&(A=Y.RCap),Y.GCap<B&&(B=Y.GCap),Y.BCap<oe&&(oe=Y.BCap),Y.RCap>q&&(q=Y.RCap),Y.GCap>Zt&&(Zt=Y.GCap),Y.BCap>Kt&&(Kt=Y.BCap)}const yr=q-A,br=Zt-B,Jt=Kt-oe,Me=l/yr,Qt=h/br,ea=v/Jt;for(let Ne=0;Ne<n;Ne++){const Y=y.tiles[Ne];Y.RCap=(Y.RCap-A)*Me+x,Y.GCap=(Y.GCap-B)*Qt+M,Y.BCap=(Y.BCap-oe)*ea+D,Y.R=Y.RCap,Y.G=Y.GCap,Y.B=Y.BCap}}},update(){const i=y.ctx.map;if(i){i.clearRect(-100,-100,1200,100),i.clearRect(-100,gt,1200,100),i.clearRect(-100,0,100,1e3),i.clearRect(vt,0,100,1e3);for(let n=0;n<Mi;n++)y.tiles[n].draw(i,y.mouse.overMap,y.mouse.x,y.mouse.y,y.mouse.leftPressed),y.pause||y.tiles[n].regenerate()}}};let ii=null,ni=null,si=null,oi=null,li=null;function ed(){ii=document.getElementById("dash-gold"),ni=document.getElementById("dash-silver"),si=document.getElementById("dash-bronze"),oi=document.getElementById("dashboard-stats"),li=document.getElementById("dash-highlighted")}const td={update(){if(!y.pause){y.gold=null,y.silver=null,y.bronze=null;for(let i=0;i<=y.HIGHESTINDEX;i++){const n=y.animals[i];n.alive&&(n.decay(),n.alive&&(n.move(),n.damage=0,n.sense(),y.gold===null||n.descendants>y.animals[y.gold].descendants?y.gold=i:y.silver===null||n.descendants>y.animals[y.silver].descendants?y.silver=i:(y.bronze===null||n.descendants>y.animals[y.bronze].descendants)&&(y.bronze=i)))}if(y.gold!==null&&ii){const i=y.animals[y.gold];ii.innerHTML=i.name+"-"+i.gen+"A"+i.children.length}if(y.silver!==null&&ni){const i=y.animals[y.silver];ni.innerHTML=i.name+"-"+i.gen+"A"+i.children.length}if(y.bronze!==null&&si){const i=y.animals[y.bronze];si.innerHTML=i.name+"-"+i.gen+"A"+i.children.length}}for(let i=0;i<=y.HIGHESTINDEX;i++){const n=y.animals[i];if(n.alive&&(n.draw(n.cols),y.pause||(n.think(),n.eat(),n.grow()),y.mouse.leftPressed&&y.mouse.overMap)){const l=y.mouse.x,h=y.mouse.y;Math.abs(n.x-l)<=n.size+1&&Math.abs(n.y-h)<=n.size+1&&(y.highlighted!==null&&y.display===2&&(y.display=1),y.highlighted!==i&&(y.highlighted=i,console.log(y.animals[i]),oi&&(oi.style.display="block"),li&&(li.innerHTML="HIGHLIGHTED: "+y.animals[y.highlighted].name+"-"+y.animals[y.highlighted].gen+"A"+y.animals[y.highlighted].children.length),y.mouse.leftPressed=!1))}}}};let ui=null,di=null;function ad(i,n){ui=i,di=n}function is(i,n,l){i.data.labels&&i.data.labels.push(n);let h=0;i.data.datasets.forEach(v=>{v.data.push(l[h]),h++}),i.update()}function ns(i){i.data.labels=[],i.data.datasets.forEach(n=>{n.data=[]}),i.update()}const rd={update(){if(y.history.aveChildren.push(y.stats.aveChildren),y.stats.aveChildren>y.stats.maxAveChildren&&(y.stats.maxAveChildren=y.stats.aveChildren),y.stats.aveChildren=0,y.history.aveLifespan.push(y.stats.aveLifespan),y.history.avePosNRG.push(y.stats.avePosNRG),y.stats.livePop!==0){for(let i=0;i<=y.HIGHESTINDEX;i++){const n=y.animals[i];n.alive&&(y.stats.netEatenRatio+=(n.redEaten+n.greenEaten+n.blueEaten)/n.netEaten)}y.stats.netEatenRatio/=y.stats.livePop}else y.stats.netEatenRatio=0;for(let i=0;i<Mi;i++)y.pause||(y.stats.redAgarOnMap+=y.tiles[i].R,y.stats.greenAgarOnMap+=y.tiles[i].G,y.stats.blueAgarOnMap+=y.tiles[i].B);ui&&is(ui,y.stats.time/100,[y.stats.redAgarOnMap,y.stats.greenAgarOnMap,y.stats.blueAgarOnMap,y.stats.livePop]),di&&is(di,y.stats.time/100,[y.stats.mutationRate/y.stats.mitosis,y.stats.netEatenRatio]),y.stats.mutationRate=0,y.stats.mitosis=0,y.stats.netEatenRatio=0,y.stats.redAgarOnMap=0,y.stats.greenAgarOnMap=0,y.stats.blueAgarOnMap=0,y.stats.aveLifespan>y.stats.maxAveLifespan&&(y.stats.maxAveLifespan=y.stats.aveLifespan),y.stats.avePosNRG>y.stats.maxAvePosNRG&&(y.stats.maxAvePosNRG=y.stats.avePosNRG)}};let hi=null;function id(){hi=document.getElementById("dash-live-info")}const nd={update(){const i=y.ctx.map;if(i){if(y.mouse.overMap)if(y.mouse.rightPressed){if(y.stats.livePop<ba){let n=0;for(;y.animals[n]!=null&&y.animals[n].alive;)n++;y.animals[n]=new sr(N(y.mouse.x),N(y.mouse.y),n),y.newest=n,y.stats.livePop++,n>y.HIGHESTINDEX&&(y.HIGHESTINDEX=n),hi&&(hi.innerHTML="LIVE: "+y.stats.livePop+"     DEAD: "+y.graveyard.length)}y.mouse.rightPressed=!1}else if(y.mouse.leftPressed){if(!y.canvas.dragging)y.canvas.dragging=!0;else{const n=y.mouse.x-y.mouse.prevX,l=y.mouse.y-y.mouse.prevY;i.translate(n,l),y.canvas.dragOffsetX+=n*y.canvas.scale,y.canvas.dragOffsetY+=l*y.canvas.scale}y.mouse.prevX=y.mouse.x,y.mouse.prevY=y.mouse.y}else y.canvas.dragging&&(y.canvas.dragging=!1,y.mouse.originalX+=y.canvas.dragOffsetX,y.mouse.originalY+=y.canvas.dragOffsetY,y.mouse.x+=y.canvas.dragOffsetX,y.mouse.y+=y.canvas.dragOffsetY,y.canvas.dragOffsetX=0,y.canvas.dragOffsetY=0);for(const n in y.keysPressed)(n==="a"||n==="ArrowLeft")&&y.keysPressed[n]&&(y.leftAccel+=2,y.mouse.x-=y.leftAccel,y.mouse.originalX+=y.leftAccel*y.canvas.scale,i.translate(y.leftAccel,0)),(n==="w"||n==="ArrowUp")&&y.keysPressed[n]&&(y.upAccel+=2,y.mouse.y-=y.upAccel,y.mouse.originalY+=y.upAccel*y.canvas.scale,i.translate(0,y.upAccel)),(n==="s"||n==="ArrowDown")&&y.keysPressed[n]&&(y.downAccel+=2,y.mouse.y+=y.downAccel,y.mouse.originalY-=y.downAccel*y.canvas.scale,i.translate(0,-y.downAccel)),(n==="d"||n==="ArrowRight")&&y.keysPressed[n]&&(y.rightAccel+=2,y.mouse.x+=y.rightAccel,y.mouse.originalX-=y.rightAccel*y.canvas.scale,i.translate(-y.rightAccel,0))}}};function sd(i,n){const l=n.getBoundingClientRect();let h=i.clientX/l.right*n.width,v=i.clientY/l.bottom*n.height;return h-=y.mouse.originalX,v-=y.mouse.originalY,h/=y.canvas.scale,v/=y.canvas.scale,{x:h,y:v}}function He(i,n,l){const h=sd(n,l);y.mouse.x=h.x,y.mouse.y=h.y,i==="down"&&(n.button===0?y.mouse.leftPressed=!0:n.button===2&&(y.mouse.rightPressed=!0)),(i==="up"||i==="out")&&(n.button===0?y.mouse.leftPressed=!1:n.button===2&&(y.mouse.rightPressed=!1))}function od(i,n){i.preventDefault();const l=y.ctx.map;if(!l)return;let h=i.wheelDelta||-i.deltaY;h>20?h=20:h<-20&&(h=-20);const v=1+h/400;y.mouse.originalX+=(y.mouse.x-y.mouse.x*v)*y.canvas.scale,y.mouse.originalY+=(y.mouse.y-y.mouse.y*v)*y.canvas.scale,l.translate(y.mouse.x,y.mouse.y),l.scale(v,v),l.translate(-y.mouse.x,-y.mouse.y);const x=n.getBoundingClientRect();let M=(i.clientX-x.left)/(x.right-x.left)*n.width,D=(i.clientY-x.top)/(x.bottom-x.top)*n.height;M-=y.mouse.originalX,D-=y.mouse.originalY,y.canvas.scale*=v,y.mouse.x=M/y.canvas.scale,y.mouse.y=D/y.canvas.scale}function ld(i,n){i.preventDefault(),y.keysPressed[i.key]=!0,i.keyCode===32&&n()}function ud(i){i.preventDefault(),y.keysPressed[i.key]=!1,i.key==="a"||i.key==="ArrowLeft"?y.leftAccel=0:i.key==="w"||i.key==="ArrowUp"?y.upAccel=0:i.key==="s"||i.key==="ArrowDown"?y.downAccel=0:(i.key==="d"||i.key==="ArrowRight")&&(y.rightAccel=0)}let Za=null,fi=null;function dd(){Za=document.getElementById("dash-newest"),fi=document.getElementById("dash-time")}const hd={setup(){},update(){if(y.newest!==null&&Za)if(y.newest<0){const i=y.graveyard[-(y.newest+1)];Za.innerHTML="NEW: "+i.name+"-"+i.gen+"D"+i.children.length}else{const i=y.animals[y.newest];Za.innerHTML="NEW: "+i.name+"-"+i.gen+"A"+i.children.length}fi&&(fi.innerHTML="TIME: "+y.stats.time),y.highlighted!==null&&(y.highlighted<0?y.graveyard[-(y.highlighted+1)].highlight():y.animals[y.highlighted].highlight())}};function fd(){y.accelerate=(y.accelerate+1)%13}var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function gd(i){if(i.__esModule)return i;var n=i.default;if(typeof n=="function"){var l=function h(){return this instanceof h?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};l.prototype=n.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(i).forEach(function(h){var v=Object.getOwnPropertyDescriptor(i,h);Object.defineProperty(l,h,v.get?v:{enumerable:!0,get:function(){return i[h]}})}),l}var vs={exports:{}};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var gs;function O(){return gs.apply(null,arguments)}function md(i){gs=i}function Ie(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function Ot(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function Z(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function Si(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var n;for(n in i)if(Z(i,n))return!1;return!0}function _e(i){return i===void 0}function it(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function ka(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function ms(i,n){var l=[],h,v=i.length;for(h=0;h<v;++h)l.push(n(i[h],h));return l}function ht(i,n){for(var l in n)Z(n,l)&&(i[l]=n[l]);return Z(n,"toString")&&(i.toString=n.toString),Z(n,"valueOf")&&(i.valueOf=n.valueOf),i}function Ue(i,n,l,h){return Ws(i,n,l,h,!0).utc()}function pd(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function H(i){return i._pf==null&&(i._pf=pd()),i._pf}var ci;Array.prototype.some?ci=Array.prototype.some:ci=function(i){var n=Object(this),l=n.length>>>0,h;for(h=0;h<l;h++)if(h in n&&i.call(this,n[h],h,n))return!0;return!1};function Di(i){var n=null,l=!1,h=i._d&&!isNaN(i._d.getTime());if(h&&(n=H(i),l=ci.call(n.parsedDateParts,function(v){return v!=null}),h=n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&l),i._strict&&(h=h&&n.charsLeftOver===0&&n.unusedTokens.length===0&&n.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=h;else return h;return i._isValid}function or(i){var n=Ue(NaN);return i!=null?ht(H(n),i):H(n).userInvalidated=!0,n}var ss=O.momentProperties=[],ei=!1;function Ci(i,n){var l,h,v,x=ss.length;if(_e(n._isAMomentObject)||(i._isAMomentObject=n._isAMomentObject),_e(n._i)||(i._i=n._i),_e(n._f)||(i._f=n._f),_e(n._l)||(i._l=n._l),_e(n._strict)||(i._strict=n._strict),_e(n._tzm)||(i._tzm=n._tzm),_e(n._isUTC)||(i._isUTC=n._isUTC),_e(n._offset)||(i._offset=n._offset),_e(n._pf)||(i._pf=H(n)),_e(n._locale)||(i._locale=n._locale),x>0)for(l=0;l<x;l++)h=ss[l],v=n[h],_e(v)||(i[h]=v);return i}function Sa(i){Ci(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ei===!1&&(ei=!0,O.updateOffset(this),ei=!1)}function Ee(i){return i instanceof Sa||i!=null&&i._isAMomentObject!=null}function ps(i){O.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function Oe(i,n){var l=!0;return ht(function(){if(O.deprecationHandler!=null&&O.deprecationHandler(null,i),l){var h=[],v,x,M,D=arguments.length;for(x=0;x<D;x++){if(v="",typeof arguments[x]=="object"){v+=`
[`+x+"] ";for(M in arguments[0])Z(arguments[0],M)&&(v+=M+": "+arguments[0][M]+", ");v=v.slice(0,-2)}else v=arguments[x];h.push(v)}ps(i+`
Arguments: `+Array.prototype.slice.call(h).join("")+`
`+new Error().stack),l=!1}return n.apply(this,arguments)},n)}var os={};function ys(i,n){O.deprecationHandler!=null&&O.deprecationHandler(i,n),os[i]||(ps(n),os[i]=!0)}O.suppressDeprecationWarnings=!1;O.deprecationHandler=null;function je(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function yd(i){var n,l;for(l in i)Z(i,l)&&(n=i[l],je(n)?this[l]=n:this["_"+l]=n);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function vi(i,n){var l=ht({},i),h;for(h in n)Z(n,h)&&(Ot(i[h])&&Ot(n[h])?(l[h]={},ht(l[h],i[h]),ht(l[h],n[h])):n[h]!=null?l[h]=n[h]:delete l[h]);for(h in i)Z(i,h)&&!Z(n,h)&&Ot(i[h])&&(l[h]=ht({},l[h]));return l}function Ti(i){i!=null&&this.set(i)}var gi;Object.keys?gi=Object.keys:gi=function(i){var n,l=[];for(n in i)Z(i,n)&&l.push(n);return l};var bd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function xd(i,n,l){var h=this._calendar[i]||this._calendar.sameElse;return je(h)?h.call(n,l):h}function Ge(i,n,l){var h=""+Math.abs(i),v=n-h.length,x=i>=0;return(x?l?"+":"":"-")+Math.pow(10,Math.max(0,v)).toString().substr(1)+h}var Pi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ti={},Gt={};function L(i,n,l,h){var v=h;typeof h=="string"&&(v=function(){return this[h]()}),i&&(Gt[i]=v),n&&(Gt[n[0]]=function(){return Ge(v.apply(this,arguments),n[1],n[2])}),l&&(Gt[l]=function(){return this.localeData().ordinal(v.apply(this,arguments),i)})}function _d(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function wd(i){var n=i.match(Pi),l,h;for(l=0,h=n.length;l<h;l++)Gt[n[l]]?n[l]=Gt[n[l]]:n[l]=_d(n[l]);return function(v){var x="",M;for(M=0;M<h;M++)x+=je(n[M])?n[M].call(v,i):n[M];return x}}function Ka(i,n){return i.isValid()?(n=bs(n,i.localeData()),ti[n]=ti[n]||wd(n),ti[n](i)):i.localeData().invalidDate()}function bs(i,n){var l=5;function h(v){return n.longDateFormat(v)||v}for(qa.lastIndex=0;l>=0&&qa.test(i);)i=i.replace(qa,h),qa.lastIndex=0,l-=1;return i}var Md={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function kd(i){var n=this._longDateFormat[i],l=this._longDateFormat[i.toUpperCase()];return n||!l?n:(this._longDateFormat[i]=l.match(Pi).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[i])}var Sd="Invalid date";function Dd(){return this._invalidDate}var Cd="%d",Td=/\d{1,2}/;function Pd(i){return this._ordinal.replace("%d",i)}var Ad={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Od(i,n,l,h){var v=this._relativeTime[l];return je(v)?v(i,n,l,h):v.replace(/%d/i,i)}function Fd(i,n){var l=this._relativeTime[i>0?"future":"past"];return je(l)?l(n):l.replace(/%s/i,n)}var ls={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Fe(i){return typeof i=="string"?ls[i]||ls[i.toLowerCase()]:void 0}function Ai(i){var n={},l,h;for(h in i)Z(i,h)&&(l=Fe(h),l&&(n[l]=i[h]));return n}var Rd={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Id(i){var n=[],l;for(l in i)Z(i,l)&&n.push({unit:l,priority:Rd[l]});return n.sort(function(h,v){return h.priority-v.priority}),n}var xs=/\d/,Se=/\d\d/,_s=/\d{3}/,Oi=/\d{4}/,lr=/[+-]?\d{6}/,re=/\d\d?/,ws=/\d\d\d\d?/,Ms=/\d\d\d\d\d\d?/,ur=/\d{1,3}/,Fi=/\d{1,4}/,dr=/[+-]?\d{1,6}/,$t=/\d+/,hr=/[+-]?\d+/,Ed=/Z|[+-]\d\d:?\d\d/gi,fr=/Z|[+-]\d\d(?::?\d\d)?/gi,Ld=/[+-]?\d+(\.\d{1,3})?/,Da=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,qt=/^[1-9]\d?/,Ri=/^([1-9]\d|\d)/,tr;tr={};function R(i,n,l){tr[i]=je(n)?n:function(h,v){return h&&l?l:n}}function Nd(i,n){return Z(tr,i)?tr[i](n._strict,n._locale):new RegExp(Yd(i))}function Yd(i){return at(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,l,h,v,x){return l||h||v||x}))}function at(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ae(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function G(i){var n=+i,l=0;return n!==0&&isFinite(n)&&(l=Ae(n)),l}var mi={};function Q(i,n){var l,h=n,v;for(typeof i=="string"&&(i=[i]),it(n)&&(h=function(x,M){M[n]=G(x)}),v=i.length,l=0;l<v;l++)mi[i[l]]=h}function Ca(i,n){Q(i,function(l,h,v,x){v._w=v._w||{},n(l,v._w,v,x)})}function Wd(i,n,l){n!=null&&Z(mi,i)&&mi[i](n,l._a,l,i)}function cr(i){return i%4===0&&i%100!==0||i%400===0}var ve=0,et=1,Ve=2,ue=3,Re=4,tt=5,At=6,Bd=7,zd=8;L("Y",0,0,function(){var i=this.year();return i<=9999?Ge(i,4):"+"+i});L(0,["YY",2],0,function(){return this.year()%100});L(0,["YYYY",4],0,"year");L(0,["YYYYY",5],0,"year");L(0,["YYYYYY",6,!0],0,"year");R("Y",hr);R("YY",re,Se);R("YYYY",Fi,Oi);R("YYYYY",dr,lr);R("YYYYYY",dr,lr);Q(["YYYYY","YYYYYY"],ve);Q("YYYY",function(i,n){n[ve]=i.length===2?O.parseTwoDigitYear(i):G(i)});Q("YY",function(i,n){n[ve]=O.parseTwoDigitYear(i)});Q("Y",function(i,n){n[ve]=parseInt(i,10)});function ya(i){return cr(i)?366:365}O.parseTwoDigitYear=function(i){return G(i)+(G(i)>68?1900:2e3)};var ks=Xt("FullYear",!0);function Hd(){return cr(this.year())}function Xt(i,n){return function(l){return l!=null?(Ss(this,i,l),O.updateOffset(this,n),this):xa(this,i)}}function xa(i,n){if(!i.isValid())return NaN;var l=i._d,h=i._isUTC;switch(n){case"Milliseconds":return h?l.getUTCMilliseconds():l.getMilliseconds();case"Seconds":return h?l.getUTCSeconds():l.getSeconds();case"Minutes":return h?l.getUTCMinutes():l.getMinutes();case"Hours":return h?l.getUTCHours():l.getHours();case"Date":return h?l.getUTCDate():l.getDate();case"Day":return h?l.getUTCDay():l.getDay();case"Month":return h?l.getUTCMonth():l.getMonth();case"FullYear":return h?l.getUTCFullYear():l.getFullYear();default:return NaN}}function Ss(i,n,l){var h,v,x,M,D;if(!(!i.isValid()||isNaN(l))){switch(h=i._d,v=i._isUTC,n){case"Milliseconds":return void(v?h.setUTCMilliseconds(l):h.setMilliseconds(l));case"Seconds":return void(v?h.setUTCSeconds(l):h.setSeconds(l));case"Minutes":return void(v?h.setUTCMinutes(l):h.setMinutes(l));case"Hours":return void(v?h.setUTCHours(l):h.setHours(l));case"Date":return void(v?h.setUTCDate(l):h.setDate(l));case"FullYear":break;default:return}x=l,M=i.month(),D=i.date(),D=D===29&&M===1&&!cr(x)?28:D,v?h.setUTCFullYear(x,M,D):h.setFullYear(x,M,D)}}function Vd(i){return i=Fe(i),je(this[i])?this[i]():this}function Gd(i,n){if(typeof i=="object"){i=Ai(i);var l=Id(i),h,v=l.length;for(h=0;h<v;h++)this[l[h].unit](i[l[h].unit])}else if(i=Fe(i),je(this[i]))return this[i](n);return this}function Ud(i,n){return(i%n+n)%n}var ne;Array.prototype.indexOf?ne=Array.prototype.indexOf:ne=function(i){var n;for(n=0;n<this.length;++n)if(this[n]===i)return n;return-1};function Ii(i,n){if(isNaN(i)||isNaN(n))return NaN;var l=Ud(n,12);return i+=(n-l)/12,l===1?cr(i)?29:28:31-l%7%2}L("M",["MM",2],"Mo",function(){return this.month()+1});L("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)});L("MMMM",0,0,function(i){return this.localeData().months(this,i)});R("M",re,qt);R("MM",re,Se);R("MMM",function(i,n){return n.monthsShortRegex(i)});R("MMMM",function(i,n){return n.monthsRegex(i)});Q(["M","MM"],function(i,n){n[et]=G(i)-1});Q(["MMM","MMMM"],function(i,n,l,h){var v=l._locale.monthsParse(i,h,l._strict);v!=null?n[et]=v:H(l).invalidMonth=i});var jd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ds="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Cs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,$d=Da,qd=Da;function Xd(i,n){return i?Ie(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||Cs).test(n)?"format":"standalone"][i.month()]:Ie(this._months)?this._months:this._months.standalone}function Zd(i,n){return i?Ie(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[Cs.test(n)?"format":"standalone"][i.month()]:Ie(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Kd(i,n,l){var h,v,x,M=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)x=Ue([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(x,"").toLocaleLowerCase();return l?n==="MMM"?(v=ne.call(this._shortMonthsParse,M),v!==-1?v:null):(v=ne.call(this._longMonthsParse,M),v!==-1?v:null):n==="MMM"?(v=ne.call(this._shortMonthsParse,M),v!==-1?v:(v=ne.call(this._longMonthsParse,M),v!==-1?v:null)):(v=ne.call(this._longMonthsParse,M),v!==-1?v:(v=ne.call(this._shortMonthsParse,M),v!==-1?v:null))}function Jd(i,n,l){var h,v,x;if(this._monthsParseExact)return Kd.call(this,i,n,l);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(v=Ue([2e3,h]),l&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(v,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(v,"").replace(".","")+"$","i")),!l&&!this._monthsParse[h]&&(x="^"+this.months(v,"")+"|^"+this.monthsShort(v,""),this._monthsParse[h]=new RegExp(x.replace(".",""),"i")),l&&n==="MMMM"&&this._longMonthsParse[h].test(i))return h;if(l&&n==="MMM"&&this._shortMonthsParse[h].test(i))return h;if(!l&&this._monthsParse[h].test(i))return h}}function Ts(i,n){if(!i.isValid())return i;if(typeof n=="string"){if(/^\d+$/.test(n))n=G(n);else if(n=i.localeData().monthsParse(n),!it(n))return i}var l=n,h=i.date();return h=h<29?h:Math.min(h,Ii(i.year(),l)),i._isUTC?i._d.setUTCMonth(l,h):i._d.setMonth(l,h),i}function Ps(i){return i!=null?(Ts(this,i),O.updateOffset(this,!0),this):xa(this,"Month")}function Qd(){return Ii(this.year(),this.month())}function eh(i){return this._monthsParseExact?(Z(this,"_monthsRegex")||As.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(Z(this,"_monthsShortRegex")||(this._monthsShortRegex=$d),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function th(i){return this._monthsParseExact?(Z(this,"_monthsRegex")||As.call(this),i?this._monthsStrictRegex:this._monthsRegex):(Z(this,"_monthsRegex")||(this._monthsRegex=qd),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function As(){function i(P,A){return A.length-P.length}var n=[],l=[],h=[],v,x,M,D;for(v=0;v<12;v++)x=Ue([2e3,v]),M=at(this.monthsShort(x,"")),D=at(this.months(x,"")),n.push(M),l.push(D),h.push(D),h.push(M);n.sort(i),l.sort(i),h.sort(i),this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ah(i,n,l,h,v,x,M){var D;return i<100&&i>=0?(D=new Date(i+400,n,l,h,v,x,M),isFinite(D.getFullYear())&&D.setFullYear(i)):D=new Date(i,n,l,h,v,x,M),D}function _a(i){var n,l;return i<100&&i>=0?(l=Array.prototype.slice.call(arguments),l[0]=i+400,n=new Date(Date.UTC.apply(null,l)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(i)):n=new Date(Date.UTC.apply(null,arguments)),n}function ar(i,n,l){var h=7+n-l,v=(7+_a(i,0,h).getUTCDay()-n)%7;return-v+h-1}function Os(i,n,l,h,v){var x=(7+l-h)%7,M=ar(i,h,v),D=1+7*(n-1)+x+M,P,A;return D<=0?(P=i-1,A=ya(P)+D):D>ya(i)?(P=i+1,A=D-ya(i)):(P=i,A=D),{year:P,dayOfYear:A}}function wa(i,n,l){var h=ar(i.year(),n,l),v=Math.floor((i.dayOfYear()-h-1)/7)+1,x,M;return v<1?(M=i.year()-1,x=v+rt(M,n,l)):v>rt(i.year(),n,l)?(x=v-rt(i.year(),n,l),M=i.year()+1):(M=i.year(),x=v),{week:x,year:M}}function rt(i,n,l){var h=ar(i,n,l),v=ar(i+1,n,l);return(ya(i)-h+v)/7}L("w",["ww",2],"wo","week");L("W",["WW",2],"Wo","isoWeek");R("w",re,qt);R("ww",re,Se);R("W",re,qt);R("WW",re,Se);Ca(["w","ww","W","WW"],function(i,n,l,h){n[h.substr(0,1)]=G(i)});function rh(i){return wa(i,this._week.dow,this._week.doy).week}var ih={dow:0,doy:6};function nh(){return this._week.dow}function sh(){return this._week.doy}function oh(i){var n=this.localeData().week(this);return i==null?n:this.add((i-n)*7,"d")}function lh(i){var n=wa(this,1,4).week;return i==null?n:this.add((i-n)*7,"d")}L("d",0,"do","day");L("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)});L("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)});L("dddd",0,0,function(i){return this.localeData().weekdays(this,i)});L("e",0,0,"weekday");L("E",0,0,"isoWeekday");R("d",re);R("e",re);R("E",re);R("dd",function(i,n){return n.weekdaysMinRegex(i)});R("ddd",function(i,n){return n.weekdaysShortRegex(i)});R("dddd",function(i,n){return n.weekdaysRegex(i)});Ca(["dd","ddd","dddd"],function(i,n,l,h){var v=l._locale.weekdaysParse(i,h,l._strict);v!=null?n.d=v:H(l).invalidWeekday=i});Ca(["d","e","E"],function(i,n,l,h){n[h]=G(i)});function uh(i,n){return typeof i!="string"?i:isNaN(i)?(i=n.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function dh(i,n){return typeof i=="string"?n.weekdaysParse(i)%7||7:isNaN(i)?null:i}function Ei(i,n){return i.slice(n,7).concat(i.slice(0,n))}var hh="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),fh="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ch=Da,vh=Da,gh=Da;function mh(i,n){var l=Ie(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(n)?"format":"standalone"];return i===!0?Ei(l,this._week.dow):i?l[i.day()]:l}function ph(i){return i===!0?Ei(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function yh(i){return i===!0?Ei(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function bh(i,n,l){var h,v,x,M=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)x=Ue([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(x,"").toLocaleLowerCase();return l?n==="dddd"?(v=ne.call(this._weekdaysParse,M),v!==-1?v:null):n==="ddd"?(v=ne.call(this._shortWeekdaysParse,M),v!==-1?v:null):(v=ne.call(this._minWeekdaysParse,M),v!==-1?v:null):n==="dddd"?(v=ne.call(this._weekdaysParse,M),v!==-1||(v=ne.call(this._shortWeekdaysParse,M),v!==-1)?v:(v=ne.call(this._minWeekdaysParse,M),v!==-1?v:null)):n==="ddd"?(v=ne.call(this._shortWeekdaysParse,M),v!==-1||(v=ne.call(this._weekdaysParse,M),v!==-1)?v:(v=ne.call(this._minWeekdaysParse,M),v!==-1?v:null)):(v=ne.call(this._minWeekdaysParse,M),v!==-1||(v=ne.call(this._weekdaysParse,M),v!==-1)?v:(v=ne.call(this._shortWeekdaysParse,M),v!==-1?v:null))}function xh(i,n,l){var h,v,x;if(this._weekdaysParseExact)return bh.call(this,i,n,l);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(v=Ue([2e3,1]).day(h),l&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(v,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(v,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(v,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[h]||(x="^"+this.weekdays(v,"")+"|^"+this.weekdaysShort(v,"")+"|^"+this.weekdaysMin(v,""),this._weekdaysParse[h]=new RegExp(x.replace(".",""),"i")),l&&n==="dddd"&&this._fullWeekdaysParse[h].test(i))return h;if(l&&n==="ddd"&&this._shortWeekdaysParse[h].test(i))return h;if(l&&n==="dd"&&this._minWeekdaysParse[h].test(i))return h;if(!l&&this._weekdaysParse[h].test(i))return h}}function _h(i){if(!this.isValid())return i!=null?this:NaN;var n=xa(this,"Day");return i!=null?(i=uh(i,this.localeData()),this.add(i-n,"d")):n}function wh(i){if(!this.isValid())return i!=null?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return i==null?n:this.add(i-n,"d")}function Mh(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var n=dh(i,this.localeData());return this.day(this.day()%7?n:n-7)}else return this.day()||7}function kh(i){return this._weekdaysParseExact?(Z(this,"_weekdaysRegex")||Li.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(Z(this,"_weekdaysRegex")||(this._weekdaysRegex=ch),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function Sh(i){return this._weekdaysParseExact?(Z(this,"_weekdaysRegex")||Li.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Z(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vh),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Dh(i){return this._weekdaysParseExact?(Z(this,"_weekdaysRegex")||Li.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Z(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=gh),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Li(){function i(B,oe){return oe.length-B.length}var n=[],l=[],h=[],v=[],x,M,D,P,A;for(x=0;x<7;x++)M=Ue([2e3,1]).day(x),D=at(this.weekdaysMin(M,"")),P=at(this.weekdaysShort(M,"")),A=at(this.weekdays(M,"")),n.push(D),l.push(P),h.push(A),v.push(D),v.push(P),v.push(A);n.sort(i),l.sort(i),h.sort(i),v.sort(i),this._weekdaysRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ni(){return this.hours()%12||12}function Ch(){return this.hours()||24}L("H",["HH",2],0,"hour");L("h",["hh",2],0,Ni);L("k",["kk",2],0,Ch);L("hmm",0,0,function(){return""+Ni.apply(this)+Ge(this.minutes(),2)});L("hmmss",0,0,function(){return""+Ni.apply(this)+Ge(this.minutes(),2)+Ge(this.seconds(),2)});L("Hmm",0,0,function(){return""+this.hours()+Ge(this.minutes(),2)});L("Hmmss",0,0,function(){return""+this.hours()+Ge(this.minutes(),2)+Ge(this.seconds(),2)});function Rs(i,n){L(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}Rs("a",!0);Rs("A",!1);function Is(i,n){return n._meridiemParse}R("a",Is);R("A",Is);R("H",re,Ri);R("h",re,qt);R("k",re,qt);R("HH",re,Se);R("hh",re,Se);R("kk",re,Se);R("hmm",ws);R("hmmss",Ms);R("Hmm",ws);R("Hmmss",Ms);Q(["H","HH"],ue);Q(["k","kk"],function(i,n,l){var h=G(i);n[ue]=h===24?0:h});Q(["a","A"],function(i,n,l){l._isPm=l._locale.isPM(i),l._meridiem=i});Q(["h","hh"],function(i,n,l){n[ue]=G(i),H(l).bigHour=!0});Q("hmm",function(i,n,l){var h=i.length-2;n[ue]=G(i.substr(0,h)),n[Re]=G(i.substr(h)),H(l).bigHour=!0});Q("hmmss",function(i,n,l){var h=i.length-4,v=i.length-2;n[ue]=G(i.substr(0,h)),n[Re]=G(i.substr(h,2)),n[tt]=G(i.substr(v)),H(l).bigHour=!0});Q("Hmm",function(i,n,l){var h=i.length-2;n[ue]=G(i.substr(0,h)),n[Re]=G(i.substr(h))});Q("Hmmss",function(i,n,l){var h=i.length-4,v=i.length-2;n[ue]=G(i.substr(0,h)),n[Re]=G(i.substr(h,2)),n[tt]=G(i.substr(v))});function Th(i){return(i+"").toLowerCase().charAt(0)==="p"}var Ph=/[ap]\.?m?\.?/i,Ah=Xt("Hours",!0);function Oh(i,n,l){return i>11?l?"pm":"PM":l?"am":"AM"}var Es={calendar:bd,longDateFormat:Md,invalidDate:Sd,ordinal:Cd,dayOfMonthOrdinalParse:Td,relativeTime:Ad,months:jd,monthsShort:Ds,week:ih,weekdays:hh,weekdaysMin:fh,weekdaysShort:Fs,meridiemParse:Ph},ie={},ma={},Ma;function Fh(i,n){var l,h=Math.min(i.length,n.length);for(l=0;l<h;l+=1)if(i[l]!==n[l])return l;return h}function us(i){return i&&i.toLowerCase().replace("_","-")}function Rh(i){for(var n=0,l,h,v,x;n<i.length;){for(x=us(i[n]).split("-"),l=x.length,h=us(i[n+1]),h=h?h.split("-"):null;l>0;){if(v=vr(x.slice(0,l).join("-")),v)return v;if(h&&h.length>=l&&Fh(x,h)>=l-1)break;l--}n++}return Ma}function Ih(i){return!!(i&&i.match("^[^/\\\\]*$"))}function vr(i){var n=null,l;if(ie[i]===void 0&&typeof er<"u"&&er&&er.exports&&Ih(i))try{n=Ma._abbr,l=require,l("./locale/"+i),ct(n)}catch{ie[i]=null}return ie[i]}function ct(i,n){var l;return i&&(_e(n)?l=nt(i):l=Yi(i,n),l?Ma=l:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),Ma._abbr}function Yi(i,n){if(n!==null){var l,h=Es;if(n.abbr=i,ie[i]!=null)ys("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=ie[i]._config;else if(n.parentLocale!=null)if(ie[n.parentLocale]!=null)h=ie[n.parentLocale]._config;else if(l=vr(n.parentLocale),l!=null)h=l._config;else return ma[n.parentLocale]||(ma[n.parentLocale]=[]),ma[n.parentLocale].push({name:i,config:n}),null;return ie[i]=new Ti(vi(h,n)),ma[i]&&ma[i].forEach(function(v){Yi(v.name,v.config)}),ct(i),ie[i]}else return delete ie[i],null}function Eh(i,n){if(n!=null){var l,h,v=Es;ie[i]!=null&&ie[i].parentLocale!=null?ie[i].set(vi(ie[i]._config,n)):(h=vr(i),h!=null&&(v=h._config),n=vi(v,n),h==null&&(n.abbr=i),l=new Ti(n),l.parentLocale=ie[i],ie[i]=l),ct(i)}else ie[i]!=null&&(ie[i].parentLocale!=null?(ie[i]=ie[i].parentLocale,i===ct()&&ct(i)):ie[i]!=null&&delete ie[i]);return ie[i]}function nt(i){var n;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return Ma;if(!Ie(i)){if(n=vr(i),n)return n;i=[i]}return Rh(i)}function Lh(){return gi(ie)}function Wi(i){var n,l=i._a;return l&&H(i).overflow===-2&&(n=l[et]<0||l[et]>11?et:l[Ve]<1||l[Ve]>Ii(l[ve],l[et])?Ve:l[ue]<0||l[ue]>24||l[ue]===24&&(l[Re]!==0||l[tt]!==0||l[At]!==0)?ue:l[Re]<0||l[Re]>59?Re:l[tt]<0||l[tt]>59?tt:l[At]<0||l[At]>999?At:-1,H(i)._overflowDayOfYear&&(n<ve||n>Ve)&&(n=Ve),H(i)._overflowWeeks&&n===-1&&(n=Bd),H(i)._overflowWeekday&&n===-1&&(n=zd),H(i).overflow=n),i}var Nh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wh=/Z|[+-]\d\d(?::?\d\d)?/,Xa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bh=/^\/?Date\((-?\d+)/i,zh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hh={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ls(i){var n,l,h=i._i,v=Nh.exec(h)||Yh.exec(h),x,M,D,P,A=Xa.length,B=ai.length;if(v){for(H(i).iso=!0,n=0,l=A;n<l;n++)if(Xa[n][1].exec(v[1])){M=Xa[n][0],x=Xa[n][2]!==!1;break}if(M==null){i._isValid=!1;return}if(v[3]){for(n=0,l=B;n<l;n++)if(ai[n][1].exec(v[3])){D=(v[2]||" ")+ai[n][0];break}if(D==null){i._isValid=!1;return}}if(!x&&D!=null){i._isValid=!1;return}if(v[4])if(Wh.exec(v[4]))P="Z";else{i._isValid=!1;return}i._f=M+(D||"")+(P||""),zi(i)}else i._isValid=!1}function Vh(i,n,l,h,v,x){var M=[Gh(i),Ds.indexOf(n),parseInt(l,10),parseInt(h,10),parseInt(v,10)];return x&&M.push(parseInt(x,10)),M}function Gh(i){var n=parseInt(i,10);return n<=49?2e3+n:n<=999?1900+n:n}function Uh(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function jh(i,n,l){if(i){var h=Fs.indexOf(i),v=new Date(n[0],n[1],n[2]).getDay();if(h!==v)return H(l).weekdayMismatch=!0,l._isValid=!1,!1}return!0}function $h(i,n,l){if(i)return Hh[i];if(n)return 0;var h=parseInt(l,10),v=h%100,x=(h-v)/100;return x*60+v}function Ns(i){var n=zh.exec(Uh(i._i)),l;if(n){if(l=Vh(n[4],n[3],n[2],n[5],n[6],n[7]),!jh(n[1],l,i))return;i._a=l,i._tzm=$h(n[8],n[9],n[10]),i._d=_a.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),H(i).rfc2822=!0}else i._isValid=!1}function qh(i){var n=Bh.exec(i._i);if(n!==null){i._d=new Date(+n[1]);return}if(Ls(i),i._isValid===!1)delete i._isValid;else return;if(Ns(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:O.createFromInputFallback(i)}O.createFromInputFallback=Oe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function Ht(i,n,l){return i??n??l}function Xh(i){var n=new Date(O.now());return i._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Bi(i){var n,l,h=[],v,x,M;if(!i._d){for(v=Xh(i),i._w&&i._a[Ve]==null&&i._a[et]==null&&Zh(i),i._dayOfYear!=null&&(M=Ht(i._a[ve],v[ve]),(i._dayOfYear>ya(M)||i._dayOfYear===0)&&(H(i)._overflowDayOfYear=!0),l=_a(M,0,i._dayOfYear),i._a[et]=l.getUTCMonth(),i._a[Ve]=l.getUTCDate()),n=0;n<3&&i._a[n]==null;++n)i._a[n]=h[n]=v[n];for(;n<7;n++)i._a[n]=h[n]=i._a[n]==null?n===2?1:0:i._a[n];i._a[ue]===24&&i._a[Re]===0&&i._a[tt]===0&&i._a[At]===0&&(i._nextDay=!0,i._a[ue]=0),i._d=(i._useUTC?_a:ah).apply(null,h),x=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[ue]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==x&&(H(i).weekdayMismatch=!0)}}function Zh(i){var n,l,h,v,x,M,D,P,A;n=i._w,n.GG!=null||n.W!=null||n.E!=null?(x=1,M=4,l=Ht(n.GG,i._a[ve],wa(ae(),1,4).year),h=Ht(n.W,1),v=Ht(n.E,1),(v<1||v>7)&&(P=!0)):(x=i._locale._week.dow,M=i._locale._week.doy,A=wa(ae(),x,M),l=Ht(n.gg,i._a[ve],A.year),h=Ht(n.w,A.week),n.d!=null?(v=n.d,(v<0||v>6)&&(P=!0)):n.e!=null?(v=n.e+x,(n.e<0||n.e>6)&&(P=!0)):v=x),h<1||h>rt(l,x,M)?H(i)._overflowWeeks=!0:P!=null?H(i)._overflowWeekday=!0:(D=Os(l,h,v,x,M),i._a[ve]=D.year,i._dayOfYear=D.dayOfYear)}O.ISO_8601=function(){};O.RFC_2822=function(){};function zi(i){if(i._f===O.ISO_8601){Ls(i);return}if(i._f===O.RFC_2822){Ns(i);return}i._a=[],H(i).empty=!0;var n=""+i._i,l,h,v,x,M,D=n.length,P=0,A,B;for(v=bs(i._f,i._locale).match(Pi)||[],B=v.length,l=0;l<B;l++)x=v[l],h=(n.match(Nd(x,i))||[])[0],h&&(M=n.substr(0,n.indexOf(h)),M.length>0&&H(i).unusedInput.push(M),n=n.slice(n.indexOf(h)+h.length),P+=h.length),Gt[x]?(h?H(i).empty=!1:H(i).unusedTokens.push(x),Wd(x,h,i)):i._strict&&!h&&H(i).unusedTokens.push(x);H(i).charsLeftOver=D-P,n.length>0&&H(i).unusedInput.push(n),i._a[ue]<=12&&H(i).bigHour===!0&&i._a[ue]>0&&(H(i).bigHour=void 0),H(i).parsedDateParts=i._a.slice(0),H(i).meridiem=i._meridiem,i._a[ue]=Kh(i._locale,i._a[ue],i._meridiem),A=H(i).era,A!==null&&(i._a[ve]=i._locale.erasConvertYear(A,i._a[ve])),Bi(i),Wi(i)}function Kh(i,n,l){var h;return l==null?n:i.meridiemHour!=null?i.meridiemHour(n,l):(i.isPM!=null&&(h=i.isPM(l),h&&n<12&&(n+=12),!h&&n===12&&(n=0)),n)}function Jh(i){var n,l,h,v,x,M,D=!1,P=i._f.length;if(P===0){H(i).invalidFormat=!0,i._d=new Date(NaN);return}for(v=0;v<P;v++)x=0,M=!1,n=Ci({},i),i._useUTC!=null&&(n._useUTC=i._useUTC),n._f=i._f[v],zi(n),Di(n)&&(M=!0),x+=H(n).charsLeftOver,x+=H(n).unusedTokens.length*10,H(n).score=x,D?x<h&&(h=x,l=n):(h==null||x<h||M)&&(h=x,l=n,M&&(D=!0));ht(i,l||n)}function Qh(i){if(!i._d){var n=Ai(i._i),l=n.day===void 0?n.date:n.day;i._a=ms([n.year,n.month,l,n.hour,n.minute,n.second,n.millisecond],function(h){return h&&parseInt(h,10)}),Bi(i)}}function ef(i){var n=new Sa(Wi(Ys(i)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function Ys(i){var n=i._i,l=i._f;return i._locale=i._locale||nt(i._l),n===null||l===void 0&&n===""?or({nullInput:!0}):(typeof n=="string"&&(i._i=n=i._locale.preparse(n)),Ee(n)?new Sa(Wi(n)):(ka(n)?i._d=n:Ie(l)?Jh(i):l?zi(i):tf(i),Di(i)||(i._d=null),i))}function tf(i){var n=i._i;_e(n)?i._d=new Date(O.now()):ka(n)?i._d=new Date(n.valueOf()):typeof n=="string"?qh(i):Ie(n)?(i._a=ms(n.slice(0),function(l){return parseInt(l,10)}),Bi(i)):Ot(n)?Qh(i):it(n)?i._d=new Date(n):O.createFromInputFallback(i)}function Ws(i,n,l,h,v){var x={};return(n===!0||n===!1)&&(h=n,n=void 0),(l===!0||l===!1)&&(h=l,l=void 0),(Ot(i)&&Si(i)||Ie(i)&&i.length===0)&&(i=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=v,x._l=l,x._i=i,x._f=n,x._strict=h,ef(x)}function ae(i,n,l,h){return Ws(i,n,l,h,!1)}var af=Oe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=ae.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:or()}),rf=Oe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=ae.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:or()});function Bs(i,n){var l,h;if(n.length===1&&Ie(n[0])&&(n=n[0]),!n.length)return ae();for(l=n[0],h=1;h<n.length;++h)(!n[h].isValid()||n[h][i](l))&&(l=n[h]);return l}function nf(){var i=[].slice.call(arguments,0);return Bs("isBefore",i)}function sf(){var i=[].slice.call(arguments,0);return Bs("isAfter",i)}var of=function(){return Date.now?Date.now():+new Date},pa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function lf(i){var n,l=!1,h,v=pa.length;for(n in i)if(Z(i,n)&&!(ne.call(pa,n)!==-1&&(i[n]==null||!isNaN(i[n]))))return!1;for(h=0;h<v;++h)if(i[pa[h]]){if(l)return!1;parseFloat(i[pa[h]])!==G(i[pa[h]])&&(l=!0)}return!0}function uf(){return this._isValid}function df(){return Le(NaN)}function gr(i){var n=Ai(i),l=n.year||0,h=n.quarter||0,v=n.month||0,x=n.week||n.isoWeek||0,M=n.day||0,D=n.hour||0,P=n.minute||0,A=n.second||0,B=n.millisecond||0;this._isValid=lf(n),this._milliseconds=+B+A*1e3+P*6e4+D*1e3*60*60,this._days=+M+x*7,this._months=+v+h*3+l*12,this._data={},this._locale=nt(),this._bubble()}function Ja(i){return i instanceof gr}function pi(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function hf(i,n,l){var h=Math.min(i.length,n.length),v=Math.abs(i.length-n.length),x=0,M;for(M=0;M<h;M++)G(i[M])!==G(n[M])&&x++;return x+v}function zs(i,n){L(i,0,0,function(){var l=this.utcOffset(),h="+";return l<0&&(l=-l,h="-"),h+Ge(~~(l/60),2)+n+Ge(~~l%60,2)})}zs("Z",":");zs("ZZ","");R("Z",fr);R("ZZ",fr);Q(["Z","ZZ"],function(i,n,l){l._useUTC=!0,l._tzm=Hi(fr,i)});var ff=/([\+\-]|\d\d)/gi;function Hi(i,n){var l=(n||"").match(i),h,v,x;return l===null?null:(h=l[l.length-1]||[],v=(h+"").match(ff)||["-",0,0],x=+(v[1]*60)+G(v[2]),x===0?0:v[0]==="+"?x:-x)}function Vi(i,n){var l,h;return n._isUTC?(l=n.clone(),h=(Ee(i)||ka(i)?i.valueOf():ae(i).valueOf())-l.valueOf(),l._d.setTime(l._d.valueOf()+h),O.updateOffset(l,!1),l):ae(i).local()}function yi(i){return-Math.round(i._d.getTimezoneOffset())}O.updateOffset=function(){};function cf(i,n,l){var h=this._offset||0,v;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Hi(fr,i),i===null)return this}else Math.abs(i)<16&&!l&&(i=i*60);return!this._isUTC&&n&&(v=yi(this)),this._offset=i,this._isUTC=!0,v!=null&&this.add(v,"m"),h!==i&&(!n||this._changeInProgress?Gs(this,Le(i-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,O.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:yi(this)}function vf(i,n){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,n),this):-this.utcOffset()}function gf(i){return this.utcOffset(0,i)}function mf(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(yi(this),"m")),this}function pf(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Hi(Ed,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function yf(i){return this.isValid()?(i=i?ae(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function bf(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xf(){if(!_e(this._isDSTShifted))return this._isDSTShifted;var i={},n;return Ci(i,this),i=Ys(i),i._a?(n=i._isUTC?Ue(i._a):ae(i._a),this._isDSTShifted=this.isValid()&&hf(i._a,n.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _f(){return this.isValid()?!this._isUTC:!1}function wf(){return this.isValid()?this._isUTC:!1}function Hs(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Mf=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kf=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Le(i,n){var l=i,h=null,v,x,M;return Ja(i)?l={ms:i._milliseconds,d:i._days,M:i._months}:it(i)||!isNaN(+i)?(l={},n?l[n]=+i:l.milliseconds=+i):(h=Mf.exec(i))?(v=h[1]==="-"?-1:1,l={y:0,d:G(h[Ve])*v,h:G(h[ue])*v,m:G(h[Re])*v,s:G(h[tt])*v,ms:G(pi(h[At]*1e3))*v}):(h=kf.exec(i))?(v=h[1]==="-"?-1:1,l={y:Tt(h[2],v),M:Tt(h[3],v),w:Tt(h[4],v),d:Tt(h[5],v),h:Tt(h[6],v),m:Tt(h[7],v),s:Tt(h[8],v)}):l==null?l={}:typeof l=="object"&&("from"in l||"to"in l)&&(M=Sf(ae(l.from),ae(l.to)),l={},l.ms=M.milliseconds,l.M=M.months),x=new gr(l),Ja(i)&&Z(i,"_locale")&&(x._locale=i._locale),Ja(i)&&Z(i,"_isValid")&&(x._isValid=i._isValid),x}Le.fn=gr.prototype;Le.invalid=df;function Tt(i,n){var l=i&&parseFloat(i.replace(",","."));return(isNaN(l)?0:l)*n}function ds(i,n){var l={};return l.months=n.month()-i.month()+(n.year()-i.year())*12,i.clone().add(l.months,"M").isAfter(n)&&--l.months,l.milliseconds=+n-+i.clone().add(l.months,"M"),l}function Sf(i,n){var l;return i.isValid()&&n.isValid()?(n=Vi(n,i),i.isBefore(n)?l=ds(i,n):(l=ds(n,i),l.milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0}}function Vs(i,n){return function(l,h){var v,x;return h!==null&&!isNaN(+h)&&(ys(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=l,l=h,h=x),v=Le(l,h),Gs(this,v,i),this}}function Gs(i,n,l,h){var v=n._milliseconds,x=pi(n._days),M=pi(n._months);i.isValid()&&(h=h??!0,M&&Ts(i,xa(i,"Month")+M*l),x&&Ss(i,"Date",xa(i,"Date")+x*l),v&&i._d.setTime(i._d.valueOf()+v*l),h&&O.updateOffset(i,x||M))}var Df=Vs(1,"add"),Cf=Vs(-1,"subtract");function Us(i){return typeof i=="string"||i instanceof String}function Tf(i){return Ee(i)||ka(i)||Us(i)||it(i)||Af(i)||Pf(i)||i===null||i===void 0}function Pf(i){var n=Ot(i)&&!Si(i),l=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],v,x,M=h.length;for(v=0;v<M;v+=1)x=h[v],l=l||Z(i,x);return n&&l}function Af(i){var n=Ie(i),l=!1;return n&&(l=i.filter(function(h){return!it(h)&&Us(i)}).length===0),n&&l}function Of(i){var n=Ot(i)&&!Si(i),l=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],v,x;for(v=0;v<h.length;v+=1)x=h[v],l=l||Z(i,x);return n&&l}function Ff(i,n){var l=i.diff(n,"days",!0);return l<-6?"sameElse":l<-1?"lastWeek":l<0?"lastDay":l<1?"sameDay":l<2?"nextDay":l<7?"nextWeek":"sameElse"}function Rf(i,n){arguments.length===1&&(arguments[0]?Tf(arguments[0])?(i=arguments[0],n=void 0):Of(arguments[0])&&(n=arguments[0],i=void 0):(i=void 0,n=void 0));var l=i||ae(),h=Vi(l,this).startOf("day"),v=O.calendarFormat(this,h)||"sameElse",x=n&&(je(n[v])?n[v].call(this,l):n[v]);return this.format(x||this.localeData().calendar(v,this,ae(l)))}function If(){return new Sa(this)}function Ef(i,n){var l=Ee(i)?i:ae(i);return this.isValid()&&l.isValid()?(n=Fe(n)||"millisecond",n==="millisecond"?this.valueOf()>l.valueOf():l.valueOf()<this.clone().startOf(n).valueOf()):!1}function Lf(i,n){var l=Ee(i)?i:ae(i);return this.isValid()&&l.isValid()?(n=Fe(n)||"millisecond",n==="millisecond"?this.valueOf()<l.valueOf():this.clone().endOf(n).valueOf()<l.valueOf()):!1}function Nf(i,n,l,h){var v=Ee(i)?i:ae(i),x=Ee(n)?n:ae(n);return this.isValid()&&v.isValid()&&x.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(v,l):!this.isBefore(v,l))&&(h[1]===")"?this.isBefore(x,l):!this.isAfter(x,l))):!1}function Yf(i,n){var l=Ee(i)?i:ae(i),h;return this.isValid()&&l.isValid()?(n=Fe(n)||"millisecond",n==="millisecond"?this.valueOf()===l.valueOf():(h=l.valueOf(),this.clone().startOf(n).valueOf()<=h&&h<=this.clone().endOf(n).valueOf())):!1}function Wf(i,n){return this.isSame(i,n)||this.isAfter(i,n)}function Bf(i,n){return this.isSame(i,n)||this.isBefore(i,n)}function zf(i,n,l){var h,v,x;if(!this.isValid())return NaN;if(h=Vi(i,this),!h.isValid())return NaN;switch(v=(h.utcOffset()-this.utcOffset())*6e4,n=Fe(n),n){case"year":x=Qa(this,h)/12;break;case"month":x=Qa(this,h);break;case"quarter":x=Qa(this,h)/3;break;case"second":x=(this-h)/1e3;break;case"minute":x=(this-h)/6e4;break;case"hour":x=(this-h)/36e5;break;case"day":x=(this-h-v)/864e5;break;case"week":x=(this-h-v)/6048e5;break;default:x=this-h}return l?x:Ae(x)}function Qa(i,n){if(i.date()<n.date())return-Qa(n,i);var l=(n.year()-i.year())*12+(n.month()-i.month()),h=i.clone().add(l,"months"),v,x;return n-h<0?(v=i.clone().add(l-1,"months"),x=(n-h)/(h-v)):(v=i.clone().add(l+1,"months"),x=(n-h)/(v-h)),-(l+x)||0}O.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";O.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Hf(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Vf(i){if(!this.isValid())return null;var n=i!==!0,l=n?this.clone().utc():this;return l.year()<0||l.year()>9999?Ka(l,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):je(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ka(l,"Z")):Ka(l,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Gf(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",n="",l,h,v,x;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z"),l="["+i+'("]',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",v="-MM-DD[T]HH:mm:ss.SSS",x=n+'[")]',this.format(l+h+v+x)}function Uf(i){i||(i=this.isUtc()?O.defaultFormatUtc:O.defaultFormat);var n=Ka(this,i);return this.localeData().postformat(n)}function jf(i,n){return this.isValid()&&(Ee(i)&&i.isValid()||ae(i).isValid())?Le({to:this,from:i}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function $f(i){return this.from(ae(),i)}function qf(i,n){return this.isValid()&&(Ee(i)&&i.isValid()||ae(i).isValid())?Le({from:this,to:i}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function Xf(i){return this.to(ae(),i)}function js(i){var n;return i===void 0?this._locale._abbr:(n=nt(i),n!=null&&(this._locale=n),this)}var $s=Oe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function qs(){return this._locale}var rr=1e3,Ut=60*rr,ir=60*Ut,Xs=(365*400+97)*24*ir;function jt(i,n){return(i%n+n)%n}function Zs(i,n,l){return i<100&&i>=0?new Date(i+400,n,l)-Xs:new Date(i,n,l).valueOf()}function Ks(i,n,l){return i<100&&i>=0?Date.UTC(i+400,n,l)-Xs:Date.UTC(i,n,l)}function Zf(i){var n,l;if(i=Fe(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(l=this._isUTC?Ks:Zs,i){case"year":n=l(this.year(),0,1);break;case"quarter":n=l(this.year(),this.month()-this.month()%3,1);break;case"month":n=l(this.year(),this.month(),1);break;case"week":n=l(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=l(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=l(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=jt(n+(this._isUTC?0:this.utcOffset()*Ut),ir);break;case"minute":n=this._d.valueOf(),n-=jt(n,Ut);break;case"second":n=this._d.valueOf(),n-=jt(n,rr);break}return this._d.setTime(n),O.updateOffset(this,!0),this}function Kf(i){var n,l;if(i=Fe(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(l=this._isUTC?Ks:Zs,i){case"year":n=l(this.year()+1,0,1)-1;break;case"quarter":n=l(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=l(this.year(),this.month()+1,1)-1;break;case"week":n=l(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=l(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=l(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=ir-jt(n+(this._isUTC?0:this.utcOffset()*Ut),ir)-1;break;case"minute":n=this._d.valueOf(),n+=Ut-jt(n,Ut)-1;break;case"second":n=this._d.valueOf(),n+=rr-jt(n,rr)-1;break}return this._d.setTime(n),O.updateOffset(this,!0),this}function Jf(){return this._d.valueOf()-(this._offset||0)*6e4}function Qf(){return Math.floor(this.valueOf()/1e3)}function ec(){return new Date(this.valueOf())}function tc(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function ac(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function rc(){return this.isValid()?this.toISOString():null}function ic(){return Di(this)}function nc(){return ht({},H(this))}function sc(){return H(this).overflow}function oc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}L("N",0,0,"eraAbbr");L("NN",0,0,"eraAbbr");L("NNN",0,0,"eraAbbr");L("NNNN",0,0,"eraName");L("NNNNN",0,0,"eraNarrow");L("y",["y",1],"yo","eraYear");L("y",["yy",2],0,"eraYear");L("y",["yyy",3],0,"eraYear");L("y",["yyyy",4],0,"eraYear");R("N",Gi);R("NN",Gi);R("NNN",Gi);R("NNNN",yc);R("NNNNN",bc);Q(["N","NN","NNN","NNNN","NNNNN"],function(i,n,l,h){var v=l._locale.erasParse(i,h,l._strict);v?H(l).era=v:H(l).invalidEra=i});R("y",$t);R("yy",$t);R("yyy",$t);R("yyyy",$t);R("yo",xc);Q(["y","yy","yyy","yyyy"],ve);Q(["yo"],function(i,n,l,h){var v;l._locale._eraYearOrdinalRegex&&(v=i.match(l._locale._eraYearOrdinalRegex)),l._locale.eraYearOrdinalParse?n[ve]=l._locale.eraYearOrdinalParse(i,v):n[ve]=parseInt(i,10)});function lc(i,n){var l,h,v,x=this._eras||nt("en")._eras;for(l=0,h=x.length;l<h;++l){switch(typeof x[l].since){case"string":v=O(x[l].since).startOf("day"),x[l].since=v.valueOf();break}switch(typeof x[l].until){case"undefined":x[l].until=1/0;break;case"string":v=O(x[l].until).startOf("day").valueOf(),x[l].until=v.valueOf();break}}return x}function uc(i,n,l){var h,v,x=this.eras(),M,D,P;for(i=i.toUpperCase(),h=0,v=x.length;h<v;++h)if(M=x[h].name.toUpperCase(),D=x[h].abbr.toUpperCase(),P=x[h].narrow.toUpperCase(),l)switch(n){case"N":case"NN":case"NNN":if(D===i)return x[h];break;case"NNNN":if(M===i)return x[h];break;case"NNNNN":if(P===i)return x[h];break}else if([M,D,P].indexOf(i)>=0)return x[h]}function dc(i,n){var l=i.since<=i.until?1:-1;return n===void 0?O(i.since).year():O(i.since).year()+(n-i.offset)*l}function hc(){var i,n,l,h=this.localeData().eras();for(i=0,n=h.length;i<n;++i)if(l=this.clone().startOf("day").valueOf(),h[i].since<=l&&l<=h[i].until||h[i].until<=l&&l<=h[i].since)return h[i].name;return""}function fc(){var i,n,l,h=this.localeData().eras();for(i=0,n=h.length;i<n;++i)if(l=this.clone().startOf("day").valueOf(),h[i].since<=l&&l<=h[i].until||h[i].until<=l&&l<=h[i].since)return h[i].narrow;return""}function cc(){var i,n,l,h=this.localeData().eras();for(i=0,n=h.length;i<n;++i)if(l=this.clone().startOf("day").valueOf(),h[i].since<=l&&l<=h[i].until||h[i].until<=l&&l<=h[i].since)return h[i].abbr;return""}function vc(){var i,n,l,h,v=this.localeData().eras();for(i=0,n=v.length;i<n;++i)if(l=v[i].since<=v[i].until?1:-1,h=this.clone().startOf("day").valueOf(),v[i].since<=h&&h<=v[i].until||v[i].until<=h&&h<=v[i].since)return(this.year()-O(v[i].since).year())*l+v[i].offset;return this.year()}function gc(i){return Z(this,"_erasNameRegex")||Ui.call(this),i?this._erasNameRegex:this._erasRegex}function mc(i){return Z(this,"_erasAbbrRegex")||Ui.call(this),i?this._erasAbbrRegex:this._erasRegex}function pc(i){return Z(this,"_erasNarrowRegex")||Ui.call(this),i?this._erasNarrowRegex:this._erasRegex}function Gi(i,n){return n.erasAbbrRegex(i)}function yc(i,n){return n.erasNameRegex(i)}function bc(i,n){return n.erasNarrowRegex(i)}function xc(i,n){return n._eraYearOrdinalRegex||$t}function Ui(){var i=[],n=[],l=[],h=[],v,x,M,D,P,A=this.eras();for(v=0,x=A.length;v<x;++v)M=at(A[v].name),D=at(A[v].abbr),P=at(A[v].narrow),n.push(M),i.push(D),l.push(P),h.push(M),h.push(D),h.push(P);this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}L(0,["gg",2],0,function(){return this.weekYear()%100});L(0,["GG",2],0,function(){return this.isoWeekYear()%100});function mr(i,n){L(0,[i,i.length],0,n)}mr("gggg","weekYear");mr("ggggg","weekYear");mr("GGGG","isoWeekYear");mr("GGGGG","isoWeekYear");R("G",hr);R("g",hr);R("GG",re,Se);R("gg",re,Se);R("GGGG",Fi,Oi);R("gggg",Fi,Oi);R("GGGGG",dr,lr);R("ggggg",dr,lr);Ca(["gggg","ggggg","GGGG","GGGGG"],function(i,n,l,h){n[h.substr(0,2)]=G(i)});Ca(["gg","GG"],function(i,n,l,h){n[h]=O.parseTwoDigitYear(i)});function _c(i){return Js.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function wc(i){return Js.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function Mc(){return rt(this.year(),1,4)}function kc(){return rt(this.isoWeekYear(),1,4)}function Sc(){var i=this.localeData()._week;return rt(this.year(),i.dow,i.doy)}function Dc(){var i=this.localeData()._week;return rt(this.weekYear(),i.dow,i.doy)}function Js(i,n,l,h,v){var x;return i==null?wa(this,h,v).year:(x=rt(i,h,v),n>x&&(n=x),Cc.call(this,i,n,l,h,v))}function Cc(i,n,l,h,v){var x=Os(i,n,l,h,v),M=_a(x.year,0,x.dayOfYear);return this.year(M.getUTCFullYear()),this.month(M.getUTCMonth()),this.date(M.getUTCDate()),this}L("Q",0,"Qo","quarter");R("Q",xs);Q("Q",function(i,n){n[et]=(G(i)-1)*3});function Tc(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}L("D",["DD",2],"Do","date");R("D",re,qt);R("DD",re,Se);R("Do",function(i,n){return i?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient});Q(["D","DD"],Ve);Q("Do",function(i,n){n[Ve]=G(i.match(re)[0])});var Qs=Xt("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear");R("DDD",ur);R("DDDD",_s);Q(["DDD","DDDD"],function(i,n,l){l._dayOfYear=G(i)});function Pc(i){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?n:this.add(i-n,"d")}L("m",["mm",2],0,"minute");R("m",re,Ri);R("mm",re,Se);Q(["m","mm"],Re);var Ac=Xt("Minutes",!1);L("s",["ss",2],0,"second");R("s",re,Ri);R("ss",re,Se);Q(["s","ss"],tt);var Oc=Xt("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)});L(0,["SS",2],0,function(){return~~(this.millisecond()/10)});L(0,["SSS",3],0,"millisecond");L(0,["SSSS",4],0,function(){return this.millisecond()*10});L(0,["SSSSS",5],0,function(){return this.millisecond()*100});L(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});L(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});L(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});L(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});R("S",ur,xs);R("SS",ur,Se);R("SSS",ur,_s);var ft,eo;for(ft="SSSS";ft.length<=9;ft+="S")R(ft,$t);function Fc(i,n){n[At]=G(("0."+i)*1e3)}for(ft="S";ft.length<=9;ft+="S")Q(ft,Fc);eo=Xt("Milliseconds",!1);L("z",0,0,"zoneAbbr");L("zz",0,0,"zoneName");function Rc(){return this._isUTC?"UTC":""}function Ic(){return this._isUTC?"Coordinated Universal Time":""}var T=Sa.prototype;T.add=Df;T.calendar=Rf;T.clone=If;T.diff=zf;T.endOf=Kf;T.format=Uf;T.from=jf;T.fromNow=$f;T.to=qf;T.toNow=Xf;T.get=Vd;T.invalidAt=sc;T.isAfter=Ef;T.isBefore=Lf;T.isBetween=Nf;T.isSame=Yf;T.isSameOrAfter=Wf;T.isSameOrBefore=Bf;T.isValid=ic;T.lang=$s;T.locale=js;T.localeData=qs;T.max=rf;T.min=af;T.parsingFlags=nc;T.set=Gd;T.startOf=Zf;T.subtract=Cf;T.toArray=tc;T.toObject=ac;T.toDate=ec;T.toISOString=Vf;T.inspect=Gf;typeof Symbol<"u"&&Symbol.for!=null&&(T[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});T.toJSON=rc;T.toString=Hf;T.unix=Qf;T.valueOf=Jf;T.creationData=oc;T.eraName=hc;T.eraNarrow=fc;T.eraAbbr=cc;T.eraYear=vc;T.year=ks;T.isLeapYear=Hd;T.weekYear=_c;T.isoWeekYear=wc;T.quarter=T.quarters=Tc;T.month=Ps;T.daysInMonth=Qd;T.week=T.weeks=oh;T.isoWeek=T.isoWeeks=lh;T.weeksInYear=Sc;T.weeksInWeekYear=Dc;T.isoWeeksInYear=Mc;T.isoWeeksInISOWeekYear=kc;T.date=Qs;T.day=T.days=_h;T.weekday=wh;T.isoWeekday=Mh;T.dayOfYear=Pc;T.hour=T.hours=Ah;T.minute=T.minutes=Ac;T.second=T.seconds=Oc;T.millisecond=T.milliseconds=eo;T.utcOffset=cf;T.utc=gf;T.local=mf;T.parseZone=pf;T.hasAlignedHourOffset=yf;T.isDST=bf;T.isLocal=_f;T.isUtcOffset=wf;T.isUtc=Hs;T.isUTC=Hs;T.zoneAbbr=Rc;T.zoneName=Ic;T.dates=Oe("dates accessor is deprecated. Use date instead.",Qs);T.months=Oe("months accessor is deprecated. Use month instead",Ps);T.years=Oe("years accessor is deprecated. Use year instead",ks);T.zone=Oe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vf);T.isDSTShifted=Oe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xf);function Ec(i){return ae(i*1e3)}function Lc(){return ae.apply(null,arguments).parseZone()}function to(i){return i}var K=Ti.prototype;K.calendar=xd;K.longDateFormat=kd;K.invalidDate=Dd;K.ordinal=Pd;K.preparse=to;K.postformat=to;K.relativeTime=Od;K.pastFuture=Fd;K.set=yd;K.eras=lc;K.erasParse=uc;K.erasConvertYear=dc;K.erasAbbrRegex=mc;K.erasNameRegex=gc;K.erasNarrowRegex=pc;K.months=Xd;K.monthsShort=Zd;K.monthsParse=Jd;K.monthsRegex=th;K.monthsShortRegex=eh;K.week=rh;K.firstDayOfYear=sh;K.firstDayOfWeek=nh;K.weekdays=mh;K.weekdaysMin=yh;K.weekdaysShort=ph;K.weekdaysParse=xh;K.weekdaysRegex=kh;K.weekdaysShortRegex=Sh;K.weekdaysMinRegex=Dh;K.isPM=Th;K.meridiem=Oh;function nr(i,n,l,h){var v=nt(),x=Ue().set(h,n);return v[l](x,i)}function ao(i,n,l){if(it(i)&&(n=i,i=void 0),i=i||"",n!=null)return nr(i,n,l,"month");var h,v=[];for(h=0;h<12;h++)v[h]=nr(i,h,l,"month");return v}function ji(i,n,l,h){typeof i=="boolean"?(it(n)&&(l=n,n=void 0),n=n||""):(n=i,l=n,i=!1,it(n)&&(l=n,n=void 0),n=n||"");var v=nt(),x=i?v._week.dow:0,M,D=[];if(l!=null)return nr(n,(l+x)%7,h,"day");for(M=0;M<7;M++)D[M]=nr(n,(M+x)%7,h,"day");return D}function Nc(i,n){return ao(i,n,"months")}function Yc(i,n){return ao(i,n,"monthsShort")}function Wc(i,n,l){return ji(i,n,l,"weekdays")}function Bc(i,n,l){return ji(i,n,l,"weekdaysShort")}function zc(i,n,l){return ji(i,n,l,"weekdaysMin")}ct("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var n=i%10,l=G(i%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return i+l}});O.lang=Oe("moment.lang is deprecated. Use moment.locale instead.",ct);O.langData=Oe("moment.langData is deprecated. Use moment.localeData instead.",nt);var Je=Math.abs;function Hc(){var i=this._data;return this._milliseconds=Je(this._milliseconds),this._days=Je(this._days),this._months=Je(this._months),i.milliseconds=Je(i.milliseconds),i.seconds=Je(i.seconds),i.minutes=Je(i.minutes),i.hours=Je(i.hours),i.months=Je(i.months),i.years=Je(i.years),this}function ro(i,n,l,h){var v=Le(n,l);return i._milliseconds+=h*v._milliseconds,i._days+=h*v._days,i._months+=h*v._months,i._bubble()}function Vc(i,n){return ro(this,i,n,1)}function Gc(i,n){return ro(this,i,n,-1)}function hs(i){return i<0?Math.floor(i):Math.ceil(i)}function Uc(){var i=this._milliseconds,n=this._days,l=this._months,h=this._data,v,x,M,D,P;return i>=0&&n>=0&&l>=0||i<=0&&n<=0&&l<=0||(i+=hs(bi(l)+n)*864e5,n=0,l=0),h.milliseconds=i%1e3,v=Ae(i/1e3),h.seconds=v%60,x=Ae(v/60),h.minutes=x%60,M=Ae(x/60),h.hours=M%24,n+=Ae(M/24),P=Ae(io(n)),l+=P,n-=hs(bi(P)),D=Ae(l/12),l%=12,h.days=n,h.months=l,h.years=D,this}function io(i){return i*4800/146097}function bi(i){return i*146097/4800}function jc(i){if(!this.isValid())return NaN;var n,l,h=this._milliseconds;if(i=Fe(i),i==="month"||i==="quarter"||i==="year")switch(n=this._days+h/864e5,l=this._months+io(n),i){case"month":return l;case"quarter":return l/3;case"year":return l/12}else switch(n=this._days+Math.round(bi(this._months)),i){case"week":return n/7+h/6048e5;case"day":return n+h/864e5;case"hour":return n*24+h/36e5;case"minute":return n*1440+h/6e4;case"second":return n*86400+h/1e3;case"millisecond":return Math.floor(n*864e5)+h;default:throw new Error("Unknown unit "+i)}}function st(i){return function(){return this.as(i)}}var no=st("ms"),$c=st("s"),qc=st("m"),Xc=st("h"),Zc=st("d"),Kc=st("w"),Jc=st("M"),Qc=st("Q"),ev=st("y"),tv=no;function av(){return Le(this)}function rv(i){return i=Fe(i),this.isValid()?this[i+"s"]():NaN}function Ft(i){return function(){return this.isValid()?this._data[i]:NaN}}var iv=Ft("milliseconds"),nv=Ft("seconds"),sv=Ft("minutes"),ov=Ft("hours"),lv=Ft("days"),uv=Ft("months"),dv=Ft("years");function hv(){return Ae(this.days()/7)}var Qe=Math.round,Vt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function fv(i,n,l,h,v){return v.relativeTime(n||1,!!l,i,h)}function cv(i,n,l,h){var v=Le(i).abs(),x=Qe(v.as("s")),M=Qe(v.as("m")),D=Qe(v.as("h")),P=Qe(v.as("d")),A=Qe(v.as("M")),B=Qe(v.as("w")),oe=Qe(v.as("y")),q=x<=l.ss&&["s",x]||x<l.s&&["ss",x]||M<=1&&["m"]||M<l.m&&["mm",M]||D<=1&&["h"]||D<l.h&&["hh",D]||P<=1&&["d"]||P<l.d&&["dd",P];return l.w!=null&&(q=q||B<=1&&["w"]||B<l.w&&["ww",B]),q=q||A<=1&&["M"]||A<l.M&&["MM",A]||oe<=1&&["y"]||["yy",oe],q[2]=n,q[3]=+i>0,q[4]=h,fv.apply(null,q)}function vv(i){return i===void 0?Qe:typeof i=="function"?(Qe=i,!0):!1}function gv(i,n){return Vt[i]===void 0?!1:n===void 0?Vt[i]:(Vt[i]=n,i==="s"&&(Vt.ss=n-1),!0)}function mv(i,n){if(!this.isValid())return this.localeData().invalidDate();var l=!1,h=Vt,v,x;return typeof i=="object"&&(n=i,i=!1),typeof i=="boolean"&&(l=i),typeof n=="object"&&(h=Object.assign({},Vt,n),n.s!=null&&n.ss==null&&(h.ss=n.s-1)),v=this.localeData(),x=cv(this,!l,h,v),l&&(x=v.pastFuture(+this,x)),v.postformat(x)}var ri=Math.abs;function zt(i){return(i>0)-(i<0)||+i}function pr(){if(!this.isValid())return this.localeData().invalidDate();var i=ri(this._milliseconds)/1e3,n=ri(this._days),l=ri(this._months),h,v,x,M,D=this.asSeconds(),P,A,B,oe;return D?(h=Ae(i/60),v=Ae(h/60),i%=60,h%=60,x=Ae(l/12),l%=12,M=i?i.toFixed(3).replace(/\.?0+$/,""):"",P=D<0?"-":"",A=zt(this._months)!==zt(D)?"-":"",B=zt(this._days)!==zt(D)?"-":"",oe=zt(this._milliseconds)!==zt(D)?"-":"",P+"P"+(x?A+x+"Y":"")+(l?A+l+"M":"")+(n?B+n+"D":"")+(v||h||i?"T":"")+(v?oe+v+"H":"")+(h?oe+h+"M":"")+(i?oe+M+"S":"")):"P0D"}var $=gr.prototype;$.isValid=uf;$.abs=Hc;$.add=Vc;$.subtract=Gc;$.as=jc;$.asMilliseconds=no;$.asSeconds=$c;$.asMinutes=qc;$.asHours=Xc;$.asDays=Zc;$.asWeeks=Kc;$.asMonths=Jc;$.asQuarters=Qc;$.asYears=ev;$.valueOf=tv;$._bubble=Uc;$.clone=av;$.get=rv;$.milliseconds=iv;$.seconds=nv;$.minutes=sv;$.hours=ov;$.days=lv;$.weeks=hv;$.months=uv;$.years=dv;$.humanize=mv;$.toISOString=pr;$.toString=pr;$.toJSON=pr;$.locale=js;$.localeData=qs;$.toIsoString=Oe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr);$.lang=$s;L("X",0,0,"unix");L("x",0,0,"valueOf");R("x",hr);R("X",Ld);Q("X",function(i,n,l){l._d=new Date(parseFloat(i)*1e3)});Q("x",function(i,n,l){l._d=new Date(G(i))});//! moment.js
O.version="2.30.1";md(ae);O.fn=T;O.min=nf;O.max=sf;O.now=of;O.utc=Ue;O.unix=Ec;O.months=Nc;O.isDate=ka;O.locale=ct;O.invalid=or;O.duration=Le;O.isMoment=Ee;O.weekdays=Wc;O.parseZone=Lc;O.localeData=nt;O.isDuration=Ja;O.monthsShort=Yc;O.weekdaysMin=zc;O.defineLocale=Yi;O.updateLocale=Eh;O.locales=Lh;O.weekdaysShort=Bc;O.normalizeUnits=Fe;O.relativeTimeRounding=vv;O.relativeTimeThreshold=gv;O.calendarFormat=Ff;O.prototype=T;O.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const pv=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),yv=gd(pv);/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */(function(i,n){(function(l,h){i.exports=h(function(){try{return yv}catch{}}())})(cd,function(l){l=l&&l.hasOwnProperty("default")?l.default:l;function h(e,t){return t={exports:{}},e(t,t.exports),t.exports}function v(e){return e&&e.default||e}var x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},M=h(function(e){var t={};for(var a in x)x.hasOwnProperty(a)&&(t[x[a]]=a);var r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in r)if(r.hasOwnProperty(s)){if(!("channels"in r[s]))throw new Error("missing channels property: "+s);if(!("labels"in r[s]))throw new Error("missing channel labels property: "+s);if(r[s].labels.length!==r[s].channels)throw new Error("channel and label counts mismatch: "+s);var o=r[s].channels,u=r[s].labels;delete r[s].channels,delete r[s].labels,Object.defineProperty(r[s],"channels",{value:o}),Object.defineProperty(r[s],"labels",{value:u})}r.rgb.hsl=function(d){var c=d[0]/255,g=d[1]/255,m=d[2]/255,b=Math.min(c,g,m),_=Math.max(c,g,m),w=_-b,k,S,C;return _===b?k=0:c===_?k=(g-m)/w:g===_?k=2+(m-c)/w:m===_&&(k=4+(c-g)/w),k=Math.min(k*60,360),k<0&&(k+=360),C=(b+_)/2,_===b?S=0:C<=.5?S=w/(_+b):S=w/(2-_-b),[k,S*100,C*100]},r.rgb.hsv=function(d){var c,g,m,b,_,w=d[0]/255,k=d[1]/255,S=d[2]/255,C=Math.max(w,k,S),F=C-Math.min(w,k,S),I=function(z){return(C-z)/6/F+1/2};return F===0?b=_=0:(_=F/C,c=I(w),g=I(k),m=I(S),w===C?b=m-g:k===C?b=1/3+c-m:S===C&&(b=2/3+g-c),b<0?b+=1:b>1&&(b-=1)),[b*360,_*100,C*100]},r.rgb.hwb=function(d){var c=d[0],g=d[1],m=d[2],b=r.rgb.hsl(d)[0],_=1/255*Math.min(c,Math.min(g,m));return m=1-1/255*Math.max(c,Math.max(g,m)),[b,_*100,m*100]},r.rgb.cmyk=function(d){var c=d[0]/255,g=d[1]/255,m=d[2]/255,b,_,w,k;return k=Math.min(1-c,1-g,1-m),b=(1-c-k)/(1-k)||0,_=(1-g-k)/(1-k)||0,w=(1-m-k)/(1-k)||0,[b*100,_*100,w*100,k*100]};function f(d,c){return Math.pow(d[0]-c[0],2)+Math.pow(d[1]-c[1],2)+Math.pow(d[2]-c[2],2)}r.rgb.keyword=function(d){var c=t[d];if(c)return c;var g=1/0,m;for(var b in x)if(x.hasOwnProperty(b)){var _=x[b],w=f(d,_);w<g&&(g=w,m=b)}return m},r.keyword.rgb=function(d){return x[d]},r.rgb.xyz=function(d){var c=d[0]/255,g=d[1]/255,m=d[2]/255;c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92,m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92;var b=c*.4124+g*.3576+m*.1805,_=c*.2126+g*.7152+m*.0722,w=c*.0193+g*.1192+m*.9505;return[b*100,_*100,w*100]},r.rgb.lab=function(d){var c=r.rgb.xyz(d),g=c[0],m=c[1],b=c[2],_,w,k;return g/=95.047,m/=100,b/=108.883,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,_=116*m-16,w=500*(g-m),k=200*(m-b),[_,w,k]},r.hsl.rgb=function(d){var c=d[0]/360,g=d[1]/100,m=d[2]/100,b,_,w,k,S;if(g===0)return S=m*255,[S,S,S];m<.5?_=m*(1+g):_=m+g-m*g,b=2*m-_,k=[0,0,0];for(var C=0;C<3;C++)w=c+1/3*-(C-1),w<0&&w++,w>1&&w--,6*w<1?S=b+(_-b)*6*w:2*w<1?S=_:3*w<2?S=b+(_-b)*(2/3-w)*6:S=b,k[C]=S*255;return k},r.hsl.hsv=function(d){var c=d[0],g=d[1]/100,m=d[2]/100,b=g,_=Math.max(m,.01),w,k;return m*=2,g*=m<=1?m:2-m,b*=_<=1?_:2-_,k=(m+g)/2,w=m===0?2*b/(_+b):2*g/(m+g),[c,w*100,k*100]},r.hsv.rgb=function(d){var c=d[0]/60,g=d[1]/100,m=d[2]/100,b=Math.floor(c)%6,_=c-Math.floor(c),w=255*m*(1-g),k=255*m*(1-g*_),S=255*m*(1-g*(1-_));switch(m*=255,b){case 0:return[m,S,w];case 1:return[k,m,w];case 2:return[w,m,S];case 3:return[w,k,m];case 4:return[S,w,m];case 5:return[m,w,k]}},r.hsv.hsl=function(d){var c=d[0],g=d[1]/100,m=d[2]/100,b=Math.max(m,.01),_,w,k;return k=(2-g)*m,_=(2-g)*b,w=g*b,w/=_<=1?_:2-_,w=w||0,k/=2,[c,w*100,k*100]},r.hwb.rgb=function(d){var c=d[0]/360,g=d[1]/100,m=d[2]/100,b=g+m,_,w,k,S;b>1&&(g/=b,m/=b),_=Math.floor(6*c),w=1-m,k=6*c-_,_&1&&(k=1-k),S=g+k*(w-g);var C,F,I;switch(_){default:case 6:case 0:C=w,F=S,I=g;break;case 1:C=S,F=w,I=g;break;case 2:C=g,F=w,I=S;break;case 3:C=g,F=S,I=w;break;case 4:C=S,F=g,I=w;break;case 5:C=w,F=g,I=S;break}return[C*255,F*255,I*255]},r.cmyk.rgb=function(d){var c=d[0]/100,g=d[1]/100,m=d[2]/100,b=d[3]/100,_,w,k;return _=1-Math.min(1,c*(1-b)+b),w=1-Math.min(1,g*(1-b)+b),k=1-Math.min(1,m*(1-b)+b),[_*255,w*255,k*255]},r.xyz.rgb=function(d){var c=d[0]/100,g=d[1]/100,m=d[2]/100,b,_,w;return b=c*3.2406+g*-1.5372+m*-.4986,_=c*-.9689+g*1.8758+m*.0415,w=c*.0557+g*-.204+m*1.057,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*12.92,_=_>.0031308?1.055*Math.pow(_,1/2.4)-.055:_*12.92,w=w>.0031308?1.055*Math.pow(w,1/2.4)-.055:w*12.92,b=Math.min(Math.max(0,b),1),_=Math.min(Math.max(0,_),1),w=Math.min(Math.max(0,w),1),[b*255,_*255,w*255]},r.xyz.lab=function(d){var c=d[0],g=d[1],m=d[2],b,_,w;return c/=95.047,g/=100,m/=108.883,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,b=116*g-16,_=500*(c-g),w=200*(g-m),[b,_,w]},r.lab.xyz=function(d){var c=d[0],g=d[1],m=d[2],b,_,w;_=(c+16)/116,b=g/500+_,w=_-m/200;var k=Math.pow(_,3),S=Math.pow(b,3),C=Math.pow(w,3);return _=k>.008856?k:(_-16/116)/7.787,b=S>.008856?S:(b-16/116)/7.787,w=C>.008856?C:(w-16/116)/7.787,b*=95.047,_*=100,w*=108.883,[b,_,w]},r.lab.lch=function(d){var c=d[0],g=d[1],m=d[2],b,_,w;return b=Math.atan2(m,g),_=b*360/2/Math.PI,_<0&&(_+=360),w=Math.sqrt(g*g+m*m),[c,w,_]},r.lch.lab=function(d){var c=d[0],g=d[1],m=d[2],b,_,w;return w=m/360*2*Math.PI,b=g*Math.cos(w),_=g*Math.sin(w),[c,b,_]},r.rgb.ansi16=function(d){var c=d[0],g=d[1],m=d[2],b=1 in arguments?arguments[1]:r.rgb.hsv(d)[2];if(b=Math.round(b/50),b===0)return 30;var _=30+(Math.round(m/255)<<2|Math.round(g/255)<<1|Math.round(c/255));return b===2&&(_+=60),_},r.hsv.ansi16=function(d){return r.rgb.ansi16(r.hsv.rgb(d),d[2])},r.rgb.ansi256=function(d){var c=d[0],g=d[1],m=d[2];if(c===g&&g===m)return c<8?16:c>248?231:Math.round((c-8)/247*24)+232;var b=16+36*Math.round(c/255*5)+6*Math.round(g/255*5)+Math.round(m/255*5);return b},r.ansi16.rgb=function(d){var c=d%10;if(c===0||c===7)return d>50&&(c+=3.5),c=c/10.5*255,[c,c,c];var g=(~~(d>50)+1)*.5,m=(c&1)*g*255,b=(c>>1&1)*g*255,_=(c>>2&1)*g*255;return[m,b,_]},r.ansi256.rgb=function(d){if(d>=232){var c=(d-232)*10+8;return[c,c,c]}d-=16;var g,m=Math.floor(d/36)/5*255,b=Math.floor((g=d%36)/6)/5*255,_=g%6/5*255;return[m,b,_]},r.rgb.hex=function(d){var c=((Math.round(d[0])&255)<<16)+((Math.round(d[1])&255)<<8)+(Math.round(d[2])&255),g=c.toString(16).toUpperCase();return"000000".substring(g.length)+g},r.hex.rgb=function(d){var c=d.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!c)return[0,0,0];var g=c[0];c[0].length===3&&(g=g.split("").map(function(k){return k+k}).join(""));var m=parseInt(g,16),b=m>>16&255,_=m>>8&255,w=m&255;return[b,_,w]},r.rgb.hcg=function(d){var c=d[0]/255,g=d[1]/255,m=d[2]/255,b=Math.max(Math.max(c,g),m),_=Math.min(Math.min(c,g),m),w=b-_,k,S;return w<1?k=_/(1-w):k=0,w<=0?S=0:b===c?S=(g-m)/w%6:b===g?S=2+(m-c)/w:S=4+(c-g)/w+4,S/=6,S%=1,[S*360,w*100,k*100]},r.hsl.hcg=function(d){var c=d[1]/100,g=d[2]/100,m=1,b=0;return g<.5?m=2*c*g:m=2*c*(1-g),m<1&&(b=(g-.5*m)/(1-m)),[d[0],m*100,b*100]},r.hsv.hcg=function(d){var c=d[1]/100,g=d[2]/100,m=c*g,b=0;return m<1&&(b=(g-m)/(1-m)),[d[0],m*100,b*100]},r.hcg.rgb=function(d){var c=d[0]/360,g=d[1]/100,m=d[2]/100;if(g===0)return[m*255,m*255,m*255];var b=[0,0,0],_=c%1*6,w=_%1,k=1-w,S=0;switch(Math.floor(_)){case 0:b[0]=1,b[1]=w,b[2]=0;break;case 1:b[0]=k,b[1]=1,b[2]=0;break;case 2:b[0]=0,b[1]=1,b[2]=w;break;case 3:b[0]=0,b[1]=k,b[2]=1;break;case 4:b[0]=w,b[1]=0,b[2]=1;break;default:b[0]=1,b[1]=0,b[2]=k}return S=(1-g)*m,[(g*b[0]+S)*255,(g*b[1]+S)*255,(g*b[2]+S)*255]},r.hcg.hsv=function(d){var c=d[1]/100,g=d[2]/100,m=c+g*(1-c),b=0;return m>0&&(b=c/m),[d[0],b*100,m*100]},r.hcg.hsl=function(d){var c=d[1]/100,g=d[2]/100,m=g*(1-c)+.5*c,b=0;return m>0&&m<.5?b=c/(2*m):m>=.5&&m<1&&(b=c/(2*(1-m))),[d[0],b*100,m*100]},r.hcg.hwb=function(d){var c=d[1]/100,g=d[2]/100,m=c+g*(1-c);return[d[0],(m-c)*100,(1-m)*100]},r.hwb.hcg=function(d){var c=d[1]/100,g=d[2]/100,m=1-g,b=m-c,_=0;return b<1&&(_=(m-b)/(1-b)),[d[0],b*100,_*100]},r.apple.rgb=function(d){return[d[0]/65535*255,d[1]/65535*255,d[2]/65535*255]},r.rgb.apple=function(d){return[d[0]/255*65535,d[1]/255*65535,d[2]/255*65535]},r.gray.rgb=function(d){return[d[0]/100*255,d[0]/100*255,d[0]/100*255]},r.gray.hsl=r.gray.hsv=function(d){return[0,0,d[0]]},r.gray.hwb=function(d){return[0,100,d[0]]},r.gray.cmyk=function(d){return[0,0,0,d[0]]},r.gray.lab=function(d){return[d[0],0,0]},r.gray.hex=function(d){var c=Math.round(d[0]/100*255)&255,g=(c<<16)+(c<<8)+c,m=g.toString(16).toUpperCase();return"000000".substring(m.length)+m},r.rgb.gray=function(d){var c=(d[0]+d[1]+d[2])/3;return[c/255*100]}});M.rgb,M.hsl,M.hsv,M.hwb,M.cmyk,M.xyz,M.lab,M.lch,M.hex,M.keyword,M.ansi16,M.ansi256,M.hcg,M.apple,M.gray;function D(){for(var e={},t=Object.keys(M),a=t.length,r=0;r<a;r++)e[t[r]]={distance:-1,parent:null};return e}function P(e){var t=D(),a=[e];for(t[e].distance=0;a.length;)for(var r=a.pop(),s=Object.keys(M[r]),o=s.length,u=0;u<o;u++){var f=s[u],d=t[f];d.distance===-1&&(d.distance=t[r].distance+1,d.parent=r,a.unshift(f))}return t}function A(e,t){return function(a){return t(e(a))}}function B(e,t){for(var a=[t[e].parent,e],r=M[t[e].parent][e],s=t[e].parent;t[s].parent;)a.unshift(t[s].parent),r=A(M[t[s].parent][s],r),s=t[s].parent;return r.conversion=a,r}var oe=function(e){for(var t=P(e),a={},r=Object.keys(t),s=r.length,o=0;o<s;o++){var u=r[o],f=t[u];f.parent!==null&&(a[u]=B(u,t))}return a},q={},Zt=Object.keys(M);function Kt(e){var t=function(a){return a==null?a:(arguments.length>1&&(a=Array.prototype.slice.call(arguments)),e(a))};return"conversion"in e&&(t.conversion=e.conversion),t}function yr(e){var t=function(a){if(a==null)return a;arguments.length>1&&(a=Array.prototype.slice.call(arguments));var r=e(a);if(typeof r=="object")for(var s=r.length,o=0;o<s;o++)r[o]=Math.round(r[o]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}Zt.forEach(function(e){q[e]={},Object.defineProperty(q[e],"channels",{value:M[e].channels}),Object.defineProperty(q[e],"labels",{value:M[e].labels});var t=oe(e),a=Object.keys(t);a.forEach(function(r){var s=t[r];q[e][r]=yr(s),q[e][r].raw=Kt(s)})});var br=q,Jt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Me={getRgba:Qt,getHsla:ea,getRgb:Y,getHsl:Ta,getHwb:Ne,getAlpha:Pa,hexString:Aa,rgbString:mt,rgbaString:$i,percentString:lo,percentaString:qi,hslString:uo,hslaString:Xi,hwbString:ho,keyword:fo};function Qt(e){if(e){var t=/^#([a-fA-F0-9]{3,4})$/i,a=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/(\w+)/,u=[0,0,0],f=1,d=e.match(t),c="";if(d){d=d[1],c=d[3];for(var g=0;g<u.length;g++)u[g]=parseInt(d[g]+d[g],16);c&&(f=Math.round(parseInt(c+c,16)/255*100)/100)}else if(d=e.match(a)){c=d[2],d=d[1];for(var g=0;g<u.length;g++)u[g]=parseInt(d.slice(g*2,g*2+2),16);c&&(f=Math.round(parseInt(c,16)/255*100)/100)}else if(d=e.match(r)){for(var g=0;g<u.length;g++)u[g]=parseInt(d[g+1]);f=parseFloat(d[4])}else if(d=e.match(s)){for(var g=0;g<u.length;g++)u[g]=Math.round(parseFloat(d[g+1])*2.55);f=parseFloat(d[4])}else if(d=e.match(o)){if(d[1]=="transparent")return[0,0,0,0];if(u=Jt[d[1]],!u)return}for(var g=0;g<u.length;g++)u[g]=Ye(u[g],0,255);return!f&&f!=0?f=1:f=Ye(f,0,1),u[3]=f,u}}function ea(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=e.match(t);if(a){var r=parseFloat(a[4]),s=Ye(parseInt(a[1]),0,360),o=Ye(parseFloat(a[2]),0,100),u=Ye(parseFloat(a[3]),0,100),f=Ye(isNaN(r)?1:r,0,1);return[s,o,u,f]}}}function Ne(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=e.match(t);if(a){var r=parseFloat(a[4]),s=Ye(parseInt(a[1]),0,360),o=Ye(parseFloat(a[2]),0,100),u=Ye(parseFloat(a[3]),0,100),f=Ye(isNaN(r)?1:r,0,1);return[s,o,u,f]}}}function Y(e){var t=Qt(e);return t&&t.slice(0,3)}function Ta(e){var t=ea(e);return t&&t.slice(0,3)}function Pa(e){var t=Qt(e);if(t)return t[3];if(t=ea(e))return t[3];if(t=Ne(e))return t[3]}function Aa(e,a){var a=a!==void 0&&e.length===3?a:e[3];return"#"+Oa(e[0])+Oa(e[1])+Oa(e[2])+(a>=0&&a<1?Oa(Math.round(a*255)):"")}function mt(e,t){return t<1||e[3]&&e[3]<1?$i(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function $i(e,t){return t===void 0&&(t=e[3]!==void 0?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function lo(e,t){if(t<1||e[3]&&e[3]<1)return qi(e,t);var a=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),s=Math.round(e[2]/255*100);return"rgb("+a+"%, "+r+"%, "+s+"%)"}function qi(e,t){var a=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),s=Math.round(e[2]/255*100);return"rgba("+a+"%, "+r+"%, "+s+"%, "+(t||e[3]||1)+")"}function uo(e,t){return t<1||e[3]&&e[3]<1?Xi(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function Xi(e,t){return t===void 0&&(t=e[3]!==void 0?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function ho(e,t){return t===void 0&&(t=e[3]!==void 0?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(t!==void 0&&t!==1?", "+t:"")+")"}function fo(e){return Zi[e.slice(0,3)]}function Ye(e,t,a){return Math.min(Math.max(t,e),a)}function Oa(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var Zi={};for(var Ki in Jt)Zi[Jt[Ki]]=Ki;var ke=function(e){if(e instanceof ke)return e;if(!(this instanceof ke))return new ke(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;typeof e=="string"?(t=Me.getRgba(e),t?this.setValues("rgb",t):(t=Me.getHsla(e))?this.setValues("hsl",t):(t=Me.getHwb(e))&&this.setValues("hwb",t)):typeof e=="object"&&(t=e,t.r!==void 0||t.red!==void 0?this.setValues("rgb",t):t.l!==void 0||t.lightness!==void 0?this.setValues("hsl",t):t.v!==void 0||t.value!==void 0?this.setValues("hsv",t):t.w!==void 0||t.whiteness!==void 0?this.setValues("hwb",t):(t.c!==void 0||t.cyan!==void 0)&&this.setValues("cmyk",t))};ke.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return e.alpha!==1?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return e===void 0?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return Me.hexString(this.values.rgb)},rgbString:function(){return Me.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Me.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Me.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Me.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Me.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Me.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Me.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],a=0;a<e.length;a++){var r=e[a]/255;t[a]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),a=e.luminosity();return t>a?(t+.05)/(a+.05):(a+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb,t=(e[0]*299+e[1]*587+e[2]*114)/1e3;return t<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=e[0]*.3+e[1]*.59+e[2]*.11;return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,a=(t[0]+e)%360;return t[0]=a<0?360+a:a,this.setValues("hsl",t),this},mix:function(e,t){var a=this,r=e,s=t===void 0?.5:t,o=2*s-1,u=a.alpha()-r.alpha(),f=((o*u===-1?o:(o+u)/(1+o*u))+1)/2,d=1-f;return this.rgb(f*a.red()+d*r.red(),f*a.green()+d*r.green(),f*a.blue()+d*r.blue()).alpha(a.alpha()*s+r.alpha()*(1-s))},toJSON:function(){return this.rgb()},clone:function(){var e=new ke,t=this.values,a=e.values,r,s;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],s={}.toString.call(r),s==="[object Array]"?a[o]=r.slice(0):s==="[object Number]"?a[o]=r:console.error("unexpected color value:",r));return e}},ke.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},ke.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},ke.prototype.getValues=function(e){for(var t=this.values,a={},r=0;r<e.length;r++)a[e.charAt(r)]=t[e][r];return t.alpha!==1&&(a.a=t.alpha),a},ke.prototype.setValues=function(e,t){var a=this.values,r=this.spaces,s=this.maxes,o=1,u;if(this.valid=!0,e==="alpha")o=t;else if(t.length)a[e]=t.slice(0,e.length),o=t[e.length];else if(t[e.charAt(0)]!==void 0){for(u=0;u<e.length;u++)a[e][u]=t[e.charAt(u)];o=t.a}else if(t[r[e][0]]!==void 0){var f=r[e];for(u=0;u<e.length;u++)a[e][u]=t[f[u]];o=t.alpha}if(a.alpha=Math.max(0,Math.min(1,o===void 0?a.alpha:o)),e==="alpha")return!1;var d;for(u=0;u<e.length;u++)d=Math.max(0,Math.min(s[e][u],a[e][u])),a[e][u]=Math.round(d);for(var c in r)c!==e&&(a[c]=br[e][c](a[e]));return!0},ke.prototype.setSpace=function(e,t){var a=t[0];return a===void 0?this.getValues(e):(typeof a=="number"&&(a=Array.prototype.slice.call(t)),this.setValues(e,a),this)},ke.prototype.setChannel=function(e,t,a){var r=this.values[e];return a===void 0?r[t]:a===r[t]?this:(r[t]=a,this.setValues(e,r),this)},typeof window<"u"&&(window.Color=ke);var Fa=ke;function Ji(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}var U={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return e===null||typeof e>"u"},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return t.substr(0,7)==="[object"&&t.substr(-6)==="Array]"},isObject:function(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"},isFinite:function(e){return(typeof e=="number"||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return typeof e>"u"?t:e},valueAtIndexOrDefault:function(e,t,a){return U.valueOrDefault(U.isArray(e)?e[t]:e,a)},callback:function(e,t,a){if(e&&typeof e.call=="function")return e.apply(a,t)},each:function(e,t,a,r){var s,o,u;if(U.isArray(e))if(o=e.length,r)for(s=o-1;s>=0;s--)t.call(a,e[s],s);else for(s=0;s<o;s++)t.call(a,e[s],s);else if(U.isObject(e))for(u=Object.keys(e),o=u.length,s=0;s<o;s++)t.call(a,e[u[s]],u[s])},arrayEquals:function(e,t){var a,r,s,o;if(!e||!t||e.length!==t.length)return!1;for(a=0,r=e.length;a<r;++a)if(s=e[a],o=t[a],s instanceof Array&&o instanceof Array){if(!U.arrayEquals(s,o))return!1}else if(s!==o)return!1;return!0},clone:function(e){if(U.isArray(e))return e.map(U.clone);if(U.isObject(e)){for(var t=Object.create(e),a=Object.keys(e),r=a.length,s=0;s<r;++s)t[a[s]]=U.clone(e[a[s]]);return t}return e},_merger:function(e,t,a,r){if(Ji(e)){var s=t[e],o=a[e];U.isObject(s)&&U.isObject(o)?U.merge(s,o,r):t[e]=U.clone(o)}},_mergerIf:function(e,t,a){if(Ji(e)){var r=t[e],s=a[e];U.isObject(r)&&U.isObject(s)?U.mergeIf(r,s):t.hasOwnProperty(e)||(t[e]=U.clone(s))}},merge:function(e,t,a){var r=U.isArray(t)?t:[t],s=r.length,o,u,f,d,c;if(!U.isObject(e))return e;for(a=a||{},o=a.merger||U._merger,u=0;u<s;++u)if(t=r[u],!!U.isObject(t))for(f=Object.keys(t),c=0,d=f.length;c<d;++c)o(f[c],e,t,a);return e},mergeIf:function(e,t){return U.merge(e,t,{merger:U._mergerIf})},extend:Object.assign||function(e){return U.merge(e,[].slice.call(arguments,1),{merger:function(t,a,r){a[t]=r[t]}})},inherits:function(e){var t=this,a=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=a};return r.prototype=t.prototype,a.prototype=new r,a.extend=U.inherits,e&&U.extend(a.prototype,e),a.__super__=t.prototype,a},_deprecated:function(e,t,a,r){t!==void 0&&console.warn(e+': "'+a+'" is deprecated. Please use "'+r+'" instead')}},De=U;U.callCallback=U.callback,U.indexOf=function(e,t,a){return Array.prototype.indexOf.call(e,t,a)},U.getValueOrDefault=U.valueOrDefault,U.getValueAtIndexOrDefault=U.valueAtIndexOrDefault;var ta={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e=e-1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e=e-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e=e-1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return e===0?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return e===1?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return e===0?0:e===1?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e=e-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,a=0,r=1;return e===0?0:e===1?1:(a||(a=.3),t=a/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},easeOutElastic:function(e){var t=1.70158,a=0,r=1;return e===0?0:e===1?1:(a||(a=.3),t=a/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},easeInOutElastic:function(e){var t=1.70158,a=0,r=1;return e===0?0:(e/=.5)===2?1:(a||(a=.45),t=a/(2*Math.PI)*Math.asin(1/r),e<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e=e-1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-ta.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?ta.easeInBounce(e*2)*.5:ta.easeOutBounce(e*2-1)*.5+.5}},co={effects:ta};De.easingEffects=ta;var me=Math.PI,vo=me/180,go=me*2,Ce=me/2,aa=me/4,Qi=me*2/3,Ra={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,a,r,s,o){if(o){var u=Math.min(o,s/2,r/2),f=t+u,d=a+u,c=t+r-u,g=a+s-u;e.moveTo(t,d),f<c&&d<g?(e.arc(f,d,u,-me,-Ce),e.arc(c,d,u,-Ce,0),e.arc(c,g,u,0,Ce),e.arc(f,g,u,Ce,me)):f<c?(e.moveTo(f,a),e.arc(c,d,u,-Ce,Ce),e.arc(f,d,u,Ce,me+Ce)):d<g?(e.arc(f,d,u,-me,0),e.arc(f,g,u,0,me)):e.arc(f,d,u,-me,me),e.closePath(),e.moveTo(t,a)}else e.rect(t,a,r,s)},drawPoint:function(e,t,a,r,s,o){var u,f,d,c,g,m=(o||0)*vo;if(t&&typeof t=="object"&&(u=t.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){e.save(),e.translate(r,s),e.rotate(m),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),e.restore();return}if(!(isNaN(a)||a<=0)){switch(e.beginPath(),t){default:e.arc(r,s,a,0,go),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(m)*a,s-Math.cos(m)*a),m+=Qi,e.lineTo(r+Math.sin(m)*a,s-Math.cos(m)*a),m+=Qi,e.lineTo(r+Math.sin(m)*a,s-Math.cos(m)*a),e.closePath();break;case"rectRounded":g=a*.516,c=a-g,f=Math.cos(m+aa)*c,d=Math.sin(m+aa)*c,e.arc(r-f,s-d,g,m-me,m-Ce),e.arc(r+d,s-f,g,m-Ce,m),e.arc(r+f,s+d,g,m,m+Ce),e.arc(r-d,s+f,g,m+Ce,m+me),e.closePath();break;case"rect":if(!o){c=Math.SQRT1_2*a,e.rect(r-c,s-c,2*c,2*c);break}m+=aa;case"rectRot":f=Math.cos(m)*a,d=Math.sin(m)*a,e.moveTo(r-f,s-d),e.lineTo(r+d,s-f),e.lineTo(r+f,s+d),e.lineTo(r-d,s+f),e.closePath();break;case"crossRot":m+=aa;case"cross":f=Math.cos(m)*a,d=Math.sin(m)*a,e.moveTo(r-f,s-d),e.lineTo(r+f,s+d),e.moveTo(r+d,s-f),e.lineTo(r-d,s+f);break;case"star":f=Math.cos(m)*a,d=Math.sin(m)*a,e.moveTo(r-f,s-d),e.lineTo(r+f,s+d),e.moveTo(r+d,s-f),e.lineTo(r-d,s+f),m+=aa,f=Math.cos(m)*a,d=Math.sin(m)*a,e.moveTo(r-f,s-d),e.lineTo(r+f,s+d),e.moveTo(r+d,s-f),e.lineTo(r-d,s+f);break;case"line":f=Math.cos(m)*a,d=Math.sin(m)*a,e.moveTo(r-f,s-d),e.lineTo(r+f,s+d);break;case"dash":e.moveTo(r,s),e.lineTo(r+Math.cos(m)*a,s+Math.sin(m)*a);break}e.fill(),e.stroke()}},_isPointInArea:function(e,t){var a=1e-6;return e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,a,r){var s=a.steppedLine;if(s){if(s==="middle"){var o=(t.x+a.x)/2;e.lineTo(o,r?a.y:t.y),e.lineTo(o,r?t.y:a.y)}else s==="after"&&!r||s!=="after"&&r?e.lineTo(t.x,a.y):e.lineTo(a.x,t.y);e.lineTo(a.x,a.y);return}if(!a.tension){e.lineTo(a.x,a.y);return}e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?a.controlPointNextX:a.controlPointPreviousX,r?a.controlPointNextY:a.controlPointPreviousY,a.x,a.y)}},mo=Ra;De.clear=Ra.clear,De.drawRoundedRectangle=function(e){e.beginPath(),Ra.roundedRect.apply(Ra,arguments)};var en={_set:function(e,t){return De.merge(this[e]||(this[e]={}),t)}};en._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var E=en,Ia=De.valueOrDefault;function po(e){return!e||De.isNullOrUndef(e.size)||De.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}var yo={toLineHeight:function(e,t){var a=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!a||a[1]==="normal")return t*1.2;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100;break}return t*e},toPadding:function(e){var t,a,r,s;return De.isObject(e)?(t=+e.top||0,a=+e.right||0,r=+e.bottom||0,s=+e.left||0):t=a=r=s=+e||0,{top:t,right:a,bottom:r,left:s,height:t+r,width:s+a}},_parseFont:function(e){var t=E.global,a=Ia(e.fontSize,t.defaultFontSize),r={family:Ia(e.fontFamily,t.defaultFontFamily),lineHeight:De.options.toLineHeight(Ia(e.lineHeight,t.defaultLineHeight),a),size:a,style:Ia(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=po(r),r},resolve:function(e,t,a,r){var s=!0,o,u,f;for(o=0,u=e.length;o<u;++o)if(f=e[o],f!==void 0&&(t!==void 0&&typeof f=="function"&&(f=f(t),s=!1),a!==void 0&&De.isArray(f)&&(f=f[a],s=!1),f!==void 0))return r&&!s&&(r.cacheable=!1),f}},tn={_factorize:function(e){var t=[],a=Math.sqrt(e),r;for(r=1;r<a;r++)e%r===0&&(t.push(r),t.push(e/r));return a===(a|0)&&t.push(a),t.sort(function(s,o){return s-o}).pop(),t},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,a=Math.round(t),r=e===Math.pow(10,a);return r?a:t}},bo=tn;De.log10=tn.log10;var xo=function(e,t){return{x:function(a){return e+e+t-a},setWidth:function(a){t=a},textAlign:function(a){return a==="center"?a:a==="right"?"left":"right"},xPlus:function(a,r){return a-r},leftForLtr:function(a,r){return a-r}}},_o=function(){return{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},wo=function(e,t,a){return e?xo(t,a):_o()},Mo=function(e,t){var a,r;(t==="ltr"||t==="rtl")&&(a=e.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=r)},ko=function(e){var t=e.prevTextDirection;t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))},So={getRtlAdapter:wo,overrideTextDirection:Mo,restoreTextDirection:ko},p=De,Do=co,Co=mo,To=yo,Po=bo,Ao=So;p.easing=Do,p.canvas=Co,p.options=To,p.math=Po,p.rtl=Ao;function Oo(e,t,a,r){var s=Object.keys(a),o,u,f,d,c,g,m,b,_;for(o=0,u=s.length;o<u;++o)if(f=s[o],g=a[f],t.hasOwnProperty(f)||(t[f]=g),d=t[f],!(d===g||f[0]==="_")){if(e.hasOwnProperty(f)||(e[f]=d),c=e[f],m=typeof g,m===typeof c){if(m==="string"){if(b=Fa(c),b.valid&&(_=Fa(g),_.valid)){t[f]=_.mix(b,r).rgbString();continue}}else if(p.isFinite(c)&&p.isFinite(g)){t[f]=c+(g-c)*r;continue}}t[f]=g}}var xr=function(e){p.extend(this,e),this.initialize.apply(this,arguments)};p.extend(xr.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=p.extend({},e._model)),e._start={},e},transition:function(e){var t=this,a=t._model,r=t._start,s=t._view;return!a||e===1?(t._view=p.extend({},a),t._start=null,t):(s||(s=t._view={}),r||(r=t._start={}),Oo(r,s,a,e),t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return p.isNumber(this._model.x)&&p.isNumber(this._model.y)}}),xr.extend=p.inherits;var We=xr,_r=We.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),wr=_r;Object.defineProperty(_r.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(_r.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),E._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:p.noop,onComplete:p.noop}});var Mr={animations:[],request:null,addAnimation:function(e,t,a,r){var s=this.animations,o,u;for(t.chart=e,t.startTime=Date.now(),t.duration=a,r||(e.animating=!0),o=0,u=s.length;o<u;++o)if(s[o].chart===e){s[o]=t;return}s.push(t),s.length===1&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=p.findIndex(this.animations,function(a){return a.chart===e});t!==-1&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;e.request===null&&(e.request=p.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e=this.animations,t,a,r,s,o=0;o<e.length;)t=e[o],a=t.chart,r=t.numSteps,s=Math.floor((Date.now()-t.startTime)/t.duration*r)+1,t.currentStep=Math.min(s,r),p.callback(t.render,[a,t],a),p.callback(t.onAnimationProgress,[t],a),t.currentStep>=r?(p.callback(t.onAnimationComplete,[t],a),a.animating=!1,e.splice(o,1)):++o}},Rt=p.options.resolve,an=["push","pop","shift","splice","unshift"];function Fo(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),an.forEach(function(a){var r="onData"+a.charAt(0).toUpperCase()+a.slice(1),s=e[a];Object.defineProperty(e,a,{configurable:!0,enumerable:!1,value:function(){var o=Array.prototype.slice.call(arguments),u=s.apply(this,o);return p.each(e._chartjs.listeners,function(f){typeof f[r]=="function"&&f[r].apply(f,o)}),u}})})}function rn(e,t){var a=e._chartjs;if(a){var r=a.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(an.forEach(function(o){delete e[o]}),delete e._chartjs)}}var kr=function(e,t){this.initialize(e,t)};p.extend(kr.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var a=this;a.chart=e,a.index=t,a.linkScales(),a.addElements(),a._type=a.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),a=e.chart,r=a.scales,s=e.getDataset(),o=a.options.scales;(t.xAxisID===null||!(t.xAxisID in r)||s.xAxisID)&&(t.xAxisID=s.xAxisID||o.xAxes[0].id),(t.yAxisID===null||!(t.yAxisID in r)||s.yAxisID)&&(t.yAxisID=s.yAxisID||o.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&rn(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,a=t.dataElementType;return a&&new a({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e=this,t=e.getMeta(),a=e.getDataset().data||[],r=t.data,s,o;for(s=0,o=a.length;s<o;++s)r[s]=r[s]||e.createMetaData(s);t.dataset=t.dataset||e.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,t=e.getDataset(),a=t.data||(t.data=[]);e._data!==a&&(e._data&&rn(e._data,e),a&&Object.isExtensible(a)&&Fo(a,e),e._data=a),e.resyncElements()},_configure:function(){var e=this;e._config=p.merge(Object.create(null),[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(t,a,r){t!=="_meta"&&t!=="data"&&p._merger(t,a,r)}})},_update:function(e){var t=this;t._configure(),t._cachedDataOpts=null,t.update(e)},update:p.noop,transition:function(e){for(var t=this.getMeta(),a=t.data||[],r=a.length,s=0;s<r;++s)a[s].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],a=t.length,r=0;for(e.dataset&&e.dataset.draw();r<a;++r)t[r].draw()},getStyle:function(e){var t=this,a=t.getMeta(),r=a.dataset,s;return t._configure(),r&&e===void 0?s=t._resolveDatasetElementOptions(r||{}):(e=e||0,s=t._resolveDataElementOptions(a.data[e]||{},e)),(s.fill===!1||s.fill===null)&&(s.backgroundColor=s.borderColor),s},_resolveDatasetElementOptions:function(e,t){var a=this,r=a.chart,s=a._config,o=e.custom||{},u=r.options.elements[a.datasetElementType.prototype._type]||{},f=a._datasetElementOptions,d={},c,g,m,b,_={chart:r,dataset:a.getDataset(),datasetIndex:a.index,hover:t};for(c=0,g=f.length;c<g;++c)m=f[c],b=t?"hover"+m.charAt(0).toUpperCase()+m.slice(1):m,d[m]=Rt([o[b],s[b],u[b]],_);return d},_resolveDataElementOptions:function(e,t){var a=this,r=e&&e.custom,s=a._cachedDataOpts;if(s&&!r)return s;var o=a.chart,u=a._config,f=o.options.elements[a.dataElementType.prototype._type]||{},d=a._dataElementOptions,c={},g={chart:o,dataIndex:t,dataset:a.getDataset(),datasetIndex:a.index},m={cacheable:!r},b,_,w,k;if(r=r||{},p.isArray(d))for(_=0,w=d.length;_<w;++_)k=d[_],c[k]=Rt([r[k],u[k],f[k]],g,t,m);else for(b=Object.keys(d),_=0,w=b.length;_<w;++_)k=b[_],c[k]=Rt([r[k],u[d[k]],u[k],f[k]],g,t,m);return m.cacheable&&(a._cachedDataOpts=Object.freeze(c)),c},removeHoverStyle:function(e){p.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],a=e._index,r=e.custom||{},s=e._model,o=p.getHoverColor;e.$previousStyle={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth},s.backgroundColor=Rt([r.hoverBackgroundColor,t.hoverBackgroundColor,o(s.backgroundColor)],void 0,a),s.borderColor=Rt([r.hoverBorderColor,t.hoverBorderColor,o(s.borderColor)],void 0,a),s.borderWidth=Rt([r.hoverBorderWidth,t.hoverBorderWidth,s.borderWidth],void 0,a)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e=this.getMeta().dataset,t={},a,r,s,o,u,f;if(e){for(f=e._model,u=this._resolveDatasetElementOptions(e,!0),o=Object.keys(u),a=0,r=o.length;a<r;++a)s=o[a],t[s]=f[s],f[s]=u[s];e.$previousStyle=t}},resyncElements:function(){var e=this,t=e.getMeta(),a=e.getDataset().data,r=t.data.length,s=a.length;s<r?t.data.splice(s,r-s):s>r&&e.insertElements(r,s-r)},insertElements:function(e,t){for(var a=0;a<t;++a)this.addElementAndReset(e+a)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),kr.extend=p.inherits;var Te=kr,Be=Math.PI*2;E._set("global",{elements:{arc:{backgroundColor:E.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function nn(e,t){var a=t.startAngle,r=t.endAngle,s=t.pixelMargin,o=s/t.outerRadius,u=t.x,f=t.y;e.beginPath(),e.arc(u,f,t.outerRadius,a-o,r+o),t.innerRadius>s?(o=s/t.innerRadius,e.arc(u,f,t.innerRadius-s,r+o,a-o,!0)):e.arc(u,f,s,r+Math.PI/2,a-Math.PI/2),e.closePath(),e.clip()}function Ro(e,t,a,r){var s=a.endAngle,o;for(r&&(a.endAngle=a.startAngle+Be,nn(e,a),a.endAngle=s,a.endAngle===a.startAngle&&a.fullCircles&&(a.endAngle+=Be,a.fullCircles--)),e.beginPath(),e.arc(a.x,a.y,a.innerRadius,a.startAngle+Be,a.startAngle,!0),o=0;o<a.fullCircles;++o)e.stroke();for(e.beginPath(),e.arc(a.x,a.y,t.outerRadius,a.startAngle,a.startAngle+Be),o=0;o<a.fullCircles;++o)e.stroke()}function Io(e,t,a){var r=t.borderAlign==="inner";r?(e.lineWidth=t.borderWidth*2,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),a.fullCircles&&Ro(e,t,a,r),r&&nn(e,a),e.beginPath(),e.arc(a.x,a.y,t.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),e.stroke()}var Eo=We.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return t?Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2):!1},inRange:function(e,t){var a=this._view;if(a){for(var r=p.getAngleFromPoint(a,{x:e,y:t}),s=r.angle,o=r.distance,u=a.startAngle,f=a.endAngle;f<u;)f+=Be;for(;s>f;)s-=Be;for(;s<u;)s+=Be;var d=s>=u&&s<=f,c=o>=a.innerRadius&&o<=a.outerRadius;return d&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,a=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*a,y:e.y+Math.sin(t)*a}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,a=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*a,y:e.y+Math.sin(t)*a}},draw:function(){var e=this._chart.ctx,t=this._view,a=t.borderAlign==="inner"?.33:0,r={x:t.x,y:t.y,innerRadius:t.innerRadius,outerRadius:Math.max(t.outerRadius-a,0),pixelMargin:a,startAngle:t.startAngle,endAngle:t.endAngle,fullCircles:Math.floor(t.circumference/Be)},s;if(e.save(),e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+Be,e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),s=0;s<r.fullCircles;++s)e.fill();r.endAngle=r.startAngle+t.circumference%Be}e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),e.fill(),t.borderWidth&&Io(e,t,r),e.restore()}}),sn=p.valueOrDefault,on=E.global.defaultColor;E._set("global",{elements:{line:{tension:.4,backgroundColor:on,borderWidth:3,borderColor:on,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Lo=We.extend({_type:"line",draw:function(){var e=this,t=e._view,a=e._chart.ctx,r=t.spanGaps,s=e._children.slice(),o=E.global,u=o.elements.line,f=-1,d=e._loop,c,g,m;if(s.length){if(e._loop){for(c=0;c<s.length;++c)if(g=p.previousItem(s,c),!s[c]._view.skip&&g._view.skip){s=s.slice(c).concat(s.slice(0,c)),d=r;break}d&&s.push(s[0])}for(a.save(),a.lineCap=t.borderCapStyle||u.borderCapStyle,a.setLineDash&&a.setLineDash(t.borderDash||u.borderDash),a.lineDashOffset=sn(t.borderDashOffset,u.borderDashOffset),a.lineJoin=t.borderJoinStyle||u.borderJoinStyle,a.lineWidth=sn(t.borderWidth,u.borderWidth),a.strokeStyle=t.borderColor||o.defaultColor,a.beginPath(),m=s[0]._view,m.skip||(a.moveTo(m.x,m.y),f=0),c=1;c<s.length;++c)m=s[c]._view,g=f===-1?p.previousItem(s,c):s[f],m.skip||(f!==c-1&&!r||f===-1?a.moveTo(m.x,m.y):p.canvas.lineTo(a,g._view,m),f=c);d&&a.closePath(),a.stroke(),a.restore()}}}),No=p.valueOrDefault,ln=E.global.defaultColor;E._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ln,borderColor:ln,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function un(e){var t=this._view;return t?Math.abs(e-t.x)<t.radius+t.hitRadius:!1}function Yo(e){var t=this._view;return t?Math.abs(e-t.y)<t.radius+t.hitRadius:!1}var Wo=We.extend({_type:"point",inRange:function(e,t){var a=this._view;return a?Math.pow(e-a.x,2)+Math.pow(t-a.y,2)<Math.pow(a.hitRadius+a.radius,2):!1},inLabelRange:un,inXRange:un,inYRange:Yo,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,a=this._chart.ctx,r=t.pointStyle,s=t.rotation,o=t.radius,u=t.x,f=t.y,d=E.global,c=d.defaultColor;t.skip||(e===void 0||p.canvas._isPointInArea(t,e))&&(a.strokeStyle=t.borderColor||c,a.lineWidth=No(t.borderWidth,d.elements.point.borderWidth),a.fillStyle=t.backgroundColor||c,p.canvas.drawPoint(a,r,o,u,f,s))}}),dn=E.global.defaultColor;E._set("global",{elements:{rectangle:{backgroundColor:dn,borderColor:dn,borderSkipped:"bottom",borderWidth:0}}});function Ea(e){return e&&e.width!==void 0}function hn(e){var t,a,r,s,o;return Ea(e)?(o=e.width/2,t=e.x-o,a=e.x+o,r=Math.min(e.y,e.base),s=Math.max(e.y,e.base)):(o=e.height/2,t=Math.min(e.x,e.base),a=Math.max(e.x,e.base),r=e.y-o,s=e.y+o),{left:t,top:r,right:a,bottom:s}}function fn(e,t,a){return e===t?a:e===a?t:e}function Bo(e){var t=e.borderSkipped,a={};return t&&(e.horizontal?e.base>e.x&&(t=fn(t,"left","right")):e.base<e.y&&(t=fn(t,"bottom","top")),a[t]=!0),a}function zo(e,t,a){var r=e.borderWidth,s=Bo(e),o,u,f,d;return p.isObject(r)?(o=+r.top||0,u=+r.right||0,f=+r.bottom||0,d=+r.left||0):o=u=f=d=+r||0,{t:s.top||o<0?0:o>a?a:o,r:s.right||u<0?0:u>t?t:u,b:s.bottom||f<0?0:f>a?a:f,l:s.left||d<0?0:d>t?t:d}}function Ho(e){var t=hn(e),a=t.right-t.left,r=t.bottom-t.top,s=zo(e,a/2,r/2);return{outer:{x:t.left,y:t.top,w:a,h:r},inner:{x:t.left+s.l,y:t.top+s.t,w:a-s.l-s.r,h:r-s.t-s.b}}}function ra(e,t,a){var r=t===null,s=a===null,o=!e||r&&s?!1:hn(e);return o&&(r||t>=o.left&&t<=o.right)&&(s||a>=o.top&&a<=o.bottom)}var Vo=We.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,a=Ho(t),r=a.outer,s=a.inner;e.fillStyle=t.backgroundColor,e.fillRect(r.x,r.y,r.w,r.h),!(r.w===s.w&&r.h===s.h)&&(e.save(),e.beginPath(),e.rect(r.x,r.y,r.w,r.h),e.clip(),e.fillStyle=t.borderColor,e.rect(s.x,s.y,s.w,s.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return ra(this._view,e,t)},inLabelRange:function(e,t){var a=this._view;return Ea(a)?ra(a,e,null):ra(a,null,t)},inXRange:function(e){return ra(this._view,e,null)},inYRange:function(e){return ra(this._view,null,e)},getCenterPoint:function(){var e=this._view,t,a;return Ea(e)?(t=e.x,a=(e.y+e.base)/2):(t=(e.x+e.base)/2,a=e.y),{x:t,y:a}},getArea:function(){var e=this._view;return Ea(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),pe={},Go=Eo,Uo=Lo,jo=Wo,$o=Vo;pe.Arc=Go,pe.Line=Uo,pe.Point=jo,pe.Rectangle=$o;var ia=p._deprecated,It=p.valueOrDefault;E._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),E._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function qo(e,t){var a=e._length,r,s,o,u;for(o=1,u=t.length;o<u;++o)a=Math.min(a,Math.abs(t[o]-t[o-1]));for(o=0,u=e.getTicks().length;o<u;++o)s=e.getPixelForTick(o),a=o>0?Math.min(a,Math.abs(s-r)):a,r=s;return a}function Xo(e,t,a){var r=a.barThickness,s=t.stackCount,o=t.pixels[e],u=p.isNullOrUndef(r)?qo(t.scale,t.pixels):-1,f,d;return p.isNullOrUndef(r)?(f=u*a.categoryPercentage,d=a.barPercentage):(f=r*s,d=1),{chunk:f/s,ratio:d,start:o-f/2}}function Zo(e,t,a){var r=t.pixels,s=r[e],o=e>0?r[e-1]:null,u=e<r.length-1?r[e+1]:null,f=a.categoryPercentage,d,c;return o===null&&(o=s-(u===null?t.end-t.start:u-s)),u===null&&(u=s+s-o),d=s-(s-Math.min(o,u))/2*f,c=Math.abs(u-o)/2*f,{chunk:c/t.stackCount,ratio:a.barPercentage,start:d}}var cn=Te.extend({dataElementType:pe.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e=this,t,a;Te.prototype.initialize.apply(e,arguments),t=e.getMeta(),t.stack=e.getDataset().stack,t.bar=!0,a=e._getIndexScale().options,ia("bar chart",a.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),ia("bar chart",a.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),ia("bar chart",a.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),ia("bar chart",e._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),ia("bar chart",a.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t=this,a=t.getMeta().data,r,s;for(t._ruler=t.getRuler(),r=0,s=a.length;r<s;++r)t.updateElement(a[r],r,e)},updateElement:function(e,t,a){var r=this,s=r.getMeta(),o=r.getDataset(),u=r._resolveDataElementOptions(e,t);e._xScale=r.getScaleForId(s.xAxisID),e._yScale=r.getScaleForId(s.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderSkipped:u.borderSkipped,borderWidth:u.borderWidth,datasetLabel:o.label,label:r.chart.data.labels[t]},p.isArray(o.data[t])&&(e._model.borderSkipped=null),r._updateElementGeometry(e,t,a,u),e.pivot()},_updateElementGeometry:function(e,t,a,r){var s=this,o=e._model,u=s._getValueScale(),f=u.getBasePixel(),d=u.isHorizontal(),c=s._ruler||s.getRuler(),g=s.calculateBarValuePixels(s.index,t,r),m=s.calculateBarIndexPixels(s.index,t,c,r);o.horizontal=d,o.base=a?f:g.base,o.x=d?a?f:g.head:m.center,o.y=d?m.center:a?f:g.head,o.height=d?m.size:void 0,o.width=d?void 0:m.size},_getStacks:function(e){var t=this,a=t._getIndexScale(),r=a._getMatchingVisibleMetas(t._type),s=a.options.stacked,o=r.length,u=[],f,d;for(f=0;f<o&&(d=r[f],(s===!1||u.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&u.push(d.stack),d.index!==e);++f);return u},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var a=this._getStacks(e),r=t!==void 0?a.indexOf(t):-1;return r===-1?a.length-1:r},getRuler:function(){var e=this,t=e._getIndexScale(),a=[],r,s;for(r=0,s=e.getMeta().data.length;r<s;++r)a.push(t.getPixelForValue(null,r,e.index));return{pixels:a,start:t._startPixel,end:t._endPixel,stackCount:e.getStackCount(),scale:t}},calculateBarValuePixels:function(e,t,a){var r=this,s=r.chart,o=r._getValueScale(),u=o.isHorizontal(),f=s.data.datasets,d=o._getMatchingVisibleMetas(r._type),c=o._parseValue(f[e].data[t]),g=a.minBarLength,m=o.options.stacked,b=r.getMeta().stack,_=c.start===void 0?0:c.max>=0&&c.min>=0?c.min:c.max,w=c.start===void 0?c.end:c.max>=0&&c.min>=0?c.max-c.min:c.min-c.max,k=d.length,S,C,F,I,z,W,X;if(m||m===void 0&&b!==void 0)for(S=0;S<k&&(C=d[S],C.index!==e);++S)C.stack===b&&(X=o._parseValue(f[C.index].data[t]),F=X.start===void 0?X.end:X.min>=0&&X.max>=0?X.max:X.min,(c.min<0&&F<0||c.max>=0&&F>0)&&(_+=F));return I=o.getPixelForValue(_),z=o.getPixelForValue(_+w),W=z-I,g!==void 0&&Math.abs(W)<g&&(W=g,w>=0&&!u||w<0&&u?z=I-g:z=I+g),{size:W,base:I,head:z,center:z+W/2}},calculateBarIndexPixels:function(e,t,a,r){var s=this,o=r.barThickness==="flex"?Zo(t,a,r):Xo(t,a,r),u=s.getStackIndex(e,s.getMeta().stack),f=o.start+o.chunk*u+o.chunk/2,d=Math.min(It(r.maxBarThickness,1/0),o.chunk*o.ratio);return{base:f-d/2,head:f+d/2,center:f,size:d}},draw:function(){var e=this,t=e.chart,a=e._getValueScale(),r=e.getMeta().data,s=e.getDataset(),o=r.length,u=0;for(p.canvas.clipArea(t.ctx,t.chartArea);u<o;++u){var f=a._parseValue(s.data[u]);!isNaN(f.min)&&!isNaN(f.max)&&r[u].draw()}p.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var e=this,t=p.extend({},Te.prototype._resolveDataElementOptions.apply(e,arguments)),a=e._getIndexScale().options,r=e._getValueScale().options;return t.barPercentage=It(a.barPercentage,t.barPercentage),t.barThickness=It(a.barThickness,t.barThickness),t.categoryPercentage=It(a.categoryPercentage,t.categoryPercentage),t.maxBarThickness=It(a.maxBarThickness,t.maxBarThickness),t.minBarLength=It(r.minBarLength,t.minBarLength),t}}),Sr=p.valueOrDefault,Ko=p.options.resolve;E._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return a+": ("+e.xLabel+", "+e.yLabel+", "+r.r+")"}}}});var Jo=Te.extend({dataElementType:pe.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,a=t.getMeta(),r=a.data;p.each(r,function(s,o){t.updateElement(s,o,e)})},updateElement:function(e,t,a){var r=this,s=r.getMeta(),o=e.custom||{},u=r.getScaleForId(s.xAxisID),f=r.getScaleForId(s.yAxisID),d=r._resolveDataElementOptions(e,t),c=r.getDataset().data[t],g=r.index,m=a?u.getPixelForDecimal(.5):u.getPixelForValue(typeof c=="object"?c:NaN,t,g),b=a?f.getBasePixel():f.getPixelForValue(c,t,g);e._xScale=u,e._yScale=f,e._options=d,e._datasetIndex=g,e._index=t,e._model={backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderWidth:d.borderWidth,hitRadius:d.hitRadius,pointStyle:d.pointStyle,rotation:d.rotation,radius:a?0:d.radius,skip:o.skip||isNaN(m)||isNaN(b),x:m,y:b},e.pivot()},setHoverStyle:function(e){var t=e._model,a=e._options,r=p.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Sr(a.hoverBackgroundColor,r(a.backgroundColor)),t.borderColor=Sr(a.hoverBorderColor,r(a.borderColor)),t.borderWidth=Sr(a.hoverBorderWidth,a.borderWidth),t.radius=a.radius+a.hoverRadius},_resolveDataElementOptions:function(e,t){var a=this,r=a.chart,s=a.getDataset(),o=e.custom||{},u=s.data[t]||{},f=Te.prototype._resolveDataElementOptions.apply(a,arguments),d={chart:r,dataIndex:t,dataset:s,datasetIndex:a.index};return a._cachedDataOpts===f&&(f=p.extend({},f)),f.radius=Ko([o.radius,u.r,a._config.radius,r.options.elements.point.radius],d,t),f}}),La=p.valueOrDefault,pt=Math.PI,$e=pt*2,yt=pt/2;E._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=document.createElement("ul"),a=e.data,r=a.datasets,s=a.labels,o,u,f,d;if(t.setAttribute("class",e.id+"-legend"),r.length)for(o=0,u=r[0].data.length;o<u;++o)f=t.appendChild(document.createElement("li")),d=f.appendChild(document.createElement("span")),d.style.backgroundColor=r[0].backgroundColor[o],s[o]&&f.appendChild(document.createTextNode(s[o]));return t.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(a,r){var s=e.getDatasetMeta(0),o=s.controller.getStyle(r);return{text:a,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[r])||s.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var a=t.index,r=this.chart,s,o,u;for(s=0,o=(r.data.datasets||[]).length;s<o;++s)u=r.getDatasetMeta(s),u.data[a]&&(u.data[a].hidden=!u.data[a].hidden);r.update()}},cutoutPercentage:50,rotation:-yt,circumference:$e,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var a=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return p.isArray(a)?(a=a.slice(),a[0]+=r):a+=r,a}}}});var vn=Te.extend({dataElementType:pe.Arc,linkScales:p.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,a=0;a<e;++a)this.chart.isDatasetVisible(a)&&++t;return t},update:function(e){var t=this,a=t.chart,r=a.chartArea,s=a.options,o=1,u=1,f=0,d=0,c=t.getMeta(),g=c.data,m=s.cutoutPercentage/100||0,b=s.circumference,_=t._getRingWeight(t.index),w,k,S,C;if(b<$e){var F=s.rotation%$e;F+=F>=pt?-$e:F<-pt?$e:0;var I=F+b,z=Math.cos(F),W=Math.sin(F),X=Math.cos(I),j=Math.sin(I),J=F<=0&&I>=0||I>=$e,te=F<=yt&&I>=yt||I>=$e+yt,de=F===-pt||I>=pt,le=F<=-yt&&I>=-yt||I>=pt+yt,se=de?-1:Math.min(z,z*m,X,X*m),fe=le?-1:Math.min(W,W*m,j,j*m),Wt=J?1:Math.max(z,z*m,X,X*m),Bt=te?1:Math.max(W,W*m,j,j*m);o=(Wt-se)/2,u=(Bt-fe)/2,f=-(Wt+se)/2,d=-(Bt+fe)/2}for(S=0,C=g.length;S<C;++S)g[S]._options=t._resolveDataElementOptions(g[S],S);for(a.borderWidth=t.getMaxBorderWidth(),w=(r.right-r.left-a.borderWidth)/o,k=(r.bottom-r.top-a.borderWidth)/u,a.outerRadius=Math.max(Math.min(w,k)/2,0),a.innerRadius=Math.max(a.outerRadius*m,0),a.radiusLength=(a.outerRadius-a.innerRadius)/(t._getVisibleDatasetWeightTotal()||1),a.offsetX=f*a.outerRadius,a.offsetY=d*a.outerRadius,c.total=t.calculateTotal(),t.outerRadius=a.outerRadius-a.radiusLength*t._getRingWeightOffset(t.index),t.innerRadius=Math.max(t.outerRadius-a.radiusLength*_,0),S=0,C=g.length;S<C;++S)t.updateElement(g[S],S,e)},updateElement:function(e,t,a){var r=this,s=r.chart,o=s.chartArea,u=s.options,f=u.animation,d=(o.left+o.right)/2,c=(o.top+o.bottom)/2,g=u.rotation,m=u.rotation,b=r.getDataset(),_=a&&f.animateRotate||e.hidden?0:r.calculateCircumference(b.data[t])*(u.circumference/$e),w=a&&f.animateScale?0:r.innerRadius,k=a&&f.animateScale?0:r.outerRadius,S=e._options||{};p.extend(e,{_datasetIndex:r.index,_index:t,_model:{backgroundColor:S.backgroundColor,borderColor:S.borderColor,borderWidth:S.borderWidth,borderAlign:S.borderAlign,x:d+s.offsetX,y:c+s.offsetY,startAngle:g,endAngle:m,circumference:_,outerRadius:k,innerRadius:w,label:p.valueAtIndexOrDefault(b.label,t,s.data.labels[t])}});var C=e._model;(!a||!f.animateRotate)&&(t===0?C.startAngle=u.rotation:C.startAngle=r.getMeta().data[t-1]._model.endAngle,C.endAngle=C.startAngle+C.circumference),e.pivot()},calculateTotal:function(){var e=this.getDataset(),t=this.getMeta(),a=0,r;return p.each(t.data,function(s,o){r=e.data[o],!isNaN(r)&&!s.hidden&&(a+=Math.abs(r))}),a},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?$e*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t=this,a=0,r=t.chart,s,o,u,f,d,c,g,m;if(!e){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){u=r.getDatasetMeta(s),e=u.data,s!==t.index&&(d=u.controller);break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)f=e[s],d?(d._configure(),c=d._resolveDataElementOptions(f,s)):c=f._options,c.borderAlign!=="inner"&&(g=c.borderWidth,m=c.hoverBorderWidth,a=g>a?g:a,a=m>a?m:a);return a},setHoverStyle:function(e){var t=e._model,a=e._options,r=p.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=La(a.hoverBackgroundColor,r(a.backgroundColor)),t.borderColor=La(a.hoverBorderColor,r(a.borderColor)),t.borderWidth=La(a.hoverBorderWidth,a.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t},_getRingWeight:function(e){return Math.max(La(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});E._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),E._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Qo=cn.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),qe=p.valueOrDefault,el=p.options.resolve,Dr=p.canvas._isPointInArea;E._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function gn(e,t){var a=e&&e.options.ticks||{},r=a.reverse,s=a.min===void 0?t:0,o=a.max===void 0?t:0;return{start:r?o:s,end:r?s:o}}function tl(e,t,a){var r=a/2,s=gn(e,r),o=gn(t,r);return{top:o.end,right:s.end,bottom:o.start,left:s.start}}function al(e){var t,a,r,s;return p.isObject(e)?(t=e.top,a=e.right,r=e.bottom,s=e.left):t=a=r=s=e,{top:t,right:a,bottom:r,left:s}}var mn=Te.extend({datasetElementType:pe.Line,dataElementType:pe.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t=this,a=t.getMeta(),r=a.dataset,s=a.data||[],o=t.chart.options,u=t._config,f=t._showLine=qe(u.showLine,o.showLines),d,c;for(t._xScale=t.getScaleForId(a.xAxisID),t._yScale=t.getScaleForId(a.yAxisID),f&&(u.tension!==void 0&&u.lineTension===void 0&&(u.lineTension=u.tension),r._scale=t._yScale,r._datasetIndex=t.index,r._children=s,r._model=t._resolveDatasetElementOptions(r),r.pivot()),d=0,c=s.length;d<c;++d)t.updateElement(s[d],d,e);for(f&&r._model.tension!==0&&t.updateBezierControlPoints(),d=0,c=s.length;d<c;++d)s[d].pivot()},updateElement:function(e,t,a){var r=this,s=r.getMeta(),o=e.custom||{},u=r.getDataset(),f=r.index,d=u.data[t],c=r._xScale,g=r._yScale,m=s.dataset._model,b,_,w=r._resolveDataElementOptions(e,t);b=c.getPixelForValue(typeof d=="object"?d:NaN,t,f),_=a?g.getBasePixel():r.calculatePointY(d,t,f),e._xScale=c,e._yScale=g,e._options=w,e._datasetIndex=f,e._index=t,e._model={x:b,y:_,skip:o.skip||isNaN(b)||isNaN(_),radius:w.radius,pointStyle:w.pointStyle,rotation:w.rotation,backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth,tension:qe(o.tension,m?m.tension:0),steppedLine:m?m.steppedLine:!1,hitRadius:w.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,a=t._config,r=e.custom||{},s=t.chart.options,o=s.elements.line,u=Te.prototype._resolveDatasetElementOptions.apply(t,arguments);return u.spanGaps=qe(a.spanGaps,s.spanGaps),u.tension=qe(a.lineTension,o.tension),u.steppedLine=el([r.steppedLine,a.steppedLine,o.stepped]),u.clip=al(qe(a.clip,tl(t._xScale,t._yScale,u.borderWidth))),u},calculatePointY:function(e,t,a){var r=this,s=r.chart,o=r._yScale,u=0,f=0,d,c,g,m,b,_,w;if(o.options.stacked){for(b=+o.getRightValue(e),_=s._getSortedVisibleDatasetMetas(),w=_.length,d=0;d<w&&(g=_[d],g.index!==a);++d)c=s.data.datasets[g.index],g.type==="line"&&g.yAxisID===o.id&&(m=+o.getRightValue(c.data[t]),m<0?f+=m||0:u+=m||0);return b<0?o.getPixelForValue(f+b):o.getPixelForValue(u+b)}return o.getPixelForValue(e)},updateBezierControlPoints:function(){var e=this,t=e.chart,a=e.getMeta(),r=a.dataset._model,s=t.chartArea,o=a.data||[],u,f,d,c;r.spanGaps&&(o=o.filter(function(m){return!m._model.skip}));function g(m,b,_){return Math.max(Math.min(m,_),b)}if(r.cubicInterpolationMode==="monotone")p.splineCurveMonotone(o);else for(u=0,f=o.length;u<f;++u)d=o[u]._model,c=p.splineCurve(p.previousItem(o,u)._model,d,p.nextItem(o,u)._model,r.tension),d.controlPointPreviousX=c.previous.x,d.controlPointPreviousY=c.previous.y,d.controlPointNextX=c.next.x,d.controlPointNextY=c.next.y;if(t.options.elements.line.capBezierPoints)for(u=0,f=o.length;u<f;++u)d=o[u]._model,Dr(d,s)&&(u>0&&Dr(o[u-1]._model,s)&&(d.controlPointPreviousX=g(d.controlPointPreviousX,s.left,s.right),d.controlPointPreviousY=g(d.controlPointPreviousY,s.top,s.bottom)),u<o.length-1&&Dr(o[u+1]._model,s)&&(d.controlPointNextX=g(d.controlPointNextX,s.left,s.right),d.controlPointNextY=g(d.controlPointNextY,s.top,s.bottom)))},draw:function(){var e=this,t=e.chart,a=e.getMeta(),r=a.data||[],s=t.chartArea,o=t.canvas,u=0,f=r.length,d;for(e._showLine&&(d=a.dataset._model.clip,p.canvas.clipArea(t.ctx,{left:d.left===!1?0:s.left-d.left,right:d.right===!1?o.width:s.right+d.right,top:d.top===!1?0:s.top-d.top,bottom:d.bottom===!1?o.height:s.bottom+d.bottom}),a.dataset.draw(),p.canvas.unclipArea(t.ctx));u<f;++u)r[u].draw(s)},setHoverStyle:function(e){var t=e._model,a=e._options,r=p.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=qe(a.hoverBackgroundColor,r(a.backgroundColor)),t.borderColor=qe(a.hoverBorderColor,r(a.borderColor)),t.borderWidth=qe(a.hoverBorderWidth,a.borderWidth),t.radius=qe(a.hoverRadius,a.radius)}}),rl=p.options.resolve;E._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=document.createElement("ul"),a=e.data,r=a.datasets,s=a.labels,o,u,f,d;if(t.setAttribute("class",e.id+"-legend"),r.length)for(o=0,u=r[0].data.length;o<u;++o)f=t.appendChild(document.createElement("li")),d=f.appendChild(document.createElement("span")),d.style.backgroundColor=r[0].backgroundColor[o],s[o]&&f.appendChild(document.createTextNode(s[o]));return t.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(a,r){var s=e.getDatasetMeta(0),o=s.controller.getStyle(r);return{text:a,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[r])||s.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var a=t.index,r=this.chart,s,o,u;for(s=0,o=(r.data.datasets||[]).length;s<o;++s)u=r.getDatasetMeta(s),u.data[a].hidden=!u.data[a].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var il=Te.extend({dataElementType:pe.Arc,linkScales:p.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t=this,a=t.getDataset(),r=t.getMeta(),s=t.chart.options.startAngle||0,o=t._starts=[],u=t._angles=[],f=r.data,d,c,g;for(t._updateRadius(),r.count=t.countVisibleElements(),d=0,c=a.data.length;d<c;d++)o[d]=s,g=t._computeAngle(d),u[d]=g,s+=g;for(d=0,c=f.length;d<c;++d)f[d]._options=t._resolveDataElementOptions(f[d],d),t.updateElement(f[d],d,e)},_updateRadius:function(){var e=this,t=e.chart,a=t.chartArea,r=t.options,s=Math.min(a.right-a.left,a.bottom-a.top);t.outerRadius=Math.max(s/2,0),t.innerRadius=Math.max(r.cutoutPercentage?t.outerRadius/100*r.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,a){var r=this,s=r.chart,o=r.getDataset(),u=s.options,f=u.animation,d=s.scale,c=s.data.labels,g=d.xCenter,m=d.yCenter,b=u.startAngle,_=e.hidden?0:d.getDistanceFromCenterForValue(o.data[t]),w=r._starts[t],k=w+(e.hidden?0:r._angles[t]),S=f.animateScale?0:d.getDistanceFromCenterForValue(o.data[t]),C=e._options||{};p.extend(e,{_datasetIndex:r.index,_index:t,_scale:d,_model:{backgroundColor:C.backgroundColor,borderColor:C.borderColor,borderWidth:C.borderWidth,borderAlign:C.borderAlign,x:g,y:m,innerRadius:0,outerRadius:a?S:_,startAngle:a&&f.animateRotate?b:w,endAngle:a&&f.animateRotate?b:k,label:p.valueAtIndexOrDefault(c,t,c[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),a=0;return p.each(t.data,function(r,s){!isNaN(e.data[s])&&!r.hidden&&a++}),a},setHoverStyle:function(e){var t=e._model,a=e._options,r=p.getHoverColor,s=p.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=s(a.hoverBackgroundColor,r(a.backgroundColor)),t.borderColor=s(a.hoverBorderColor,r(a.borderColor)),t.borderWidth=s(a.hoverBorderWidth,a.borderWidth)},_computeAngle:function(e){var t=this,a=this.getMeta().count,r=t.getDataset(),s=t.getMeta();if(isNaN(r.data[e])||s.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:r,datasetIndex:t.index};return rl([t.chart.options.elements.arc.angle,2*Math.PI/a],o,e)}});E._set("pie",p.clone(E.doughnut)),E._set("pie",{cutoutPercentage:0});var nl=vn,bt=p.valueOrDefault;E._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var sl=Te.extend({datasetElementType:pe.Line,dataElementType:pe.Point,linkScales:p.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t=this,a=t.getMeta(),r=a.dataset,s=a.data||[],o=t.chart.scale,u=t._config,f,d;for(u.tension!==void 0&&u.lineTension===void 0&&(u.lineTension=u.tension),r._scale=o,r._datasetIndex=t.index,r._children=s,r._loop=!0,r._model=t._resolveDatasetElementOptions(r),r.pivot(),f=0,d=s.length;f<d;++f)t.updateElement(s[f],f,e);for(t.updateBezierControlPoints(),f=0,d=s.length;f<d;++f)s[f].pivot()},updateElement:function(e,t,a){var r=this,s=e.custom||{},o=r.getDataset(),u=r.chart.scale,f=u.getPointPositionForValue(t,o.data[t]),d=r._resolveDataElementOptions(e,t),c=r.getMeta().dataset._model,g=a?u.xCenter:f.x,m=a?u.yCenter:f.y;e._scale=u,e._options=d,e._datasetIndex=r.index,e._index=t,e._model={x:g,y:m,skip:s.skip||isNaN(g)||isNaN(m),radius:d.radius,pointStyle:d.pointStyle,rotation:d.rotation,backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderWidth:d.borderWidth,tension:bt(s.tension,c?c.tension:0),hitRadius:d.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,a=e.chart.options,r=Te.prototype._resolveDatasetElementOptions.apply(e,arguments);return r.spanGaps=bt(t.spanGaps,a.spanGaps),r.tension=bt(t.lineTension,a.elements.line.tension),r},updateBezierControlPoints:function(){var e=this,t=e.getMeta(),a=e.chart.chartArea,r=t.data||[],s,o,u,f;t.dataset._model.spanGaps&&(r=r.filter(function(c){return!c._model.skip}));function d(c,g,m){return Math.max(Math.min(c,m),g)}for(s=0,o=r.length;s<o;++s)u=r[s]._model,f=p.splineCurve(p.previousItem(r,s,!0)._model,u,p.nextItem(r,s,!0)._model,u.tension),u.controlPointPreviousX=d(f.previous.x,a.left,a.right),u.controlPointPreviousY=d(f.previous.y,a.top,a.bottom),u.controlPointNextX=d(f.next.x,a.left,a.right),u.controlPointNextY=d(f.next.y,a.top,a.bottom)},setHoverStyle:function(e){var t=e._model,a=e._options,r=p.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=bt(a.hoverBackgroundColor,r(a.backgroundColor)),t.borderColor=bt(a.hoverBorderColor,r(a.borderColor)),t.borderWidth=bt(a.hoverBorderWidth,a.borderWidth),t.radius=bt(a.hoverRadius,a.radius)}});E._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),E._set("global",{datasets:{scatter:{showLine:!1}}});var ol=mn,pn={bar:cn,bubble:Jo,doughnut:vn,horizontalBar:Qo,line:mn,polarArea:il,pie:nl,radar:sl,scatter:ol};function xt(e,t){return e.native?{x:e.x,y:e.y}:p.getRelativePosition(e,t)}function na(e,t){var a=e._getSortedVisibleDatasetMetas(),r,s,o,u,f,d;for(s=0,u=a.length;s<u;++s)for(r=a[s].data,o=0,f=r.length;o<f;++o)d=r[o],d._view.skip||t(d)}function Cr(e,t){var a=[];return na(e,function(r){r.inRange(t.x,t.y)&&a.push(r)}),a}function Tr(e,t,a,r){var s=Number.POSITIVE_INFINITY,o=[];return na(e,function(u){if(!(a&&!u.inRange(t.x,t.y))){var f=u.getCenterPoint(),d=r(t,f);d<s?(o=[u],s=d):d===s&&o.push(u)}}),o}function Pr(e){var t=e.indexOf("x")!==-1,a=e.indexOf("y")!==-1;return function(r,s){var o=t?Math.abs(r.x-s.x):0,u=a?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function Ar(e,t,a){var r=xt(t,e);a.axis=a.axis||"x";var s=Pr(a.axis),o=a.intersect?Cr(e,r):Tr(e,r,!1,s),u=[];return o.length?(e._getSortedVisibleDatasetMetas().forEach(function(f){var d=f.data[o[0]._index];d&&!d._view.skip&&u.push(d)}),u):[]}var Et={modes:{single:function(e,t){var a=xt(t,e),r=[];return na(e,function(s){if(s.inRange(a.x,a.y))return r.push(s),r}),r.slice(0,1)},label:Ar,index:Ar,dataset:function(e,t,a){var r=xt(t,e);a.axis=a.axis||"xy";var s=Pr(a.axis),o=a.intersect?Cr(e,r):Tr(e,r,!1,s);return o.length>0&&(o=e.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(e,t){return Ar(e,t,{intersect:!1})},point:function(e,t){var a=xt(t,e);return Cr(e,a)},nearest:function(e,t,a){var r=xt(t,e);a.axis=a.axis||"xy";var s=Pr(a.axis);return Tr(e,r,a.intersect,s)},x:function(e,t,a){var r=xt(t,e),s=[],o=!1;return na(e,function(u){u.inXRange(r.x)&&s.push(u),u.inRange(r.x,r.y)&&(o=!0)}),a.intersect&&!o&&(s=[]),s},y:function(e,t,a){var r=xt(t,e),s=[],o=!1;return na(e,function(u){u.inYRange(r.y)&&s.push(u),u.inRange(r.x,r.y)&&(o=!0)}),a.intersect&&!o&&(s=[]),s}}},Or=p.extend;function sa(e,t){return p.where(e,function(a){return a.pos===t})}function Na(e,t){return e.sort(function(a,r){var s=t?r:a,o=t?a:r;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function ll(e){var t=[],a,r,s;for(a=0,r=(e||[]).length;a<r;++a)s=e[a],t.push({index:a,box:s,pos:s.position,horizontal:s.isHorizontal(),weight:s.weight});return t}function ul(e,t){var a,r,s;for(a=0,r=e.length;a<r;++a)s=e[a],s.width=s.horizontal?s.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,s.height=s.horizontal&&t.hBoxMaxHeight}function dl(e){var t=ll(e),a=Na(sa(t,"left"),!0),r=Na(sa(t,"right")),s=Na(sa(t,"top"),!0),o=Na(sa(t,"bottom"));return{leftAndTop:a.concat(s),rightAndBottom:r.concat(o),chartArea:sa(t,"chartArea"),vertical:a.concat(r),horizontal:s.concat(o)}}function yn(e,t,a,r){return Math.max(e[a],t[a])+Math.max(e[r],t[r])}function hl(e,t,a){var r=a.box,s=e.maxPadding,o,u;if(a.size&&(e[a.pos]-=a.size),a.size=a.horizontal?r.height:r.width,e[a.pos]+=a.size,r.getPadding){var f=r.getPadding();s.top=Math.max(s.top,f.top),s.left=Math.max(s.left,f.left),s.bottom=Math.max(s.bottom,f.bottom),s.right=Math.max(s.right,f.right)}if(o=t.outerWidth-yn(s,e,"left","right"),u=t.outerHeight-yn(s,e,"top","bottom"),o!==e.w||u!==e.h){e.w=o,e.h=u;var d=a.horizontal?[o,e.w]:[u,e.h];return d[0]!==d[1]&&(!isNaN(d[0])||!isNaN(d[1]))}}function fl(e){var t=e.maxPadding;function a(r){var s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}function cl(e,t){var a=t.maxPadding;function r(s){var o={left:0,top:0,right:0,bottom:0};return s.forEach(function(u){o[u]=Math.max(t[u],a[u])}),o}return r(e?["left","right"]:["top","bottom"])}function Ya(e,t,a){var r=[],s,o,u,f,d,c;for(s=0,o=e.length;s<o;++s)u=e[s],f=u.box,f.update(u.width||t.w,u.height||t.h,cl(u.horizontal,t)),hl(t,a,u)&&(c=!0,r.length&&(d=!0)),f.fullWidth||r.push(u);return d&&Ya(r,t,a)||c}function bn(e,t,a){var r=a.padding,s=t.x,o=t.y,u,f,d,c;for(u=0,f=e.length;u<f;++u)d=e[u],c=d.box,d.horizontal?(c.left=c.fullWidth?r.left:t.left,c.right=c.fullWidth?a.outerWidth-r.right:t.left+t.w,c.top=o,c.bottom=o+c.height,c.width=c.right-c.left,o=c.bottom):(c.left=s,c.right=s+c.width,c.top=t.top,c.bottom=t.top+t.h,c.height=c.bottom-c.top,s=c.right);t.x=s,t.y=o}E._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Pe={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var a=e.boxes?e.boxes.indexOf(t):-1;a!==-1&&e.boxes.splice(a,1)},configure:function(e,t,a){for(var r=["fullWidth","position","weight"],s=r.length,o=0,u;o<s;++o)u=r[o],a.hasOwnProperty(u)&&(t[u]=a[u])},update:function(e,t,a){if(e){var r=e.options.layout||{},s=p.options.toPadding(r.padding),o=t-s.width,u=a-s.height,f=dl(e.boxes),d=f.vertical,c=f.horizontal,g=Object.freeze({outerWidth:t,outerHeight:a,padding:s,availableWidth:o,vBoxMaxWidth:o/2/d.length,hBoxMaxHeight:u/2}),m=Or({maxPadding:Or({},s),w:o,h:u,x:s.left,y:s.top},s);ul(d.concat(c),g),Ya(d,m,g),Ya(c,m,g)&&Ya(d,m,g),fl(m),bn(f.leftAndTop,m,g),m.x+=m.w,m.y+=m.h,bn(f.rightAndBottom,m,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h},p.each(f.chartArea,function(b){var _=b.box;Or(_,e.chartArea),_.update(m.w,m.h)})}}},vl={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},gl=`/*\r
 * DOM element rendering detection\r
 * https://davidwalsh.name/detect-node-insertion\r
 */\r
@keyframes chartjs-render-animation {\r
	from { opacity: 0.99; }\r
	to { opacity: 1; }\r
}\r
\r
.chartjs-render-monitor {\r
	animation: chartjs-render-animation 0.001s;\r
}\r
\r
/*\r
 * DOM element resizing detection\r
 * https://github.com/marcj/css-element-queries\r
 */\r
.chartjs-size-monitor,\r
.chartjs-size-monitor-expand,\r
.chartjs-size-monitor-shrink {\r
	position: absolute;\r
	direction: ltr;\r
	left: 0;\r
	top: 0;\r
	right: 0;\r
	bottom: 0;\r
	overflow: hidden;\r
	pointer-events: none;\r
	visibility: hidden;\r
	z-index: -1;\r
}\r
\r
.chartjs-size-monitor-expand > div {\r
	position: absolute;\r
	width: 1000000px;\r
	height: 1000000px;\r
	left: 0;\r
	top: 0;\r
}\r
\r
.chartjs-size-monitor-shrink > div {\r
	position: absolute;\r
	width: 200%;\r
	height: 200%;\r
	left: 0;\r
	top: 0;\r
}\r
`,ml=Object.freeze({__proto__:null,default:gl}),pl=v(ml),ge="$chartjs",Fr="chartjs-",Rr=Fr+"size-monitor",xn=Fr+"render-monitor",yl=Fr+"render-animation",_n=["animationstart","webkitAnimationStart"],bl={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function wn(e,t){var a=p.getStyle(e,t),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function xl(e,t){var a=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[ge]={initial:{height:r,width:s,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",s===null||s===""){var o=wn(e,"width");o!==void 0&&(e.width=o)}if(r===null||r==="")if(e.style.height==="")e.height=e.width/(t.options.aspectRatio||2);else{var u=wn(e,"height");o!==void 0&&(e.height=u)}return e}var _l=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch{}return e}(),Mn=_l?{passive:!0}:!1;function oa(e,t,a){e.addEventListener(t,a,Mn)}function Ir(e,t,a){e.removeEventListener(t,a,Mn)}function Er(e,t,a,r,s){return{type:e,chart:t,native:s||null,x:a!==void 0?a:null,y:r!==void 0?r:null}}function wl(e,t){var a=bl[e.type]||e.type,r=p.getRelativePosition(e,t);return Er(a,t,r.x,r.y,e)}function Ml(e,t){var a=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),t=t||this,a||(a=!0,p.requestAnimFrame.call(window,function(){a=!1,e.apply(t,r)}))}}function la(e){var t=document.createElement("div");return t.className=e||"",t}function kl(e){var t=1e6,a=la(Rr),r=la(Rr+"-expand"),s=la(Rr+"-shrink");r.appendChild(la()),s.appendChild(la()),a.appendChild(r),a.appendChild(s),a._reset=function(){r.scrollLeft=t,r.scrollTop=t,s.scrollLeft=t,s.scrollTop=t};var o=function(){a._reset(),e()};return oa(r,"scroll",o.bind(r,"expand")),oa(s,"scroll",o.bind(s,"shrink")),a}function Sl(e,t){var a=e[ge]||(e[ge]={}),r=a.renderProxy=function(s){s.animationName===yl&&t()};p.each(_n,function(s){oa(e,s,r)}),a.reflow=!!e.offsetParent,e.classList.add(xn)}function Dl(e){var t=e[ge]||{},a=t.renderProxy;a&&(p.each(_n,function(r){Ir(e,r,a)}),delete t.renderProxy),e.classList.remove(xn)}function Cl(e,t,a){var r=e[ge]||(e[ge]={}),s=r.resizer=kl(Ml(function(){if(r.resizer){var o=a.options.maintainAspectRatio&&e.parentNode,u=o?o.clientWidth:0;t(Er("resize",a)),o&&o.clientWidth<u&&a.canvas&&t(Er("resize",a))}}));Sl(e,function(){if(r.resizer){var o=e.parentNode;o&&o!==s.parentNode&&o.insertBefore(s,o.firstChild),s._reset()}})}function Tl(e){var t=e[ge]||{},a=t.resizer;delete t.resizer,Dl(e),a&&a.parentNode&&a.parentNode.removeChild(a)}function Pl(e,t){var a=e[ge]||(e[ge]={});if(!a.containsStyles){a.containsStyles=!0,t=`/* Chart.js */
`+t;var r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(t)),e.appendChild(r)}}var kn={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document,a=t.host?t:document.head;Pl(a,pl)}},acquireContext:function(e,t){typeof e=="string"?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(this._ensureLoaded(e),xl(e,t),a):null},releaseContext:function(e){var t=e.canvas;if(t[ge]){var a=t[ge].initial;["height","width"].forEach(function(r){var s=a[r];p.isNullOrUndef(s)?t.removeAttribute(r):t.setAttribute(r,s)}),p.each(a.style||{},function(r,s){t.style[s]=r}),t.width=t.width,delete t[ge]}},addEventListener:function(e,t,a){var r=e.canvas;if(t==="resize"){Cl(r,a,e);return}var s=a[ge]||(a[ge]={}),o=s.proxies||(s.proxies={}),u=o[e.id+"_"+t]=function(f){a(wl(f,e))};oa(r,t,u)},removeEventListener:function(e,t,a){var r=e.canvas;if(t==="resize"){Tl(r);return}var s=a[ge]||{},o=s.proxies||{},u=o[e.id+"_"+t];u&&Ir(r,t,u)}};p.addEvent=oa,p.removeEvent=Ir;var Al=kn._enabled?kn:vl,Lt=p.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Al);E._set("global",{plugins:{}});var ee={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(a){t.indexOf(a)===-1&&t.push(a)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(a){var r=t.indexOf(a);r!==-1&&t.splice(r,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,a){var r=this.descriptors(e),s=r.length,o,u,f,d,c;for(o=0;o<s;++o)if(u=r[o],f=u.plugin,c=f[t],typeof c=="function"&&(d=[e].concat(a||[]),d.push(u.options),c.apply(f,d)===!1))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var a=[],r=[],s=e&&e.config||{},o=s.options&&s.options.plugins||{};return this._plugins.concat(s.plugins||[]).forEach(function(u){var f=a.indexOf(u);if(f===-1){var d=u.id,c=o[d];c!==!1&&(c===!0&&(c=p.clone(E.global.plugins[d])),a.push(u),r.push({plugin:u,options:c||{}}))}}),t.descriptors=r,t.id=this._cacheId,r},_invalidate:function(e){delete e.$plugins}},ua={constructors:{},defaults:{},registerScaleType:function(e,t,a){this.constructors[e]=t,this.defaults[e]=p.clone(a)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?p.merge(Object.create(null),[E.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var a=this;a.defaults.hasOwnProperty(e)&&(a.defaults[e]=p.extend(a.defaults[e],t))},addScalesToLayout:function(e){p.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,Pe.addBox(e,t)})}},Xe=p.valueOrDefault,Lr=p.rtl.getRtlAdapter;E._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:p.noop,title:function(e,t){var a="",r=t.labels,s=r?r.length:0;if(e.length>0){var o=e[0];o.label?a=o.label:o.xLabel?a=o.xLabel:s>0&&o.index<s&&(a=r[o.index])}return a},afterTitle:p.noop,beforeBody:p.noop,beforeLabel:p.noop,label:function(e,t){var a=t.datasets[e.datasetIndex].label||"";return a&&(a+=": "),p.isNullOrUndef(e.value)?a+=e.yLabel:a+=e.value,a},labelColor:function(e,t){var a=t.getDatasetMeta(e.datasetIndex),r=a.data[e.index],s=r._view;return{borderColor:s.borderColor,backgroundColor:s.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:p.noop,afterBody:p.noop,beforeFooter:p.noop,footer:p.noop,afterFooter:p.noop}}});var Sn={average:function(e){if(!e.length)return!1;var t,a,r=0,s=0,o=0;for(t=0,a=e.length;t<a;++t){var u=e[t];if(u&&u.hasValue()){var f=u.tooltipPosition();r+=f.x,s+=f.y,++o}}return{x:r/o,y:s/o}},nearest:function(e,t){var a=t.x,r=t.y,s=Number.POSITIVE_INFINITY,o,u,f;for(o=0,u=e.length;o<u;++o){var d=e[o];if(d&&d.hasValue()){var c=d.getCenterPoint(),g=p.distanceBetweenPoints(t,c);g<s&&(s=g,f=d)}}if(f){var m=f.tooltipPosition();a=m.x,r=m.y}return{x:a,y:r}}};function ze(e,t){return t&&(p.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ze(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Ol(e){var t=e._xScale,a=e._yScale||e._scale,r=e._index,s=e._datasetIndex,o=e._chart.getDatasetMeta(s).controller,u=o._getIndexScale(),f=o._getValueScale();return{xLabel:t?t.getLabelForIndex(r,s):"",yLabel:a?a.getLabelForIndex(r,s):"",label:u?""+u.getLabelForIndex(r,s):"",value:f?""+f.getLabelForIndex(r,s):"",index:r,datasetIndex:s,x:e._model.x,y:e._model.y}}function Dn(e){var t=E.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Xe(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Xe(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Xe(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Xe(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Xe(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Xe(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Xe(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Xe(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Xe(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Fl(e,t){var a=e._chart.ctx,r=t.yPadding*2,s=0,o=t.body,u=o.reduce(function(w,k){return w+k.before.length+k.lines.length+k.after.length},0);u+=t.beforeBody.length+t.afterBody.length;var f=t.title.length,d=t.footer.length,c=t.titleFontSize,g=t.bodyFontSize,m=t.footerFontSize;r+=f*c,r+=f?(f-1)*t.titleSpacing:0,r+=f?t.titleMarginBottom:0,r+=u*g,r+=u?(u-1)*t.bodySpacing:0,r+=d?t.footerMarginTop:0,r+=d*m,r+=d?(d-1)*t.footerSpacing:0;var b=0,_=function(w){s=Math.max(s,a.measureText(w).width+b)};return a.font=p.fontString(c,t._titleFontStyle,t._titleFontFamily),p.each(t.title,_),a.font=p.fontString(g,t._bodyFontStyle,t._bodyFontFamily),p.each(t.beforeBody.concat(t.afterBody),_),b=t.displayColors?g+2:0,p.each(o,function(w){p.each(w.before,_),p.each(w.lines,_),p.each(w.after,_)}),b=0,a.font=p.fontString(m,t._footerFontStyle,t._footerFontFamily),p.each(t.footer,_),s+=2*t.xPadding,{width:s,height:r}}function Rl(e,t){var a=e._model,r=e._chart,s=e._chart.chartArea,o="center",u="center";a.y<t.height?u="top":a.y>r.height-t.height&&(u="bottom");var f,d,c,g,m,b=(s.left+s.right)/2,_=(s.top+s.bottom)/2;u==="center"?(f=function(k){return k<=b},d=function(k){return k>b}):(f=function(k){return k<=t.width/2},d=function(k){return k>=r.width-t.width/2}),c=function(k){return k+t.width+a.caretSize+a.caretPadding>r.width},g=function(k){return k-t.width-a.caretSize-a.caretPadding<0},m=function(k){return k<=_?"top":"bottom"},f(a.x)?(o="left",c(a.x)&&(o="center",u=m(a.y))):d(a.x)&&(o="right",g(a.x)&&(o="center",u=m(a.y)));var w=e._options;return{xAlign:w.xAlign?w.xAlign:o,yAlign:w.yAlign?w.yAlign:u}}function Il(e,t,a,r){var s=e.x,o=e.y,u=e.caretSize,f=e.caretPadding,d=e.cornerRadius,c=a.xAlign,g=a.yAlign,m=u+f,b=d+f;return c==="right"?s-=t.width:c==="center"&&(s-=t.width/2,s+t.width>r.width&&(s=r.width-t.width),s<0&&(s=0)),g==="top"?o+=m:g==="bottom"?o-=t.height+m:o-=t.height/2,g==="center"?c==="left"?s+=m:c==="right"&&(s-=m):c==="left"?s-=b:c==="right"&&(s+=b),{x:s,y:o}}function Wa(e,t){return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-e.xPadding:e.x+e.xPadding}function Cn(e){return ze([],Ze(e))}var El=We.extend({initialize:function(){this._model=Dn(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,a=t.callbacks,r=a.beforeTitle.apply(e,arguments),s=a.title.apply(e,arguments),o=a.afterTitle.apply(e,arguments),u=[];return u=ze(u,Ze(r)),u=ze(u,Ze(s)),u=ze(u,Ze(o)),u},getBeforeBody:function(){return Cn(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var a=this,r=a._options.callbacks,s=[];return p.each(e,function(o){var u={before:[],lines:[],after:[]};ze(u.before,Ze(r.beforeLabel.call(a,o,t))),ze(u.lines,r.label.call(a,o,t)),ze(u.after,Ze(r.afterLabel.call(a,o,t))),s.push(u)}),s},getAfterBody:function(){return Cn(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,a=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),s=t.afterFooter.apply(e,arguments),o=[];return o=ze(o,Ze(a)),o=ze(o,Ze(r)),o=ze(o,Ze(s)),o},update:function(e){var t=this,a=t._options,r=t._model,s=t._model=Dn(a),o=t._active,u=t._data,f={xAlign:r.xAlign,yAlign:r.yAlign},d={x:r.x,y:r.y},c={width:r.width,height:r.height},g={x:r.caretX,y:r.caretY},m,b;if(o.length){s.opacity=1;var _=[],w=[];g=Sn[a.position].call(t,o,t._eventPosition);var k=[];for(m=0,b=o.length;m<b;++m)k.push(Ol(o[m]));a.filter&&(k=k.filter(function(S){return a.filter(S,u)})),a.itemSort&&(k=k.sort(function(S,C){return a.itemSort(S,C,u)})),p.each(k,function(S){_.push(a.callbacks.labelColor.call(t,S,t._chart)),w.push(a.callbacks.labelTextColor.call(t,S,t._chart))}),s.title=t.getTitle(k,u),s.beforeBody=t.getBeforeBody(k,u),s.body=t.getBody(k,u),s.afterBody=t.getAfterBody(k,u),s.footer=t.getFooter(k,u),s.x=g.x,s.y=g.y,s.caretPadding=a.caretPadding,s.labelColors=_,s.labelTextColors=w,s.dataPoints=k,c=Fl(this,s),f=Rl(this,c),d=Il(s,c,f,t._chart)}else s.opacity=0;return s.xAlign=f.xAlign,s.yAlign=f.yAlign,s.x=d.x,s.y=d.y,s.width=c.width,s.height=c.height,s.caretX=g.x,s.caretY=g.y,t._model=s,e&&a.custom&&a.custom.call(t,s),t},drawCaret:function(e,t){var a=this._chart.ctx,r=this._view,s=this.getCaretPosition(e,t,r);a.lineTo(s.x1,s.y1),a.lineTo(s.x2,s.y2),a.lineTo(s.x3,s.y3)},getCaretPosition:function(e,t,a){var r,s,o,u,f,d,c=a.caretSize,g=a.cornerRadius,m=a.xAlign,b=a.yAlign,_=e.x,w=e.y,k=t.width,S=t.height;if(b==="center")f=w+S/2,m==="left"?(r=_,s=r-c,o=r,u=f+c,d=f-c):(r=_+k,s=r+c,o=r,u=f-c,d=f+c);else if(m==="left"?(s=_+g+c,r=s-c,o=s+c):m==="right"?(s=_+k-g-c,r=s-c,o=s+c):(s=a.caretX,r=s-c,o=s+c),b==="top")u=w,f=u-c,d=u;else{u=w+S,f=u+c,d=u;var C=o;o=r,r=C}return{x1:r,x2:s,x3:o,y1:u,y2:f,y3:d}},drawTitle:function(e,t,a){var r=t.title,s=r.length,o,u,f;if(s){var d=Lr(t.rtl,t.x,t.width);for(e.x=Wa(t,t._titleAlign),a.textAlign=d.textAlign(t._titleAlign),a.textBaseline="middle",o=t.titleFontSize,u=t.titleSpacing,a.fillStyle=t.titleFontColor,a.font=p.fontString(o,t._titleFontStyle,t._titleFontFamily),f=0;f<s;++f)a.fillText(r[f],d.x(e.x),e.y+o/2),e.y+=o+u,f+1===s&&(e.y+=t.titleMarginBottom-u)}},drawBody:function(e,t,a){var r=t.bodyFontSize,s=t.bodySpacing,o=t._bodyAlign,u=t.body,f=t.displayColors,d=0,c=f?Wa(t,"left"):0,g=Lr(t.rtl,t.x,t.width),m=function(X){a.fillText(X,g.x(e.x+d),e.y+r/2),e.y+=r+s},b,_,w,k,S,C,F,I,z=g.textAlign(o);for(a.textAlign=o,a.textBaseline="middle",a.font=p.fontString(r,t._bodyFontStyle,t._bodyFontFamily),e.x=Wa(t,z),a.fillStyle=t.bodyFontColor,p.each(t.beforeBody,m),d=f&&z!=="right"?o==="center"?r/2+1:r+2:0,S=0,F=u.length;S<F;++S){for(b=u[S],_=t.labelTextColors[S],w=t.labelColors[S],a.fillStyle=_,p.each(b.before,m),k=b.lines,C=0,I=k.length;C<I;++C){if(f){var W=g.x(c);a.fillStyle=t.legendColorBackground,a.fillRect(g.leftForLtr(W,r),e.y,r,r),a.lineWidth=1,a.strokeStyle=w.borderColor,a.strokeRect(g.leftForLtr(W,r),e.y,r,r),a.fillStyle=w.backgroundColor,a.fillRect(g.leftForLtr(g.xPlus(W,1),r-2),e.y+1,r-2,r-2),a.fillStyle=_}m(k[C])}p.each(b.after,m)}d=0,p.each(t.afterBody,m),e.y-=s},drawFooter:function(e,t,a){var r=t.footer,s=r.length,o,u;if(s){var f=Lr(t.rtl,t.x,t.width);for(e.x=Wa(t,t._footerAlign),e.y+=t.footerMarginTop,a.textAlign=f.textAlign(t._footerAlign),a.textBaseline="middle",o=t.footerFontSize,a.fillStyle=t.footerFontColor,a.font=p.fontString(o,t._footerFontStyle,t._footerFontFamily),u=0;u<s;++u)a.fillText(r[u],f.x(e.x),e.y+o/2),e.y+=o+t.footerSpacing}},drawBackground:function(e,t,a,r){a.fillStyle=t.backgroundColor,a.strokeStyle=t.borderColor,a.lineWidth=t.borderWidth;var s=t.xAlign,o=t.yAlign,u=e.x,f=e.y,d=r.width,c=r.height,g=t.cornerRadius;a.beginPath(),a.moveTo(u+g,f),o==="top"&&this.drawCaret(e,r),a.lineTo(u+d-g,f),a.quadraticCurveTo(u+d,f,u+d,f+g),o==="center"&&s==="right"&&this.drawCaret(e,r),a.lineTo(u+d,f+c-g),a.quadraticCurveTo(u+d,f+c,u+d-g,f+c),o==="bottom"&&this.drawCaret(e,r),a.lineTo(u+g,f+c),a.quadraticCurveTo(u,f+c,u,f+c-g),o==="center"&&s==="left"&&this.drawCaret(e,r),a.lineTo(u,f+g),a.quadraticCurveTo(u,f,u+g,f),a.closePath(),a.fill(),t.borderWidth>0&&a.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(t.opacity!==0){var a={width:t.width,height:t.height},r={x:t.x,y:t.y},s=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(e.save(),e.globalAlpha=s,this.drawBackground(r,t,e,a),r.y+=t.yPadding,p.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),p.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t=this,a=t._options,r=!1;return t._lastActive=t._lastActive||[],e.type==="mouseout"?t._active=[]:(t._active=t._chart.getElementsAtEventForMode(e,a.mode,a),a.reverse&&t._active.reverse()),r=!p.arrayEquals(t._active,t._lastActive),r&&(t._lastActive=t._active,(a.enabled||a.custom)&&(t._eventPosition={x:e.x,y:e.y},t.update(!0),t.pivot())),r}}),Ll=Sn,Nr=El;Nr.positioners=Ll;var Yr=p.valueOrDefault;E._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function Tn(){return p.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,a,r){if(e==="xAxes"||e==="yAxes"){var s=a[e].length,o,u,f;for(t[e]||(t[e]=[]),o=0;o<s;++o)f=a[e][o],u=Yr(f.type,e==="xAxes"?"category":"linear"),o>=t[e].length&&t[e].push({}),!t[e][o].type||f.type&&f.type!==t[e][o].type?p.merge(t[e][o],[ua.getScaleDefaults(u),f]):p.merge(t[e][o],f)}else p._merger(e,t,a,r)}})}function Wr(){return p.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,a,r){var s=t[e]||Object.create(null),o=a[e];e==="scales"?t[e]=Tn(s,o):e==="scale"?t[e]=p.merge(s,[ua.getScaleDefaults(o.type),o]):p._merger(e,t,a,r)}})}function Nl(e){e=e||Object.create(null);var t=e.data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=Wr(E.global,E[e.type],e.options||{}),e}function Yl(e){var t=e.options;p.each(e.scales,function(a){Pe.removeBox(e,a)}),t=Wr(E.global,E[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Pn(e,t,a){var r,s=function(o){return o.id===r};do r=t+a++;while(p.findIndex(e,s)>=0);return r}function An(e){return e==="top"||e==="bottom"}function On(e,t){return function(a,r){return a[e]===r[e]?a[t]-r[t]:a[e]-r[e]}}var ot=function(e,t){return this.construct(e,t),this};p.extend(ot.prototype,{construct:function(e,t){var a=this;t=Nl(t);var r=Lt.acquireContext(e,t),s=r&&r.canvas,o=s&&s.height,u=s&&s.width;if(a.id=p.uid(),a.ctx=r,a.canvas=s,a.config=t,a.width=u,a.height=o,a.aspectRatio=o?u/o:null,a.options=t.options,a._bufferedRender=!1,a._layers=[],a.chart=a,a.controller=a,ot.instances[a.id]=a,Object.defineProperty(a,"data",{get:function(){return a.config.data},set:function(f){a.config.data=f}}),!r||!s){console.error("Failed to create chart: can't acquire context from the given item");return}a.initialize(),a.update()},initialize:function(){var e=this;return ee.notify(e,"beforeInit"),p.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),ee.notify(e,"afterInit"),e},clear:function(){return p.canvas.clear(this),this},stop:function(){return Mr.cancelAnimation(this),this},resize:function(e){var t=this,a=t.options,r=t.canvas,s=a.maintainAspectRatio&&t.aspectRatio||null,o=Math.max(0,Math.floor(p.getMaximumWidth(r))),u=Math.max(0,Math.floor(s?o/s:p.getMaximumHeight(r)));if(!(t.width===o&&t.height===u)&&(r.width=t.width=o,r.height=t.height=u,r.style.width=o+"px",r.style.height=u+"px",p.retinaScale(t,a.devicePixelRatio),!e)){var f={width:o,height:u};ee.notify(t,"resize",[f]),a.onResize&&a.onResize(t,f),t.stop(),t.update({duration:a.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},a=e.scale;p.each(t.xAxes,function(r,s){r.id||(r.id=Pn(t.xAxes,"x-axis-",s))}),p.each(t.yAxes,function(r,s){r.id||(r.id=Pn(t.yAxes,"y-axis-",s))}),a&&(a.id=a.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,a=e.scales||{},r=[],s=Object.keys(a).reduce(function(o,u){return o[u]=!1,o},{});t.scales&&(r=r.concat((t.scales.xAxes||[]).map(function(o){return{options:o,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(o){return{options:o,dtype:"linear",dposition:"left"}}))),t.scale&&r.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),p.each(r,function(o){var u=o.options,f=u.id,d=Yr(u.type,o.dtype);An(u.position)!==An(o.dposition)&&(u.position=o.dposition),s[f]=!0;var c=null;if(f in a&&a[f].type===d)c=a[f],c.options=u,c.ctx=e.ctx,c.chart=e;else{var g=ua.getScaleConstructor(d);if(!g)return;c=new g({id:f,type:d,options:u,ctx:e.ctx,chart:e}),a[c.id]=c}c.mergeTicksOptions(),o.isDefault&&(e.scale=c)}),p.each(s,function(o,u){o||delete a[u]}),e.scales=a,ua.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,t=[],a=e.data.datasets,r,s;for(r=0,s=a.length;r<s;r++){var o=a[r],u=e.getDatasetMeta(r),f=o.type||e.config.type;if(u.type&&u.type!==f&&(e.destroyDatasetMeta(r),u=e.getDatasetMeta(r)),u.type=f,u.order=o.order||0,u.index=r,u.controller)u.controller.updateIndex(r),u.controller.linkScales();else{var d=pn[u.type];if(d===void 0)throw new Error('"'+u.type+'" is not a chart type.');u.controller=new d(e,r),t.push(u.controller)}}return t},resetElements:function(){var e=this;p.each(e.data.datasets,function(t,a){e.getDatasetMeta(a).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t=this,a,r;if((!e||typeof e!="object")&&(e={duration:e,lazy:arguments[1]}),Yl(t),ee._invalidate(t),ee.notify(t,"beforeUpdate")!==!1){t.tooltip._data=t.data;var s=t.buildOrUpdateControllers();for(a=0,r=t.data.datasets.length;a<r;a++)t.getDatasetMeta(a).controller.buildOrUpdateElements();t.updateLayout(),t.options.animation&&t.options.animation.duration&&p.each(s,function(o){o.reset()}),t.updateDatasets(),t.tooltip.initialize(),t.lastActive=[],ee.notify(t,"afterUpdate"),t._layers.sort(On("z","_idx")),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){var e=this;ee.notify(e,"beforeLayout")!==!1&&(Pe.update(this,this.width,this.height),e._layers=[],p.each(e.boxes,function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())},e),e._layers.forEach(function(t,a){t._idx=a}),ee.notify(e,"afterScaleUpdate"),ee.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(ee.notify(e,"beforeDatasetsUpdate")!==!1){for(var t=0,a=e.data.datasets.length;t<a;++t)e.updateDataset(t);ee.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,a=t.getDatasetMeta(e),r={meta:a,index:e};ee.notify(t,"beforeDatasetUpdate",[r])!==!1&&(a.controller._update(),ee.notify(t,"afterDatasetUpdate",[r]))},render:function(e){var t=this;(!e||typeof e!="object")&&(e={duration:e,lazy:arguments[1]});var a=t.options.animation,r=Yr(e.duration,a&&a.duration),s=e.lazy;if(ee.notify(t,"beforeRender")!==!1){var o=function(f){ee.notify(t,"afterRender"),p.callback(a&&a.onComplete,[f],t)};if(a&&r){var u=new wr({numSteps:r/16.66,easing:e.easing||a.easing,render:function(f,d){var c=p.easing.effects[d.easing],g=d.currentStep,m=g/d.numSteps;f.draw(c(m),m,g)},onAnimationProgress:a.onProgress,onAnimationComplete:o});Mr.addAnimation(t,u,r,s)}else t.draw(),o(new wr({numSteps:0,chart:t}));return t}},draw:function(e){var t=this,a,r;if(t.clear(),p.isNullOrUndef(e)&&(e=1),t.transition(e),!(t.width<=0||t.height<=0)&&ee.notify(t,"beforeDraw",[e])!==!1){for(r=t._layers,a=0;a<r.length&&r[a].z<=0;++a)r[a].draw(t.chartArea);for(t.drawDatasets(e);a<r.length;++a)r[a].draw(t.chartArea);t._drawTooltip(e),ee.notify(t,"afterDraw",[e])}},transition:function(e){for(var t=this,a=0,r=(t.data.datasets||[]).length;a<r;++a)t.isDatasetVisible(a)&&t.getDatasetMeta(a).controller.transition(e);t.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t=this,a=t.data.datasets||[],r=[],s,o;for(s=0,o=a.length;s<o;++s)(!e||t.isDatasetVisible(s))&&r.push(t.getDatasetMeta(s));return r.sort(On("order","index")),r},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t=this,a,r;if(ee.notify(t,"beforeDatasetsDraw",[e])!==!1){for(a=t._getSortedVisibleDatasetMetas(),r=a.length-1;r>=0;--r)t.drawDataset(a[r],e);ee.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var a=this,r={meta:e,index:e.index,easingValue:t};ee.notify(a,"beforeDatasetDraw",[r])!==!1&&(e.controller.draw(t),ee.notify(a,"afterDatasetDraw",[r]))},_drawTooltip:function(e){var t=this,a=t.tooltip,r={tooltip:a,easingValue:e};ee.notify(t,"beforeTooltipDraw",[r])!==!1&&(a.draw(),ee.notify(t,"afterTooltipDraw",[r]))},getElementAtEvent:function(e){return Et.modes.single(this,e)},getElementsAtEvent:function(e){return Et.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return Et.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,a){var r=Et.modes[t];return typeof r=="function"?r(this,e,a):[]},getDatasetAtEvent:function(e){return Et.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,a=t.data.datasets[e];a._meta||(a._meta={});var r=a._meta[t.id];return r||(r=a._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a.order||0,index:e}),r},getVisibleDatasetCount:function(){for(var e=0,t=0,a=this.data.datasets.length;t<a;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return typeof t.hidden=="boolean"?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,a=this.data.datasets[e],r=a._meta&&a._meta[t];r&&(r.controller.destroy(),delete a._meta[t])},destroy:function(){var e=this,t=e.canvas,a,r;for(e.stop(),a=0,r=e.data.datasets.length;a<r;++a)e.destroyDatasetMeta(a);t&&(e.unbindEvents(),p.canvas.clear(e),Lt.releaseContext(e.ctx),e.canvas=null,e.ctx=null),ee.notify(e,"destroy"),delete ot.instances[e.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Nr({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},a=function(){e.eventHandler.apply(e,arguments)};p.each(e.options.events,function(r){Lt.addEventListener(e,r,a),t[r]=a}),e.options.responsive&&(a=function(){e.resize()},Lt.addEventListener(e,"resize",a),t.resize=a)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,p.each(t,function(a,r){Lt.removeEventListener(e,r,a)}))},updateHoverStyle:function(e,t,a){var r=a?"set":"remove",s,o,u;for(o=0,u=e.length;o<u;++o)s=e[o],s&&this.getDatasetMeta(s._datasetIndex).controller[r+"HoverStyle"](s);t==="dataset"&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+r+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,a=t.tooltip;if(ee.notify(t,"beforeEvent",[e])!==!1){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);a&&(r=a._start?a.handleEvent(e):r|a.handleEvent(e)),ee.notify(t,"afterEvent",[e]);var s=t._bufferedRequest;return s?t.render(s):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t=this,a=t.options||{},r=a.hover,s=!1;return t.lastActive=t.lastActive||[],e.type==="mouseout"?t.active=[]:t.active=t.getElementsAtEventForMode(e,r.mode,r),p.callback(a.onHover||a.hover.onHover,[e.native,t.active],t),(e.type==="mouseup"||e.type==="click")&&a.onClick&&a.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,r.mode,!1),t.active.length&&r.mode&&t.updateHoverStyle(t.active,r.mode,!0),s=!p.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,s}}),ot.instances={};var V=ot;ot.Controller=ot,ot.types={},p.configMerge=Wr,p.scaleMerge=Tn;var Wl=function(){p.where=function(r,s){if(p.isArray(r)&&Array.prototype.filter)return r.filter(s);var o=[];return p.each(r,function(u){s(u)&&o.push(u)}),o},p.findIndex=Array.prototype.findIndex?function(r,s,o){return r.findIndex(s,o)}:function(r,s,o){o=o===void 0?r:o;for(var u=0,f=r.length;u<f;++u)if(s.call(o,r[u],u,r))return u;return-1},p.findNextWhere=function(r,s,o){p.isNullOrUndef(o)&&(o=-1);for(var u=o+1;u<r.length;u++){var f=r[u];if(s(f))return f}},p.findPreviousWhere=function(r,s,o){p.isNullOrUndef(o)&&(o=r.length);for(var u=o-1;u>=0;u--){var f=r[u];if(s(f))return f}},p.isNumber=function(r){return!isNaN(parseFloat(r))&&isFinite(r)},p.almostEquals=function(r,s,o){return Math.abs(r-s)<o},p.almostWhole=function(r,s){var o=Math.round(r);return o-s<=r&&o+s>=r},p.max=function(r){return r.reduce(function(s,o){return isNaN(o)?s:Math.max(s,o)},Number.NEGATIVE_INFINITY)},p.min=function(r){return r.reduce(function(s,o){return isNaN(o)?s:Math.min(s,o)},Number.POSITIVE_INFINITY)},p.sign=Math.sign?function(r){return Math.sign(r)}:function(r){return r=+r,r===0||isNaN(r)?r:r>0?1:-1},p.toRadians=function(r){return r*(Math.PI/180)},p.toDegrees=function(r){return r*(180/Math.PI)},p._decimalPlaces=function(r){if(p.isFinite(r)){for(var s=1,o=0;Math.round(r*s)/s!==r;)s*=10,o++;return o}},p.getAngleFromPoint=function(r,s){var o=s.x-r.x,u=s.y-r.y,f=Math.sqrt(o*o+u*u),d=Math.atan2(u,o);return d<-.5*Math.PI&&(d+=2*Math.PI),{angle:d,distance:f}},p.distanceBetweenPoints=function(r,s){return Math.sqrt(Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2))},p.aliasPixel=function(r){return r%2===0?0:.5},p._alignPixel=function(r,s,o){var u=r.currentDevicePixelRatio,f=o/2;return Math.round((s-f)*u)/u+f},p.splineCurve=function(r,s,o,u){var f=r.skip?s:r,d=s,c=o.skip?s:o,g=Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2)),m=Math.sqrt(Math.pow(c.x-d.x,2)+Math.pow(c.y-d.y,2)),b=g/(g+m),_=m/(g+m);b=isNaN(b)?0:b,_=isNaN(_)?0:_;var w=u*b,k=u*_;return{previous:{x:d.x-w*(c.x-f.x),y:d.y-w*(c.y-f.y)},next:{x:d.x+k*(c.x-f.x),y:d.y+k*(c.y-f.y)}}},p.EPSILON=Number.EPSILON||1e-14,p.splineCurveMonotone=function(r){var s=(r||[]).map(function(S){return{model:S._model,deltaK:0,mK:0}}),o=s.length,u,f,d,c;for(u=0;u<o;++u)if(d=s[u],!d.model.skip){if(f=u>0?s[u-1]:null,c=u<o-1?s[u+1]:null,c&&!c.model.skip){var g=c.model.x-d.model.x;d.deltaK=g!==0?(c.model.y-d.model.y)/g:0}!f||f.model.skip?d.mK=d.deltaK:!c||c.model.skip?d.mK=f.deltaK:this.sign(f.deltaK)!==this.sign(d.deltaK)?d.mK=0:d.mK=(f.deltaK+d.deltaK)/2}var m,b,_,w;for(u=0;u<o-1;++u)if(d=s[u],c=s[u+1],!(d.model.skip||c.model.skip)){if(p.almostEquals(d.deltaK,0,this.EPSILON)){d.mK=c.mK=0;continue}m=d.mK/d.deltaK,b=c.mK/d.deltaK,w=Math.pow(m,2)+Math.pow(b,2),!(w<=9)&&(_=3/Math.sqrt(w),d.mK=m*_*d.deltaK,c.mK=b*_*d.deltaK)}var k;for(u=0;u<o;++u)d=s[u],!d.model.skip&&(f=u>0?s[u-1]:null,c=u<o-1?s[u+1]:null,f&&!f.model.skip&&(k=(d.model.x-f.model.x)/3,d.model.controlPointPreviousX=d.model.x-k,d.model.controlPointPreviousY=d.model.y-k*d.mK),c&&!c.model.skip&&(k=(c.model.x-d.model.x)/3,d.model.controlPointNextX=d.model.x+k,d.model.controlPointNextY=d.model.y+k*d.mK))},p.nextItem=function(r,s,o){return o?s>=r.length-1?r[0]:r[s+1]:s>=r.length-1?r[r.length-1]:r[s+1]},p.previousItem=function(r,s,o){return o?s<=0?r[r.length-1]:r[s-1]:s<=0?r[0]:r[s-1]},p.niceNum=function(r,s){var o=Math.floor(p.log10(r)),u=r/Math.pow(10,o),f;return s?u<1.5?f=1:u<3?f=2:u<7?f=5:f=10:u<=1?f=1:u<=2?f=2:u<=5?f=5:f=10,f*Math.pow(10,o)},p.requestAnimFrame=function(){return typeof window>"u"?function(r){r()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return window.setTimeout(r,1e3/60)}}(),p.getRelativePosition=function(r,s){var o,u,f=r.originalEvent||r,d=r.target||r.srcElement,c=d.getBoundingClientRect(),g=f.touches;g&&g.length>0?(o=g[0].clientX,u=g[0].clientY):(o=f.clientX,u=f.clientY);var m=parseFloat(p.getStyle(d,"padding-left")),b=parseFloat(p.getStyle(d,"padding-top")),_=parseFloat(p.getStyle(d,"padding-right")),w=parseFloat(p.getStyle(d,"padding-bottom")),k=c.right-c.left-m-_,S=c.bottom-c.top-b-w;return o=Math.round((o-c.left-m)/k*d.width/s.currentDevicePixelRatio),u=Math.round((u-c.top-b)/S*d.height/s.currentDevicePixelRatio),{x:o,y:u}};function e(r,s,o){var u;return typeof r=="string"?(u=parseInt(r,10),r.indexOf("%")!==-1&&(u=u/100*s.parentNode[o])):u=r,u}function t(r){return r!=null&&r!=="none"}function a(r,s,o){var u=document.defaultView,f=p._getParentNode(r),d=u.getComputedStyle(r)[s],c=u.getComputedStyle(f)[s],g=t(d),m=t(c),b=Number.POSITIVE_INFINITY;return g||m?Math.min(g?e(d,r,o):b,m?e(c,f,o):b):"none"}p.getConstraintWidth=function(r){return a(r,"max-width","clientWidth")},p.getConstraintHeight=function(r){return a(r,"max-height","clientHeight")},p._calculatePadding=function(r,s,o){return s=p.getStyle(r,s),s.indexOf("%")>-1?o*parseInt(s,10)/100:parseInt(s,10)},p._getParentNode=function(r){var s=r.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s},p.getMaximumWidth=function(r){var s=p._getParentNode(r);if(!s)return r.clientWidth;var o=s.clientWidth,u=p._calculatePadding(s,"padding-left",o),f=p._calculatePadding(s,"padding-right",o),d=o-u-f,c=p.getConstraintWidth(r);return isNaN(c)?d:Math.min(d,c)},p.getMaximumHeight=function(r){var s=p._getParentNode(r);if(!s)return r.clientHeight;var o=s.clientHeight,u=p._calculatePadding(s,"padding-top",o),f=p._calculatePadding(s,"padding-bottom",o),d=o-u-f,c=p.getConstraintHeight(r);return isNaN(c)?d:Math.min(d,c)},p.getStyle=function(r,s){return r.currentStyle?r.currentStyle[s]:document.defaultView.getComputedStyle(r,null).getPropertyValue(s)},p.retinaScale=function(r,s){var o=r.currentDevicePixelRatio=s||typeof window<"u"&&window.devicePixelRatio||1;if(o!==1){var u=r.canvas,f=r.height,d=r.width;u.height=f*o,u.width=d*o,r.ctx.scale(o,o),!u.style.height&&!u.style.width&&(u.style.height=f+"px",u.style.width=d+"px")}},p.fontString=function(r,s,o){return s+" "+r+"px "+o},p.longestText=function(r,s,o,u){u=u||{};var f=u.data=u.data||{},d=u.garbageCollect=u.garbageCollect||[];u.font!==s&&(f=u.data={},d=u.garbageCollect=[],u.font=s),r.font=s;var c=0,g=o.length,m,b,_,w,k;for(m=0;m<g;m++)if(w=o[m],w!=null&&p.isArray(w)!==!0)c=p.measureText(r,f,d,c,w);else if(p.isArray(w))for(b=0,_=w.length;b<_;b++)k=w[b],k!=null&&!p.isArray(k)&&(c=p.measureText(r,f,d,c,k));var S=d.length/2;if(S>o.length){for(m=0;m<S;m++)delete f[d[m]];d.splice(0,S)}return c},p.measureText=function(r,s,o,u,f){var d=s[f];return d||(d=s[f]=r.measureText(f).width,o.push(f)),d>u&&(u=d),u},p.numberOfLabelLines=function(r){var s=1;return p.each(r,function(o){p.isArray(o)&&o.length>s&&(s=o.length)}),s},p.color=Fa?function(r){return r instanceof CanvasGradient&&(r=E.global.defaultColor),Fa(r)}:function(r){return console.error("Color.js not found!"),r},p.getHoverColor=function(r){return r instanceof CanvasPattern||r instanceof CanvasGradient?r:p.color(r).saturate(.5).darken(.1).rgbString()}};function _t(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Ba(e){this.options=e||{}}p.extend(Ba.prototype,{formats:_t,parse:_t,format:_t,add:_t,diff:_t,startOf:_t,endOf:_t,_create:function(e){return e}}),Ba.override=function(e){p.extend(Ba.prototype,e)};var Bl=Ba,Br={_date:Bl},da={formatters:{values:function(e){return p.isArray(e)?e:""+e},linear:function(e,t,a){var r=a.length>3?a[2]-a[1]:a[1]-a[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var s=p.log10(Math.abs(r)),o="";if(e!==0){var u=Math.max(Math.abs(a[0]),Math.abs(a[a.length-1]));if(u<1e-4){var f=p.log10(Math.abs(e)),d=Math.floor(f)-Math.floor(s);d=Math.max(Math.min(d,20),0),o=e.toExponential(d)}else{var c=-1*Math.floor(s);c=Math.max(Math.min(c,20),0),o=e.toFixed(c)}}else o="0";return o},logarithmic:function(e,t,a){var r=e/Math.pow(10,Math.floor(p.log10(e)));return e===0?"0":r===1||r===2||r===5||t===0||t===a.length-1?e.toExponential():""}}},wt=p.isArray,ha=p.isNullOrUndef,Mt=p.valueOrDefault,Nt=p.valueAtIndexOrDefault;E._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:da.formatters.values,minor:{},major:{}}});function zl(e,t){for(var a=[],r=e.length/t,s=0,o=e.length;s<o;s+=r)a.push(e[Math.floor(s)]);return a}function Hl(e,t,a){var r=e.getTicks().length,s=Math.min(t,r-1),o=e.getPixelForTick(s),u=e._startPixel,f=e._endPixel,d=1e-6,c;if(!(a&&(r===1?c=Math.max(o-u,f-o):t===0?c=(e.getPixelForTick(1)-o)/2:c=(o-e.getPixelForTick(s-1))/2,o+=s<t?c:-c,o<u-d||o>f+d)))return o}function Vl(e,t){p.each(e,function(a){var r=a.gc,s=r.length/2,o;if(s>t){for(o=0;o<s;++o)delete a.data[r[o]];r.splice(0,s)}})}function Gl(e,t,a,r){var s=a.length,o=[],u=[],f=[],d=0,c=0,g,m,b,_,w,k,S,C,F,I,z,W,X;for(g=0;g<s;++g){if(_=a[g].label,w=a[g].major?t.major:t.minor,e.font=k=w.string,S=r[k]=r[k]||{data:{},gc:[]},C=w.lineHeight,F=I=0,!ha(_)&&!wt(_))F=p.measureText(e,S.data,S.gc,F,_),I=C;else if(wt(_))for(m=0,b=_.length;m<b;++m)z=_[m],!ha(z)&&!wt(z)&&(F=p.measureText(e,S.data,S.gc,F,z),I+=C);o.push(F),u.push(I),f.push(C/2),d=Math.max(F,d),c=Math.max(I,c)}Vl(r,s),W=o.indexOf(d),X=u.indexOf(c);function j(J){return{width:o[J]||0,height:u[J]||0,offset:f[J]||0}}return{first:j(0),last:j(s-1),widest:j(W),highest:j(X)}}function fa(e){return e.drawTicks?e.tickMarkLength:0}function zr(e){var t,a;return e.display?(t=p.options._parseFont(e),a=p.options.toPadding(e.padding),t.lineHeight+a.height):0}function Fn(e,t){return p.extend(p.options._parseFont({fontFamily:Mt(t.fontFamily,e.fontFamily),fontSize:Mt(t.fontSize,e.fontSize),fontStyle:Mt(t.fontStyle,e.fontStyle),lineHeight:Mt(t.lineHeight,e.lineHeight)}),{color:p.options.resolve([t.fontColor,e.fontColor,E.global.defaultFontColor])})}function Hr(e){var t=Fn(e,e.minor),a=e.major.enabled?Fn(e,e.major):t;return{minor:t,major:a}}function Vr(e){var t=[],a,r,s;for(r=0,s=e.length;r<s;++r)a=e[r],typeof a._index<"u"&&t.push(a);return t}function Ul(e){var t=e.length,a,r;if(t<2)return!1;for(r=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==r)return!1;return r}function jl(e,t,a,r){var s=Ul(e),o=(t.length-1)/r,u,f,d,c;if(!s)return Math.max(o,1);for(u=p.math._factorize(s),d=0,c=u.length-1;d<c;d++)if(f=u[d],f>o)return f;return Math.max(o,1)}function $l(e){var t=[],a,r;for(a=0,r=e.length;a<r;a++)e[a].major&&t.push(a);return t}function ql(e,t,a){var r=0,s=t[0],o,u;for(a=Math.ceil(a),o=0;o<e.length;o++)u=e[o],o===s?(u._index=o,r++,s=t[r*a]):delete u.label}function za(e,t,a,r){var s=Mt(a,0),o=Math.min(Mt(r,e.length),e.length),u=0,f,d,c,g;for(t=Math.ceil(t),r&&(f=r-a,t=f/Math.floor(f/t)),g=s;g<0;)u++,g=Math.round(s+u*t);for(d=Math.max(s,0);d<o;d++)c=e[d],d===g?(c._index=d,u++,g=Math.round(s+u*t)):delete c.label}var Gr=We.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){p.callback(this.options.beforeUpdate,[this])},update:function(e,t,a){var r=this,s=r.options.ticks,o=s.sampleSize,u,f,d,c,g;if(r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=p.extend({left:0,right:0,top:0,bottom:0},a),r._ticks=null,r.ticks=null,r._labelSizes=null,r._maxLabelLines=0,r.longestLabelWidth=0,r.longestTextCache=r.longestTextCache||{},r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),c=r.buildTicks()||[],c=r.afterBuildTicks(c)||c,(!c||!c.length)&&r.ticks)for(c=[],u=0,f=r.ticks.length;u<f;++u)c.push({value:r.ticks[u],major:!1});return r._ticks=c,g=o<c.length,d=r._convertTicksToLabels(g?zl(c,o):c),r._configure(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r._ticksToDraw=s.display&&(s.autoSkip||s.source==="auto")?r._autoSkip(c):c,g&&(d=r._convertTicksToLabels(r._ticksToDraw)),r.ticks=d,r.afterUpdate(),r.minSize},_configure:function(){var e=this,t=e.options.ticks.reverse,a,r;e.isHorizontal()?(a=e.left,r=e.right):(a=e.top,r=e.bottom,t=!t),e._startPixel=a,e._endPixel=r,e._reversePixels=t,e._length=r-a},afterUpdate:function(){p.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){p.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){p.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){p.callback(this.options.beforeDataLimits,[this])},determineDataLimits:p.noop,afterDataLimits:function(){p.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){p.callback(this.options.beforeBuildTicks,[this])},buildTicks:p.noop,afterBuildTicks:function(e){var t=this;return wt(e)&&e.length?p.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=p.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){p.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){p.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){p.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.options,a=t.ticks,r=e.getTicks().length,s=a.minRotation||0,o=a.maxRotation,u=s,f,d,c,g,m,b,_;if(!e._isVisible()||!a.display||s>=o||r<=1||!e.isHorizontal()){e.labelRotation=s;return}f=e._getLabelSizes(),d=f.widest.width,c=f.highest.height-f.highest.offset,g=Math.min(e.maxWidth,e.chart.width-d),m=t.offset?e.maxWidth/r:g/(r-1),d+6>m&&(m=g/(r-(t.offset?.5:1)),b=e.maxHeight-fa(t.gridLines)-a.padding-zr(t.scaleLabel),_=Math.sqrt(d*d+c*c),u=p.toDegrees(Math.min(Math.asin(Math.min((f.highest.height+6)/m,1)),Math.asin(Math.min(b/_,1))-Math.asin(c/_))),u=Math.max(s,Math.min(o,u))),e.labelRotation=u},afterCalculateTickRotation:function(){p.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){p.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},a=e.chart,r=e.options,s=r.ticks,o=r.scaleLabel,u=r.gridLines,f=e._isVisible(),d=r.position==="bottom",c=e.isHorizontal();if(c?t.width=e.maxWidth:f&&(t.width=fa(u)+zr(o)),c?f&&(t.height=fa(u)+zr(o)):t.height=e.maxHeight,s.display&&f){var g=Hr(s),m=e._getLabelSizes(),b=m.first,_=m.last,w=m.widest,k=m.highest,S=g.minor.lineHeight*.4,C=s.padding;if(c){var F=e.labelRotation!==0,I=p.toRadians(e.labelRotation),z=Math.cos(I),W=Math.sin(I),X=W*w.width+z*(k.height-(F?k.offset:0))+(F?0:S);t.height=Math.min(e.maxHeight,t.height+X+C);var j=e.getPixelForTick(0)-e.left,J=e.right-e.getPixelForTick(e.getTicks().length-1),te,de;F?(te=d?z*b.width+W*b.offset:W*(b.height-b.offset),de=d?W*(_.height-_.offset):z*_.width+W*_.offset):(te=b.width/2,de=_.width/2),e.paddingLeft=Math.max((te-j)*e.width/(e.width-j),0)+3,e.paddingRight=Math.max((de-J)*e.width/(e.width-J),0)+3}else{var le=s.mirror?0:w.width+C+S;t.width=Math.min(e.maxWidth,t.width+le),e.paddingTop=b.height/2,e.paddingBottom=_.height/2}}e.handleMargins(),c?(e.width=e._length=a.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=a.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){p.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return e==="top"||e==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(ha(e))return NaN;if((typeof e=="number"||e instanceof Number)&&!isFinite(e))return NaN;if(e){if(this.isHorizontal()){if(e.x!==void 0)return this.getRightValue(e.x)}else if(e.y!==void 0)return this.getRightValue(e.y)}return e},_convertTicksToLabels:function(e){var t=this,a,r,s;for(t.ticks=e.map(function(o){return o.value}),t.beforeTickToLabelConversion(),a=t.convertTicksToLabels(e)||t.ticks,t.afterTickToLabelConversion(),r=0,s=e.length;r<s;++r)e[r].label=a[r];return a},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=Gl(e.ctx,Hr(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,a,r,s;return wt(e)?(t=+this.getRightValue(e[0]),a=+this.getRightValue(e[1]),r=Math.min(t,a),s=Math.max(t,a)):(e=+this.getRightValue(e),t=void 0,a=e,r=e,s=e),{min:r,max:s,start:t,end:a}},_getScaleLabel:function(e){var t=this._parseValue(e);return t.start!==void 0?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:p.noop,getPixelForValue:p.noop,getValueForPixel:p.noop,getPixelForTick:function(e){var t=this,a=t.options.offset,r=t._ticks.length,s=1/Math.max(r-(a?0:1),1);return e<0||e>r-1?null:t.getPixelForDecimal(e*s+(a?s/2:0))},getPixelForDecimal:function(e){var t=this;return t._reversePixels&&(e=1-e),t._startPixel+e*t._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,a=e.max;return e.beginAtZero?0:t<0&&a<0?a:t>0&&a>0?t:0},_autoSkip:function(e){var t=this,a=t.options.ticks,r=t._length,s=a.maxTicksLimit||r/t._tickSize()+1,o=a.major.enabled?$l(e):[],u=o.length,f=o[0],d=o[u-1],c,g,m,b;if(u>s)return ql(e,o,u/s),Vr(e);if(m=jl(o,e,r,s),u>0){for(c=0,g=u-1;c<g;c++)za(e,m,o[c],o[c+1]);return b=u>1?(d-f)/(u-1):null,za(e,m,p.isNullOrUndef(b)?0:f-b,f),za(e,m,d,p.isNullOrUndef(b)?e.length:d+b),Vr(e)}return za(e,m),Vr(e)},_tickSize:function(){var e=this,t=e.options.ticks,a=p.toRadians(e.labelRotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),o=e._getLabelSizes(),u=t.autoSkipPadding||0,f=o?o.widest.width+u:0,d=o?o.highest.height+u:0;return e.isHorizontal()?d*r>f*s?f/r:d/s:d*s<f*r?d/r:f/s},_isVisible:function(){var e=this,t=e.chart,a=e.options.display,r,s,o;if(a!=="auto")return!!a;for(r=0,s=t.data.datasets.length;r<s;++r)if(t.isDatasetVisible(r)&&(o=t.getDatasetMeta(r),o.xAxisID===e.id||o.yAxisID===e.id))return!0;return!1},_computeGridLineItems:function(e){var t=this,a=t.chart,r=t.options,s=r.gridLines,o=r.position,u=s.offsetGridLines,f=t.isHorizontal(),d=t._ticksToDraw,c=d.length+(u?1:0),g=fa(s),m=[],b=s.drawBorder?Nt(s.lineWidth,0,0):0,_=b/2,w=p._alignPixel,k=function($u){return w(a,$u,b)},S,C,F,I,z,W,X,j,J,te,de,le,se,fe,Wt,Bt,Qr;for(o==="top"?(S=k(t.bottom),X=t.bottom-g,J=S-_,de=k(e.top)+_,se=e.bottom):o==="bottom"?(S=k(t.top),de=e.top,se=k(e.bottom)-_,X=S+_,J=t.top+g):o==="left"?(S=k(t.right),W=t.right-g,j=S-_,te=k(e.left)+_,le=e.right):(S=k(t.left),te=e.left,le=k(e.right)-_,W=S+_,j=t.left+g),C=0;C<c;++C)F=d[C]||{},!(ha(F.label)&&C<d.length)&&(C===t.zeroLineIndex&&r.offset===u?(fe=s.zeroLineWidth,Wt=s.zeroLineColor,Bt=s.zeroLineBorderDash||[],Qr=s.zeroLineBorderDashOffset||0):(fe=Nt(s.lineWidth,C,1),Wt=Nt(s.color,C,"rgba(0,0,0,0.1)"),Bt=s.borderDash||[],Qr=s.borderDashOffset||0),I=Hl(t,F._index||C,u),I!==void 0&&(z=w(a,I,fe),f?W=j=te=le=z:X=J=de=se=z,m.push({tx1:W,ty1:X,tx2:j,ty2:J,x1:te,y1:de,x2:le,y2:se,width:fe,color:Wt,borderDash:Bt,borderDashOffset:Qr})));return m.ticksLength=c,m.borderValue=S,m},_computeLabelItems:function(){var e=this,t=e.options,a=t.ticks,r=t.position,s=a.mirror,o=e.isHorizontal(),u=e._ticksToDraw,f=Hr(a),d=a.padding,c=fa(t.gridLines),g=-p.toRadians(e.labelRotation),m=[],b,_,w,k,S,C,F,I,z,W,X,j;for(r==="top"?(C=e.bottom-c-d,F=g?"left":"center"):r==="bottom"?(C=e.top+c+d,F=g?"right":"center"):r==="left"?(S=e.right-(s?0:c)-d,F=s?"left":"right"):(S=e.left+(s?0:c)+d,F=s?"right":"left"),b=0,_=u.length;b<_;++b)w=u[b],k=w.label,!ha(k)&&(I=e.getPixelForTick(w._index||b)+a.labelOffset,z=w.major?f.major:f.minor,W=z.lineHeight,X=wt(k)?k.length:1,o?(S=I,j=r==="top"?((g?1:.5)-X)*W:(g?0:.5)*W):(C=I,j=(1-X)*W/2),m.push({x:S,y:C,rotation:g,label:k,font:z,textOffset:j,textAlign:F}));return m},_drawGrid:function(e){var t=this,a=t.options.gridLines;if(a.display){var r=t.ctx,s=t.chart,o=p._alignPixel,u=a.drawBorder?Nt(a.lineWidth,0,0):0,f=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e)),d,c,g,m,b;for(g=0,m=f.length;g<m;++g)b=f[g],d=b.width,c=b.color,d&&c&&(r.save(),r.lineWidth=d,r.strokeStyle=c,r.setLineDash&&(r.setLineDash(b.borderDash),r.lineDashOffset=b.borderDashOffset),r.beginPath(),a.drawTicks&&(r.moveTo(b.tx1,b.ty1),r.lineTo(b.tx2,b.ty2)),a.drawOnChartArea&&(r.moveTo(b.x1,b.y1),r.lineTo(b.x2,b.y2)),r.stroke(),r.restore());if(u){var _=u,w=Nt(a.lineWidth,f.ticksLength-1,1),k=f.borderValue,S,C,F,I;t.isHorizontal()?(S=o(s,t.left,_)-_/2,C=o(s,t.right,w)+w/2,F=I=k):(F=o(s,t.top,_)-_/2,I=o(s,t.bottom,w)+w/2,S=C=k),r.lineWidth=u,r.strokeStyle=Nt(a.color,0),r.beginPath(),r.moveTo(S,F),r.lineTo(C,I),r.stroke()}}},_drawLabels:function(){var e=this,t=e.options.ticks;if(t.display){var a=e.ctx,r=e._labelItems||(e._labelItems=e._computeLabelItems()),s,o,u,f,d,c,g,m;for(s=0,u=r.length;s<u;++s){if(d=r[s],c=d.font,a.save(),a.translate(d.x,d.y),a.rotate(d.rotation),a.font=c.string,a.fillStyle=c.color,a.textBaseline="middle",a.textAlign=d.textAlign,g=d.label,m=d.textOffset,wt(g))for(o=0,f=g.length;o<f;++o)a.fillText(""+g[o],0,m),m+=c.lineHeight;else a.fillText(g,0,m);a.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,a=e.options,r=a.scaleLabel;if(r.display){var s=Mt(r.fontColor,E.global.defaultFontColor),o=p.options._parseFont(r),u=p.options.toPadding(r.padding),f=o.lineHeight/2,d=a.position,c=0,g,m;if(e.isHorizontal())g=e.left+e.width/2,m=d==="bottom"?e.bottom-f-u.bottom:e.top+f+u.top;else{var b=d==="left";g=b?e.left+f+u.top:e.right-f-u.top,m=e.top+e.height/2,c=b?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(g,m),t.rotate(c),t.textAlign="center",t.textBaseline="middle",t.fillStyle=s,t.font=o.string,t.fillText(r.labelString,0,0),t.restore()}},draw:function(e){var t=this;t._isVisible()&&(t._drawGrid(e),t._drawTitle(),t._drawLabels())},_layers:function(){var e=this,t=e.options,a=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return!e._isVisible()||a===r||e.draw!==e._draw?[{z:a,draw:function(){e.draw.apply(e,arguments)}}]:[{z:r,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:a,draw:function(){e._drawLabels.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,a=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(r){return(!e||r.type===e)&&(a?r.xAxisID===t.id:r.yAxisID===t.id)})}});Gr.prototype._draw=Gr.prototype.draw;var ye=Gr,Ur=p.isNullOrUndef,Xl={position:"bottom"},Rn=ye.extend({determineDataLimits:function(){var e=this,t=e._getLabels(),a=e.options.ticks,r=a.min,s=a.max,o=0,u=t.length-1,f;r!==void 0&&(f=t.indexOf(r),f>=0&&(o=f)),s!==void 0&&(f=t.indexOf(s),f>=0&&(u=f)),e.minIndex=o,e.maxIndex=u,e.min=t[o],e.max=t[u]},buildTicks:function(){var e=this,t=e._getLabels(),a=e.minIndex,r=e.maxIndex;e.ticks=a===0&&r===t.length-1?t:t.slice(a,r+1)},getLabelForIndex:function(e,t){var a=this,r=a.chart;return r.getDatasetMeta(t).controller._getValueScaleId()===a.id?a.getRightValue(r.data.datasets[t].data[e]):a._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,a=e.ticks;ye.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),a&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(a.length-(t?0:1),1))},getPixelForValue:function(e,t,a){var r=this,s,o,u;return!Ur(t)&&!Ur(a)&&(e=r.chart.data.datasets[a].data[t]),Ur(e)||(s=r.isHorizontal()?e.x:e.y),(s!==void 0||e!==void 0&&isNaN(t))&&(o=r._getLabels(),e=p.valueOrDefault(s,e),u=o.indexOf(e),t=u!==-1?u:t,isNaN(t)&&(t=e)),r.getPixelForDecimal((t-r._startValue)/r._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=this,a=Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange);return Math.min(Math.max(a,0),t.ticks.length-1)},getBasePixel:function(){return this.bottom}}),Zl=Xl;Rn._defaults=Zl;var Kl=p.noop,kt=p.isNullOrUndef;function Jl(e,t){var a=[],r=1e-14,s=e.stepSize,o=s||1,u=e.maxTicks-1,f=e.min,d=e.max,c=e.precision,g=t.min,m=t.max,b=p.niceNum((m-g)/u/o)*o,_,w,k,S;if(b<r&&kt(f)&&kt(d))return[g,m];S=Math.ceil(m/b)-Math.floor(g/b),S>u&&(b=p.niceNum(S*b/u/o)*o),s||kt(c)?_=Math.pow(10,p._decimalPlaces(b)):(_=Math.pow(10,c),b=Math.ceil(b*_)/_),w=Math.floor(g/b)*b,k=Math.ceil(m/b)*b,s&&(!kt(f)&&p.almostWhole(f/b,b/1e3)&&(w=f),!kt(d)&&p.almostWhole(d/b,b/1e3)&&(k=d)),S=(k-w)/b,p.almostEquals(S,Math.round(S),b/1e3)?S=Math.round(S):S=Math.ceil(S),w=Math.round(w*_)/_,k=Math.round(k*_)/_,a.push(kt(f)?w:f);for(var C=1;C<S;++C)a.push(Math.round((w+C*b)*_)/_);return a.push(kt(d)?k:d),a}var Ha=ye.extend({getRightValue:function(e){return typeof e=="string"?+e:ye.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options,a=t.ticks;if(a.beginAtZero){var r=p.sign(e.min),s=p.sign(e.max);r<0&&s<0?e.max=0:r>0&&s>0&&(e.min=0)}var o=a.min!==void 0||a.suggestedMin!==void 0,u=a.max!==void 0||a.suggestedMax!==void 0;a.min!==void 0?e.min=a.min:a.suggestedMin!==void 0&&(e.min===null?e.min=a.suggestedMin:e.min=Math.min(e.min,a.suggestedMin)),a.max!==void 0?e.max=a.max:a.suggestedMax!==void 0&&(e.max===null?e.max=a.suggestedMax:e.max=Math.max(e.max,a.suggestedMax)),o!==u&&e.min>=e.max&&(o?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,a.beginAtZero||e.min--)},getTickLimit:function(){var e=this,t=e.options.ticks,a=t.stepSize,r=t.maxTicksLimit,s;return a?s=Math.ceil(e.max/a)-Math.floor(e.min/a)+1:(s=e._computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Kl,buildTicks:function(){var e=this,t=e.options,a=t.ticks,r=e.getTickLimit();r=Math.max(2,r);var s={maxTicks:r,min:a.min,max:a.max,precision:a.precision,stepSize:p.valueOrDefault(a.fixedStepSize,a.stepSize)},o=e.ticks=Jl(s,e);e.handleDirectionalChanges(),e.max=p.max(o),e.min=p.min(o),a.reverse?(o.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),ye.prototype.convertTicksToLabels.call(e)},_configure:function(){var e=this,t=e.getTicks(),a=e.min,r=e.max,s;ye.prototype._configure.call(e),e.options.offset&&t.length&&(s=(r-a)/Math.max(t.length-1,1)/2,a-=s,r+=s),e._startValue=a,e._endValue=r,e._valueRange=r-a}}),Ql={position:"left",ticks:{callback:da.formatters.linear}},eu=0,tu=1;function au(e,t,a){var r=[a.type,t===void 0&&a.stack===void 0?a.index:"",a.stack].join(".");return e[r]===void 0&&(e[r]={pos:[],neg:[]}),e[r]}function ru(e,t,a,r){var s=e.options,o=s.stacked,u=au(t,o,a),f=u.pos,d=u.neg,c=r.length,g,m;for(g=0;g<c;++g)m=e._parseValue(r[g]),!(isNaN(m.min)||isNaN(m.max)||a.data[g].hidden)&&(f[g]=f[g]||0,d[g]=d[g]||0,s.relativePoints?f[g]=100:m.min<0||m.max<0?d[g]+=m.min:f[g]+=m.max)}function iu(e,t,a){var r=a.length,s,o;for(s=0;s<r;++s)o=e._parseValue(a[s]),!(isNaN(o.min)||isNaN(o.max)||t.data[s].hidden)&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}var In=Ha.extend({determineDataLimits:function(){var e=this,t=e.options,a=e.chart,r=a.data.datasets,s=e._getMatchingVisibleMetas(),o=t.stacked,u={},f=s.length,d,c,g,m;if(e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,o===void 0)for(d=0;!o&&d<f;++d)c=s[d],o=c.stack!==void 0;for(d=0;d<f;++d)c=s[d],g=r[c.index].data,o?ru(e,u,c,g):iu(e,c,g);p.each(u,function(b){m=b.pos.concat(b.neg),e.min=Math.min(e.min,p.min(m)),e.max=Math.max(e.max,p.max(m))}),e.min=p.isFinite(e.min)&&!isNaN(e.min)?e.min:eu,e.max=p.isFinite(e.max)&&!isNaN(e.max)?e.max:tu,e.handleTickRangeOptions()},_computeTickLimit:function(){var e=this,t;return e.isHorizontal()?Math.ceil(e.width/40):(t=p.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this;return t.getPixelForDecimal((+t.getRightValue(e)-t._startValue)/t._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),nu=Ql;In._defaults=nu;var jr=p.valueOrDefault,be=p.math.log10;function su(e,t){var a=[],r=jr(e.min,Math.pow(10,Math.floor(be(t.min)))),s=Math.floor(be(t.max)),o=Math.ceil(t.max/Math.pow(10,s)),u,f;r===0?(u=Math.floor(be(t.minNotZero)),f=Math.floor(t.minNotZero/Math.pow(10,u)),a.push(r),r=f*Math.pow(10,u)):(u=Math.floor(be(r)),f=Math.floor(r/Math.pow(10,u)));var d=u<0?Math.pow(10,Math.abs(u)):1;do a.push(r),++f,f===10&&(f=1,++u,d=u>=0?1:d),r=Math.round(f*Math.pow(10,u)*d)/d;while(u<s||u===s&&f<o);var c=jr(e.max,r);return a.push(c),a}var ou={position:"left",ticks:{callback:da.formatters.logarithmic}};function Va(e,t){return p.isFinite(e)&&e>=0?e:t}var En=ye.extend({determineDataLimits:function(){var e=this,t=e.options,a=e.chart,r=a.data.datasets,s=e.isHorizontal();function o(S){return s?S.xAxisID===e.id:S.yAxisID===e.id}var u,f,d,c,g,m;e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,e.minNotZero=Number.POSITIVE_INFINITY;var b=t.stacked;if(b===void 0){for(u=0;u<r.length;u++)if(f=a.getDatasetMeta(u),a.isDatasetVisible(u)&&o(f)&&f.stack!==void 0){b=!0;break}}if(t.stacked||b){var _={};for(u=0;u<r.length;u++){f=a.getDatasetMeta(u);var w=[f.type,t.stacked===void 0&&f.stack===void 0?u:"",f.stack].join(".");if(a.isDatasetVisible(u)&&o(f))for(_[w]===void 0&&(_[w]=[]),c=r[u].data,g=0,m=c.length;g<m;g++){var k=_[w];d=e._parseValue(c[g]),!(isNaN(d.min)||isNaN(d.max)||f.data[g].hidden||d.min<0||d.max<0)&&(k[g]=k[g]||0,k[g]+=d.max)}}p.each(_,function(S){if(S.length>0){var C=p.min(S),F=p.max(S);e.min=Math.min(e.min,C),e.max=Math.max(e.max,F)}})}else for(u=0;u<r.length;u++)if(f=a.getDatasetMeta(u),a.isDatasetVisible(u)&&o(f))for(c=r[u].data,g=0,m=c.length;g<m;g++)d=e._parseValue(c[g]),!(isNaN(d.min)||isNaN(d.max)||f.data[g].hidden||d.min<0||d.max<0)&&(e.min=Math.min(d.min,e.min),e.max=Math.max(d.max,e.max),d.min!==0&&(e.minNotZero=Math.min(d.min,e.minNotZero)));e.min=p.isFinite(e.min)?e.min:null,e.max=p.isFinite(e.max)?e.max:null,e.minNotZero=p.isFinite(e.minNotZero)?e.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks,a=1,r=10;e.min=Va(t.min,e.min),e.max=Va(t.max,e.max),e.min===e.max&&(e.min!==0&&e.min!==null?(e.min=Math.pow(10,Math.floor(be(e.min))-1),e.max=Math.pow(10,Math.floor(be(e.max))+1)):(e.min=a,e.max=r)),e.min===null&&(e.min=Math.pow(10,Math.floor(be(e.max))-1)),e.max===null&&(e.max=e.min!==0?Math.pow(10,Math.floor(be(e.min))+1):r),e.minNotZero===null&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(be(e.max))):e.minNotZero=a)},buildTicks:function(){var e=this,t=e.options.ticks,a=!e.isHorizontal(),r={min:Va(t.min),max:Va(t.max)},s=e.ticks=su(r,e);e.max=p.max(s),e.min=p.min(s),t.reverse?(a=!a,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),a&&s.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),ye.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(be(e)),a=Math.floor(e/Math.pow(10,t));return a*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,a=0;ye.prototype._configure.call(e),t===0&&(t=e._getFirstTickValue(e.minNotZero),a=jr(e.options.ticks.fontSize,E.global.defaultFontSize)/e._length),e._startValue=be(t),e._valueOffset=a,e._valueRange=(be(e.max)-be(t))/(1-a)},getPixelForValue:function(e){var t=this,a=0;return e=+t.getRightValue(e),e>t.min&&e>0&&(a=(be(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(a)},getValueForPixel:function(e){var t=this,a=t.getDecimalForPixel(e);return a===0&&t.min===0?0:Math.pow(10,t._startValue+(a-t._valueOffset)*t._valueRange)}}),lu=ou;En._defaults=lu;var Ga=p.valueOrDefault,$r=p.valueAtIndexOrDefault,Ln=p.options.resolve,uu={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:da.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function qr(e){var t=e.ticks;return t.display&&e.display?Ga(t.fontSize,E.global.defaultFontSize)+t.backdropPaddingY*2:0}function du(e,t,a){return p.isArray(a)?{w:p.longestText(e,e.font,a),h:a.length*t}:{w:e.measureText(a).width,h:t}}function Nn(e,t,a,r,s){return e===r||e===s?{start:t-a/2,end:t+a/2}:e<r||e>s?{start:t-a,end:t}:{start:t,end:t+a}}function hu(e){var t=p.options._parseFont(e.options.pointLabels),a={l:0,r:e.width,t:0,b:e.height-e.paddingTop},r={},s,o,u;e.ctx.font=t.string,e._pointLabelSizes=[];var f=e.chart.data.labels.length;for(s=0;s<f;s++){u=e.getPointPosition(s,e.drawingArea+5),o=du(e.ctx,t.lineHeight,e.pointLabels[s]),e._pointLabelSizes[s]=o;var d=e.getIndexAngle(s),c=p.toDegrees(d)%360,g=Nn(c,u.x,o.w,0,180),m=Nn(c,u.y,o.h,90,270);g.start<a.l&&(a.l=g.start,r.l=d),g.end>a.r&&(a.r=g.end,r.r=d),m.start<a.t&&(a.t=m.start,r.t=d),m.end>a.b&&(a.b=m.end,r.b=d)}e.setReductions(e.drawingArea,a,r)}function fu(e){return e===0||e===180?"center":e<180?"left":"right"}function cu(e,t,a,r){var s=a.y+r/2,o,u;if(p.isArray(t))for(o=0,u=t.length;o<u;++o)e.fillText(t[o],a.x,s),s+=r;else e.fillText(t,a.x,s)}function vu(e,t,a){e===90||e===270?a.y-=t.h/2:(e>270||e<90)&&(a.y-=t.h)}function gu(e){var t=e.ctx,a=e.options,r=a.pointLabels,s=qr(a),o=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),u=p.options._parseFont(r);t.save(),t.font=u.string,t.textBaseline="middle";for(var f=e.chart.data.labels.length-1;f>=0;f--){var d=f===0?s/2:0,c=e.getPointPosition(f,o+d+5),g=$r(r.fontColor,f,E.global.defaultFontColor);t.fillStyle=g;var m=e.getIndexAngle(f),b=p.toDegrees(m);t.textAlign=fu(b),vu(b,e._pointLabelSizes[f],c),cu(t,e.pointLabels[f],c,u.lineHeight)}t.restore()}function mu(e,t,a,r){var s=e.ctx,o=t.circular,u=e.chart.data.labels.length,f=$r(t.color,r-1),d=$r(t.lineWidth,r-1),c;if(!(!o&&!u||!f||!d)){if(s.save(),s.strokeStyle=f,s.lineWidth=d,s.setLineDash&&(s.setLineDash(t.borderDash||[]),s.lineDashOffset=t.borderDashOffset||0),s.beginPath(),o)s.arc(e.xCenter,e.yCenter,a,0,Math.PI*2);else{c=e.getPointPosition(0,a),s.moveTo(c.x,c.y);for(var g=1;g<u;g++)c=e.getPointPosition(g,a),s.lineTo(c.x,c.y)}s.closePath(),s.stroke(),s.restore()}}function Ua(e){return p.isNumber(e)?e:0}var Yn=Ha.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=qr(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;p.each(t.data.datasets,function(s,o){if(t.isDatasetVisible(o)){var u=t.getDatasetMeta(o);p.each(s.data,function(f,d){var c=+e.getRightValue(f);isNaN(c)||u.data[d].hidden||(a=Math.min(c,a),r=Math.max(c,r))})}}),e.min=a===Number.POSITIVE_INFINITY?0:a,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/qr(this.options))},convertTicksToLabels:function(){var e=this;Ha.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var t=p.callback(e.options.pointLabels.callback,arguments,e);return t||t===0?t:""})},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this,t=e.options;t.display&&t.pointLabels.display?hu(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,t,a){var r=this,s=t.l/Math.sin(a.l),o=Math.max(t.r-r.width,0)/Math.sin(a.r),u=-t.t/Math.cos(a.t),f=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(a.b);s=Ua(s),o=Ua(o),u=Ua(u),f=Ua(f),r.drawingArea=Math.min(Math.floor(e-(s+o)/2),Math.floor(e-(u+f)/2)),r.setCenterPoint(s,o,u,f)},setCenterPoint:function(e,t,a,r){var s=this,o=s.width-t-s.drawingArea,u=e+s.drawingArea,f=a+s.drawingArea,d=s.height-s.paddingTop-r-s.drawingArea;s.xCenter=Math.floor((u+o)/2+s.left),s.yCenter=Math.floor((f+d)/2+s.top+s.paddingTop)},getIndexAngle:function(e){var t=this.chart,a=360/t.data.labels.length,r=t.options||{},s=r.startAngle||0,o=(e*a+s)%360;return(o<0?o+360:o)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(p.isNullOrUndef(e))return NaN;var a=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*a:(e-t.min)*a},getPointPosition:function(e,t){var a=this,r=a.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(r)*t+a.xCenter,y:Math.sin(r)*t+a.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this,a=t.min,r=t.max;return t.getPointPositionForValue(e||0,t.beginAtZero?0:a<0&&r<0?r:a>0&&r>0?a:0)},_drawGrid:function(){var e=this,t=e.ctx,a=e.options,r=a.gridLines,s=a.angleLines,o=Ga(s.lineWidth,r.lineWidth),u=Ga(s.color,r.color),f,d,c;if(a.pointLabels.display&&gu(e),r.display&&p.each(e.ticks,function(g,m){m!==0&&(d=e.getDistanceFromCenterForValue(e.ticksAsNumbers[m]),mu(e,r,d,m))}),s.display&&o&&u){for(t.save(),t.lineWidth=o,t.strokeStyle=u,t.setLineDash&&(t.setLineDash(Ln([s.borderDash,r.borderDash,[]])),t.lineDashOffset=Ln([s.borderDashOffset,r.borderDashOffset,0])),f=e.chart.data.labels.length-1;f>=0;f--)d=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),c=e.getPointPosition(f,d),t.beginPath(),t.moveTo(e.xCenter,e.yCenter),t.lineTo(c.x,c.y),t.stroke();t.restore()}},_drawLabels:function(){var e=this,t=e.ctx,a=e.options,r=a.ticks;if(r.display){var s=e.getIndexAngle(0),o=p.options._parseFont(r),u=Ga(r.fontColor,E.global.defaultFontColor),f,d;t.save(),t.font=o.string,t.translate(e.xCenter,e.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",p.each(e.ticks,function(c,g){g===0&&!r.reverse||(f=e.getDistanceFromCenterForValue(e.ticksAsNumbers[g]),r.showLabelBackdrop&&(d=t.measureText(c).width,t.fillStyle=r.backdropColor,t.fillRect(-d/2-r.backdropPaddingX,-f-o.size/2-r.backdropPaddingY,d+r.backdropPaddingX*2,o.size+r.backdropPaddingY*2)),t.fillStyle=u,t.fillText(c,0,-f))}),t.restore()}},_drawTitle:p.noop}),pu=uu;Yn._defaults=pu;var Xr=p._deprecated,Wn=p.options.resolve,yu=p.valueOrDefault,Bn=Number.MIN_SAFE_INTEGER||-9007199254740991,Zr=Number.MAX_SAFE_INTEGER||9007199254740991,ja={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xe=Object.keys(ja);function zn(e,t){return e-t}function bu(e){var t={},a=[],r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r],t[o]||(t[o]=!0,a.push(o));return a}function Hn(e){return p.valueOrDefault(e.time.min,e.ticks.min)}function Vn(e){return p.valueOrDefault(e.time.max,e.ticks.max)}function xu(e,t,a,r){if(r==="linear"||!e.length)return[{time:t,pos:0},{time:a,pos:1}];var s=[],o=[t],u,f,d,c,g;for(u=0,f=e.length;u<f;++u)c=e[u],c>t&&c<a&&o.push(c);for(o.push(a),u=0,f=o.length;u<f;++u)g=o[u+1],d=o[u-1],c=o[u],(d===void 0||g===void 0||Math.round((g+d)/2)!==c)&&s.push({time:c,pos:u/(f-1)});return s}function _u(e,t,a){for(var r=0,s=e.length-1,o,u,f;r>=0&&r<=s;)if(o=r+s>>1,u=e[o-1]||null,f=e[o],u)if(f[t]<a)r=o+1;else if(u[t]>a)s=o-1;else return{lo:u,hi:f};else return{lo:null,hi:f};return{lo:f,hi:null}}function Yt(e,t,a,r){var s=_u(e,t,a),o=s.lo?s.hi?s.lo:e[e.length-2]:e[0],u=s.lo?s.hi?s.hi:e[e.length-1]:e[1],f=u[t]-o[t],d=f?(a-o[t])/f:0,c=(u[r]-o[r])*d;return o[r]+c}function Kr(e,t){var a=e._adapter,r=e.options.time,s=r.parser,o=s||r.format,u=t;return typeof s=="function"&&(u=s(u)),p.isFinite(u)||(u=typeof o=="string"?a.parse(u,o):a.parse(u)),u!==null?+u:(!s&&typeof o=="function"&&(u=o(t),p.isFinite(u)||(u=a.parse(u))),u)}function St(e,t){if(p.isNullOrUndef(t))return null;var a=e.options.time,r=Kr(e,e.getRightValue(t));return r===null||a.round&&(r=+e._adapter.startOf(r,a.round)),r}function Gn(e,t,a,r){var s=xe.length,o,u,f;for(o=xe.indexOf(e);o<s-1;++o)if(u=ja[xe[o]],f=u.steps?u.steps:Zr,u.common&&Math.ceil((a-t)/(f*u.size))<=r)return xe[o];return xe[s-1]}function wu(e,t,a,r,s){var o,u;for(o=xe.length-1;o>=xe.indexOf(a);o--)if(u=xe[o],ja[u].common&&e._adapter.diff(s,r,u)>=t-1)return u;return xe[a?xe.indexOf(a):0]}function Mu(e){for(var t=xe.indexOf(e)+1,a=xe.length;t<a;++t)if(ja[xe[t]].common)return xe[t]}function ku(e,t,a,r){var s=e._adapter,o=e.options,u=o.time,f=u.unit||Gn(u.minUnit,t,a,r),d=Wn([u.stepSize,u.unitStepSize,1]),c=f==="week"?u.isoWeekday:!1,g=t,m=[],b;if(c&&(g=+s.startOf(g,"isoWeek",c)),g=+s.startOf(g,c?"day":f),s.diff(a,t,f)>1e5*d)throw t+" and "+a+" are too far apart with stepSize of "+d+" "+f;for(b=g;b<a;b=+s.add(b,d,f))m.push(b);return(b===a||o.bounds==="ticks")&&m.push(b),m}function Su(e,t,a,r,s){var o=0,u=0,f,d;return s.offset&&t.length&&(f=Yt(e,"time",t[0],"pos"),t.length===1?o=1-f:o=(Yt(e,"time",t[1],"pos")-f)/2,d=Yt(e,"time",t[t.length-1],"pos"),t.length===1?u=d:u=(d-Yt(e,"time",t[t.length-2],"pos"))/2),{start:o,end:u,factor:1/(o+1+u)}}function Du(e,t,a,r){var s=e._adapter,o=+s.startOf(t[0].value,r),u=t[t.length-1].value,f,d;for(f=o;f<=u;f=+s.add(f,1,r))d=a[f],d>=0&&(t[d].major=!0);return t}function Un(e,t,a){var r=[],s={},o=t.length,u,f;for(u=0;u<o;++u)f=t[u],s[f]=u,r.push({value:f,major:!1});return o===0||!a?r:Du(e,r,s,a)}var Cu={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},jn=ye.extend({initialize:function(){this.mergeTicksOptions(),ye.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,a=t.time||(t.time={}),r=e._adapter=new Br._date(t.adapters.date);return Xr("time scale",a.format,"time.format","time.parser"),Xr("time scale",a.min,"time.min","ticks.min"),Xr("time scale",a.max,"time.max","ticks.max"),p.mergeIf(a.displayFormats,r.formats()),ye.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&e.t!==void 0&&(e=e.t),ye.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e=this,t=e.chart,a=e._adapter,r=e.options,s=r.time.unit||"day",o=Zr,u=Bn,f=[],d=[],c=[],g,m,b,_,w,k,S,C=e._getLabels();for(g=0,b=C.length;g<b;++g)c.push(St(e,C[g]));for(g=0,b=(t.data.datasets||[]).length;g<b;++g)if(t.isDatasetVisible(g))if(w=t.data.datasets[g].data,p.isObject(w[0]))for(d[g]=[],m=0,_=w.length;m<_;++m)k=St(e,w[m]),f.push(k),d[g][m]=k;else d[g]=c.slice(0),S||(f=f.concat(c),S=!0);else d[g]=[];c.length&&(o=Math.min(o,c[0]),u=Math.max(u,c[c.length-1])),f.length&&(f=b>1?bu(f).sort(zn):f.sort(zn),o=Math.min(o,f[0]),u=Math.max(u,f[f.length-1])),o=St(e,Hn(r))||o,u=St(e,Vn(r))||u,o=o===Zr?+a.startOf(Date.now(),s):o,u=u===Bn?+a.endOf(Date.now(),s)+1:u,e.min=Math.min(o,u),e.max=Math.max(o+1,u),e._table=[],e._timestamps={data:f,datasets:d,labels:c}},buildTicks:function(){var e=this,t=e.min,a=e.max,r=e.options,s=r.ticks,o=r.time,u=e._timestamps,f=[],d=e.getLabelCapacity(t),c=s.source,g=r.distribution,m,b,_;for(c==="data"||c==="auto"&&g==="series"?u=u.data:c==="labels"?u=u.labels:u=ku(e,t,a,d),r.bounds==="ticks"&&u.length&&(t=u[0],a=u[u.length-1]),t=St(e,Hn(r))||t,a=St(e,Vn(r))||a,m=0,b=u.length;m<b;++m)_=u[m],_>=t&&_<=a&&f.push(_);return e.min=t,e.max=a,e._unit=o.unit||(s.autoSkip?Gn(o.minUnit,e.min,e.max,d):wu(e,f.length,o.minUnit,e.min,e.max)),e._majorUnit=!s.major.enabled||e._unit==="year"?void 0:Mu(e._unit),e._table=xu(e._timestamps.data,t,a,g),e._offsets=Su(e._table,f,t,a,r),s.reverse&&f.reverse(),Un(e,f,e._majorUnit)},getLabelForIndex:function(e,t){var a=this,r=a._adapter,s=a.chart.data,o=a.options.time,u=s.labels&&e<s.labels.length?s.labels[e]:"",f=s.datasets[t].data[e];return p.isObject(f)&&(u=a.getRightValue(f)),o.tooltipFormat?r.format(Kr(a,u),o.tooltipFormat):typeof u=="string"?u:r.format(Kr(a,u),o.displayFormats.datetime)},tickFormatFunction:function(e,t,a,r){var s=this,o=s._adapter,u=s.options,f=u.time.displayFormats,d=f[s._unit],c=s._majorUnit,g=f[c],m=a[t],b=u.ticks,_=c&&g&&m&&m.major,w=o.format(e,r||(_?g:d)),k=_?b.major:b.minor,S=Wn([k.callback,k.userCallback,b.callback,b.userCallback]);return S?S(w,t,a):w},convertTicksToLabels:function(e){var t=[],a,r;for(a=0,r=e.length;a<r;++a)t.push(this.tickFormatFunction(e[a].value,a,e));return t},getPixelForOffset:function(e){var t=this,a=t._offsets,r=Yt(t._table,"time",e,"pos");return t.getPixelForDecimal((a.start+r)*a.factor)},getPixelForValue:function(e,t,a){var r=this,s=null;if(t!==void 0&&a!==void 0&&(s=r._timestamps.datasets[a][t]),s===null&&(s=St(r,e)),s!==null)return r.getPixelForOffset(s)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,a=t._offsets,r=t.getDecimalForPixel(e)/a.factor-a.end,s=Yt(t._table,"pos",r,"time");return t._adapter._create(s)},_getLabelSize:function(e){var t=this,a=t.options.ticks,r=t.ctx.measureText(e).width,s=p.toRadians(t.isHorizontal()?a.maxRotation:a.minRotation),o=Math.cos(s),u=Math.sin(s),f=yu(a.fontSize,E.global.defaultFontSize);return{w:r*o+f*u,h:r*u+f*o}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,a=t.options.time,r=a.displayFormats,s=r[a.unit]||r.millisecond,o=t.tickFormatFunction(e,0,Un(t,[e],t._majorUnit),s),u=t._getLabelSize(o),f=Math.floor(t.isHorizontal()?t.width/u.w:t.height/u.h);return t.options.offset&&f--,f>0?f:1}}),Tu=Cu;jn._defaults=Tu;var Pu={category:Rn,linear:In,logarithmic:En,radialLinear:Yn,time:jn},Au={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Br._date.override(typeof l=="function"?{_id:"moment",formats:function(){return Au},parse:function(e,t){return typeof e=="string"&&typeof t=="string"?e=l(e,t):e instanceof l||(e=l(e)),e.isValid()?e.valueOf():null},format:function(e,t){return l(e).format(t)},add:function(e,t,a){return l(e).add(t,a).valueOf()},diff:function(e,t,a){return l(e).diff(l(t),a)},startOf:function(e,t,a){return e=l(e),t==="isoWeek"?e.isoWeekday(a).valueOf():e.startOf(t).valueOf()},endOf:function(e,t){return l(e).endOf(t).valueOf()},_create:function(e){return l(e)}}:{}),E._set("global",{plugins:{filler:{propagate:!0}}});var Ou={dataset:function(e){var t=e.fill,a=e.chart,r=a.getDatasetMeta(t),s=r&&a.isDatasetVisible(t),o=s&&r.dataset._children||[],u=o.length||0;return u?function(f,d){return d<u&&o[d]._view||null}:null},boundary:function(e){var t=e.boundary,a=t?t.x:null,r=t?t.y:null;return p.isArray(t)?function(s,o){return t[o]}:function(s){return{x:a===null?s.x:a,y:r===null?s.y:r}}}};function Fu(e,t,a){var r=e._model||{},s=r.fill,o;if(s===void 0&&(s=!!r.backgroundColor),s===!1||s===null)return!1;if(s===!0)return"origin";if(o=parseFloat(s,10),isFinite(o)&&Math.floor(o)===o)return(s[0]==="-"||s[0]==="+")&&(o=t+o),o===t||o<0||o>=a?!1:o;switch(s){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return s;default:return!1}}function Ru(e){var t=e.el._model||{},a=e.el._scale||{},r=e.fill,s=null,o;if(isFinite(r))return null;if(r==="start"?s=t.scaleBottom===void 0?a.bottom:t.scaleBottom:r==="end"?s=t.scaleTop===void 0?a.top:t.scaleTop:t.scaleZero!==void 0?s=t.scaleZero:a.getBasePixel&&(s=a.getBasePixel()),s!=null){if(s.x!==void 0&&s.y!==void 0)return s;if(p.isFinite(s))return o=a.isHorizontal(),{x:o?s:null,y:o?null:s}}return null}function Iu(e){var t=e.el._scale,a=t.options,r=t.chart.data.labels.length,s=e.fill,o=[],u,f,d,c,g;if(!r)return null;for(u=a.ticks.reverse?t.max:t.min,f=a.ticks.reverse?t.min:t.max,d=t.getPointPositionForValue(0,u),c=0;c<r;++c)g=s==="start"||s==="end"?t.getPointPositionForValue(c,s==="start"?u:f):t.getBasePosition(c),a.gridLines.circular&&(g.cx=d.x,g.cy=d.y,g.angle=t.getIndexAngle(c)-Math.PI/2),o.push(g);return o}function Eu(e){var t=e.el._scale||{};return t.getPointPositionForValue?Iu(e):Ru(e)}function Lu(e,t,a){var r=e[t],s=r.fill,o=[t],u;if(!a)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!isFinite(s))return s;if(u=e[s],!u)return!1;if(u.visible)return s;o.push(s),s=u.fill}return!1}function Nu(e){var t=e.fill,a="dataset";return t===!1?null:(isFinite(t)||(a="boundary"),Ou[a](e))}function $n(e){return e&&!e.skip}function qn(e,t,a,r,s){var o,u,f,d;if(!(!r||!s)){for(e.moveTo(t[0].x,t[0].y),o=1;o<r;++o)p.canvas.lineTo(e,t[o-1],t[o]);if(a[0].angle!==void 0){for(u=a[0].cx,f=a[0].cy,d=Math.sqrt(Math.pow(a[0].x-u,2)+Math.pow(a[0].y-f,2)),o=s-1;o>0;--o)e.arc(u,f,d,a[o].angle,a[o-1].angle,!0);return}for(e.lineTo(a[s-1].x,a[s-1].y),o=s-1;o>0;--o)p.canvas.lineTo(e,a[o],a[o-1],!0)}}function Yu(e,t,a,r,s,o){var u=t.length,f=r.spanGaps,d=[],c=[],g=0,m=0,b,_,w,k,S,C,F,I;for(e.beginPath(),b=0,_=u;b<_;++b)w=b%u,k=t[w]._view,S=a(k,w,r),C=$n(k),F=$n(S),o&&I===void 0&&C&&(I=b+1,_=u+I),C&&F?(g=d.push(k),m=c.push(S)):g&&m&&(f?(C&&d.push(k),F&&c.push(S)):(qn(e,d,c,g,m),g=m=0,d=[],c=[]));qn(e,d,c,g,m),e.closePath(),e.fillStyle=s,e.fill()}var Wu={id:"filler",afterDatasetsUpdate:function(e,t){var a=(e.data.datasets||[]).length,r=t.propagate,s=[],o,u,f,d;for(u=0;u<a;++u)o=e.getDatasetMeta(u),f=o.dataset,d=null,f&&f._model&&f instanceof pe.Line&&(d={visible:e.isDatasetVisible(u),fill:Fu(f,u,a),chart:e,el:f}),o.$filler=d,s.push(d);for(u=0;u<a;++u)d=s[u],d&&(d.fill=Lu(s,u,r),d.boundary=Eu(d),d.mapper=Nu(d))},beforeDatasetsDraw:function(e){var t=e._getSortedVisibleDatasetMetas(),a=e.ctx,r,s,o,u,f,d,c;for(s=t.length-1;s>=0;--s)r=t[s].$filler,!(!r||!r.visible)&&(o=r.el,u=o._view,f=o._children||[],d=r.mapper,c=u.backgroundColor||E.global.defaultColor,d&&c&&f.length&&(p.canvas.clipArea(a,e.chartArea),Yu(a,f,d,u,c,o._loop),p.canvas.unclipArea(a)))}},Bu=p.rtl.getRtlAdapter,lt=p.noop,ut=p.valueOrDefault;E._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var a=t.datasetIndex,r=this.chart,s=r.getDatasetMeta(a);s.hidden=s.hidden===null?!r.data.datasets[a].hidden:null,r.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,a=e.options.legend||{},r=a.labels&&a.labels.usePointStyle;return e._getSortedDatasetMetas().map(function(s){var o=s.controller.getStyle(r?0:void 0);return{text:t[s.index].label,fillStyle:o.backgroundColor,hidden:!e.isDatasetVisible(s.index),lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:o.borderWidth,strokeStyle:o.borderColor,pointStyle:o.pointStyle,rotation:o.rotation,datasetIndex:s.index}},this)}}},legendCallback:function(e){var t=document.createElement("ul"),a=e.data.datasets,r,s,o,u;for(t.setAttribute("class",e.id+"-legend"),r=0,s=a.length;r<s;r++)o=t.appendChild(document.createElement("li")),u=o.appendChild(document.createElement("span")),u.style.backgroundColor=a[r].backgroundColor,a[r].label&&o.appendChild(document.createTextNode(a[r].label));return t.outerHTML}});function Jr(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}var Xn=We.extend({initialize:function(e){var t=this;p.extend(t,e),t.legendHitBoxes=[],t._hoveredItem=null,t.doughnutMode=!1},beforeUpdate:lt,update:function(e,t,a){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=a,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:lt,beforeSetDimensions:lt,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:lt,beforeBuildLabels:lt,buildLabels:function(){var e=this,t=e.options.labels||{},a=p.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(a=a.filter(function(r){return t.filter(r,e.chart.data)})),e.options.reverse&&a.reverse(),e.legendItems=a},afterBuildLabels:lt,beforeFit:lt,fit:function(){var e=this,t=e.options,a=t.labels,r=t.display,s=e.ctx,o=p.options._parseFont(a),u=o.size,f=e.legendHitBoxes=[],d=e.minSize,c=e.isHorizontal();if(c?(d.width=e.maxWidth,d.height=r?10:0):(d.width=r?10:0,d.height=e.maxHeight),!r){e.width=d.width=e.height=d.height=0;return}if(s.font=o.string,c){var g=e.lineWidths=[0],m=0;s.textAlign="left",s.textBaseline="middle",p.each(e.legendItems,function(F,I){var z=Jr(a,u),W=z+u/2+s.measureText(F.text).width;(I===0||g[g.length-1]+W+2*a.padding>d.width)&&(m+=u+a.padding,g[g.length-(I>0?0:1)]=0),f[I]={left:0,top:0,width:W,height:u},g[g.length-1]+=W+a.padding}),d.height+=m}else{var b=a.padding,_=e.columnWidths=[],w=e.columnHeights=[],k=a.padding,S=0,C=0;p.each(e.legendItems,function(F,I){var z=Jr(a,u),W=z+u/2+s.measureText(F.text).width;I>0&&C+u+2*b>d.height&&(k+=S+a.padding,_.push(S),w.push(C),S=0,C=0),S=Math.max(S,W),C+=u+b,f[I]={left:0,top:0,width:W,height:u}}),k+=S,_.push(S),w.push(C),d.width+=k}e.width=d.width,e.height=d.height},afterFit:lt,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var e=this,t=e.options,a=t.labels,r=E.global,s=r.defaultColor,o=r.elements.line,u=e.height,f=e.columnHeights,d=e.width,c=e.lineWidths;if(t.display){var g=Bu(t.rtl,e.left,e.minSize.width),m=e.ctx,b=ut(a.fontColor,r.defaultFontColor),_=p.options._parseFont(a),w=_.size,k;m.textAlign=g.textAlign("left"),m.textBaseline="middle",m.lineWidth=.5,m.strokeStyle=b,m.fillStyle=b,m.font=_.string;var S=Jr(a,w),C=e.legendHitBoxes,F=function(j,J,te){if(!(isNaN(S)||S<=0)){m.save();var de=ut(te.lineWidth,o.borderWidth);if(m.fillStyle=ut(te.fillStyle,s),m.lineCap=ut(te.lineCap,o.borderCapStyle),m.lineDashOffset=ut(te.lineDashOffset,o.borderDashOffset),m.lineJoin=ut(te.lineJoin,o.borderJoinStyle),m.lineWidth=de,m.strokeStyle=ut(te.strokeStyle,s),m.setLineDash&&m.setLineDash(ut(te.lineDash,o.borderDash)),a&&a.usePointStyle){var le=S*Math.SQRT2/2,se=g.xPlus(j,S/2),fe=J+w/2;p.canvas.drawPoint(m,te.pointStyle,le,se,fe,te.rotation)}else m.fillRect(g.leftForLtr(j,S),J,S,w),de!==0&&m.strokeRect(g.leftForLtr(j,S),J,S,w);m.restore()}},I=function(j,J,te,de){var le=w/2,se=g.xPlus(j,S+le),fe=J+le;m.fillText(te.text,se,fe),te.hidden&&(m.beginPath(),m.lineWidth=2,m.moveTo(se,fe),m.lineTo(g.xPlus(se,de),fe),m.stroke())},z=function(j,J){switch(t.align){case"start":return a.padding;case"end":return j-J;default:return(j-J+a.padding)/2}},W=e.isHorizontal();W?k={x:e.left+z(d,c[0]),y:e.top+a.padding,line:0}:k={x:e.left+a.padding,y:e.top+z(u,f[0]),line:0},p.rtl.overrideTextDirection(e.ctx,t.textDirection);var X=w+a.padding;p.each(e.legendItems,function(j,J){var te=m.measureText(j.text).width,de=S+w/2+te,le=k.x,se=k.y;g.setWidth(e.minSize.width),W?J>0&&le+de+a.padding>e.left+e.minSize.width&&(se=k.y+=X,k.line++,le=k.x=e.left+z(d,c[k.line])):J>0&&se+X>e.top+e.minSize.height&&(le=k.x=le+e.columnWidths[k.line]+a.padding,k.line++,se=k.y=e.top+z(u,f[k.line]));var fe=g.x(le);F(fe,se,j),C[J].left=g.leftForLtr(fe,C[J].width),C[J].top=se,I(fe,se,j,te),W?k.x+=de+a.padding:k.y+=X}),p.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var a=this,r,s,o;if(e>=a.left&&e<=a.right&&t>=a.top&&t<=a.bottom){for(o=a.legendHitBoxes,r=0;r<o.length;++r)if(s=o[r],e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height)return a.legendItems[r]}return null},handleEvent:function(e){var t=this,a=t.options,r=e.type==="mouseup"?"click":e.type,s;if(r==="mousemove"){if(!a.onHover&&!a.onLeave)return}else if(r==="click"){if(!a.onClick)return}else return;s=t._getLegendItemAt(e.x,e.y),r==="click"?s&&a.onClick&&a.onClick.call(t,e.native,s):(a.onLeave&&s!==t._hoveredItem&&(t._hoveredItem&&a.onLeave.call(t,e.native,t._hoveredItem),t._hoveredItem=s),a.onHover&&s&&a.onHover.call(t,e.native,s))}});function Zn(e,t){var a=new Xn({ctx:e.ctx,options:t,chart:e});Pe.configure(e,a,t),Pe.addBox(e,a),e.legend=a}var zu={id:"legend",_element:Xn,beforeInit:function(e){var t=e.options.legend;t&&Zn(e,t)},beforeUpdate:function(e){var t=e.options.legend,a=e.legend;t?(p.mergeIf(t,E.global.legend),a?(Pe.configure(e,a,t),a.options=t):Zn(e,t)):a&&(Pe.removeBox(e,a),delete e.legend)},afterEvent:function(e,t){var a=e.legend;a&&a.handleEvent(t)}},Ke=p.noop;E._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Kn=We.extend({initialize:function(e){var t=this;p.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:Ke,update:function(e,t,a){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=a,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:Ke,beforeSetDimensions:Ke,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Ke,beforeBuildLabels:Ke,buildLabels:Ke,afterBuildLabels:Ke,beforeFit:Ke,fit:function(){var e=this,t=e.options,a=e.minSize={},r=e.isHorizontal(),s,o;if(!t.display){e.width=a.width=e.height=a.height=0;return}s=p.isArray(t.text)?t.text.length:1,o=s*p.options._parseFont(t).lineHeight+t.padding*2,e.width=a.width=r?e.maxWidth:o,e.height=a.height=r?o:e.maxHeight},afterFit:Ke,isHorizontal:function(){var e=this.options.position;return e==="top"||e==="bottom"},draw:function(){var e=this,t=e.ctx,a=e.options;if(a.display){var r=p.options._parseFont(a),s=r.lineHeight,o=s/2+a.padding,u=0,f=e.top,d=e.left,c=e.bottom,g=e.right,m,b,_;t.fillStyle=p.valueOrDefault(a.fontColor,E.global.defaultFontColor),t.font=r.string,e.isHorizontal()?(b=d+(g-d)/2,_=f+o,m=g-d):(b=a.position==="left"?d+o:g-o,_=f+(c-f)/2,m=c-f,u=Math.PI*(a.position==="left"?-.5:.5)),t.save(),t.translate(b,_),t.rotate(u),t.textAlign="center",t.textBaseline="middle";var w=a.text;if(p.isArray(w))for(var k=0,S=0;S<w.length;++S)t.fillText(w[S],0,k,m),k+=s;else t.fillText(w,0,0,m);t.restore()}}});function Jn(e,t){var a=new Kn({ctx:e.ctx,options:t,chart:e});Pe.configure(e,a,t),Pe.addBox(e,a),e.titleBlock=a}var Hu={id:"title",_element:Kn,beforeInit:function(e){var t=e.options.title;t&&Jn(e,t)},beforeUpdate:function(e){var t=e.options.title,a=e.titleBlock;t?(p.mergeIf(t,E.global.title),a?(Pe.configure(e,a,t),a.options=t):Jn(e,t)):a&&(Pe.removeBox(e,a),delete e.titleBlock)}},dt={},Vu=Wu,Gu=zu,Uu=Hu;dt.filler=Vu,dt.legend=Gu,dt.title=Uu,V.helpers=p,Wl(),V._adapters=Br,V.Animation=wr,V.animationService=Mr,V.controllers=pn,V.DatasetController=Te,V.defaults=E,V.Element=We,V.elements=pe,V.Interaction=Et,V.layouts=Pe,V.platform=Lt,V.plugins=ee,V.Scale=ye,V.scaleService=ua,V.Ticks=da,V.Tooltip=Nr,V.helpers.each(Pu,function(e,t){V.scaleService.registerScaleType(t,e,e._defaults)});for(var Qn in dt)dt.hasOwnProperty(Qn)&&V.plugins.register(dt[Qn]);V.platform.initialize();var ju=V;return typeof window<"u"&&(window.Chart=V),V.Chart=V,V.Legend=dt.legend._element,V.Title=dt.title._element,V.pluginService=V.plugins,V.PluginBase=V.Element.extend({}),V.canvasHelpers=V.helpers.canvas,V.layoutService=V.layouts,V.LinearScaleBase=Ha,V.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(e){V[e]=function(t,a){return new V(t,V.helpers.merge(a||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}}),ju})})(vs);var bv=vs.exports;const fs=vd(bv);let xi,_i;function wi(){const i=document.getElementById("map"),n=document.getElementById("brain");if(!i||!n){console.error("Canvas elements not found");return}if(i.width=window.innerWidth,i.height=1e3,n.width=1e3,n.height=1e3,y.ctx.map=i.getContext("2d"),y.ctx.stats=n.getContext("2d"),!y.ctx.map||!y.ctx.stats){console.error("Could not get canvas contexts");return}y.ctx.map.font="10px Arial",y.ctx.stats.font="10px Arial",xv(),ed(),id(),dd(),_v(i,n),ki.generate(),so(),y.canvas.scale=3,y.ctx.map.scale(3,3)}function xv(){xi=new fs("foodPopChart",{type:"line",data:{labels:[],datasets:[{label:"RED AGAR",data:[],borderColor:"rgb(255, 0, 0)",pointRadius:0,lineTension:0,fill:!1,yAxisID:"AGAR"},{label:"GREEN AGAR",data:[],borderColor:"rgb(0, 255, 0)",pointRadius:0,lineTension:0,fill:!1,yAxisID:"AGAR"},{label:"BLUE AGAR",data:[],borderColor:"rgb(0, 0, 255)",pointRadius:0,lineTension:0,fill:!1,yAxisID:"AGAR"},{label:"POPULATION",data:[],borderColor:"rgb(50, 50, 50)",pointRadius:0,lineTension:0,fill:!1,yAxisID:"POP"}]},options:{legend:{display:!1},animation:{duration:0},scales:{xAxes:[{ticks:{maxTicksLimit:8}}],yAxes:[{id:"AGAR",ticks:{maxTicksLimit:8},position:"left"},{id:"POP",ticks:{maxTicksLimit:8},position:"right"}]}}}),_i=new fs("optimizationChart",{type:"line",data:{labels:[],datasets:[{label:"MUTATION RATE",data:[],borderColor:"rgb(50, 50, 50)",pointRadius:0,lineTension:0,fill:!1,yAxisID:"MUT"},{label:"EATING EFFICIENCY",data:[],borderColor:"rgb(00, 196, 00)",pointRadius:0,lineTension:0,fill:!1,yAxisID:"EAT"}]},options:{legend:{display:!1},animation:{duration:0},scales:{xAxes:[{ticks:{maxTicksLimit:8}}],yAxes:[{id:"MUT",ticks:{maxTicksLimit:8},position:"left"},{id:"EAT",ticks:{maxTicksLimit:8},position:"right"}]}}}),ad(xi,_i)}function _v(i,n){n.addEventListener("mouseover",l=>{He("over",l,i),y.mouse.overConsole=!0}),n.addEventListener("mousemove",l=>He("move",l,i)),n.addEventListener("mousedown",l=>He("down",l,i)),n.addEventListener("mouseup",l=>He("up",l,i)),n.addEventListener("mouseout",l=>{He("out",l,i),y.mouse.overConsole=!1}),i.addEventListener("mouseover",l=>{He("over",l,i),y.mouse.overMap=!0}),i.addEventListener("mousemove",l=>He("move",l,i)),i.addEventListener("mousedown",l=>He("down",l,i)),i.addEventListener("mouseup",l=>He("up",l,i)),i.addEventListener("mouseout",l=>{He("out",l,i),y.mouse.overMap=!1}),i.addEventListener("wheel",l=>od(l,i),{passive:!1}),document.addEventListener("keydown",l=>ld(l,oo)),document.addEventListener("keyup",l=>ud(l))}function so(){ki.update(),td.update(),nd.update(),!y.pause&&y.stats.time%1e3===0&&rd.update(),hd.update(),y.pause||y.stats.time++,requestAnimationFrame(so)}function oo(){if(y.pause){y.pause=!1;const i=document.getElementById("play-button");i&&(i.src="icons/play.png")}else{y.pause=!0;const i=document.getElementById("play-button");i&&(i.src="icons/pause.png")}}function wv(){y.highlighted=null,y.newest=null,y.scores=new Array(cs),y.animals=new Array(ba),y.graveyard=[];for(let n=0;n<100;n++)y.animals[n]=new sr(N(Math.random()*vt),N(Math.random()*gt),n);y.resetStats(),ns(xi),ns(_i),ki.generate();const i=document.getElementById("dash-live-info");i&&(i.innerHTML="LIVE: "+y.stats.livePop+"     DEAD: "+y.graveyard.length)}function Mv(){y.highlighted=y.newest;const i=document.getElementById("dashboard-stats"),n=document.getElementById("brain");i&&(i.style.display="block"),n&&(n.style.display="block")}function kv(){y.highlighted=y.gold;const i=document.getElementById("dashboard-stats"),n=document.getElementById("brain");i&&(i.style.display="block"),n&&(n.style.display="block")}function Sv(){y.highlighted=y.silver;const i=document.getElementById("dashboard-stats"),n=document.getElementById("brain");i&&(i.style.display="block"),n&&(n.style.display="block")}function Dv(){y.highlighted=y.bronze;const i=document.getElementById("dashboard-stats"),n=document.getElementById("brain");i&&(i.style.display="block"),n&&(n.style.display="block")}function Cv(){const i=JSON.stringify(y.animals),n=JSON.stringify(y.tiles),l=new Blob([`var animals= '${i}'; 

var tiles= '${n}'; `],{type:"application/javascript"}),h=window.URL.createObjectURL(l);console.log("SAVING...");const v=document.getElementById("save-button");v&&(v.href=h,v.download="save.p3")}function Tv(){console.log("Load functionality not yet implemented")}window.init=wi;window.newSimulation=wv;window.pauseSimulation=oo;window.accelerateMutations=fd;window.save=Cv;window.load=Tv;window.highlight_newest=Mv;window.highlight_gold=kv;window.highlight_silver=Sv;window.highlight_bronze=Dv;Object.defineProperty(window,"highlighted",{get:()=>y.highlighted,set:i=>{y.highlighted=i}});Object.defineProperty(window,"leftPressed",{get:()=>y.mouse.leftPressed,set:i=>{y.mouse.leftPressed=i}});Object.defineProperty(window,"graveyard",{get:()=>y.graveyard});Object.defineProperty(window,"animals",{get:()=>y.animals});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",wi):wi()});export default Pv();
